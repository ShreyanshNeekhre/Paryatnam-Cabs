/*! For license information please see main.9672ccbe.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:u,props:i,_owner:o.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=x.prototype=new v;w.constructor=x,m(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var s,i={},a=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,s)&&!S.hasOwnProperty(s)&&(i[s]=t[s]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===i[s]&&(i[s]=l[s]);return{$$typeof:n,type:e,key:a,ref:o,props:i,_owner:N.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+C(l,0):i,b(a)?(s="",null!=e&&(s=e.replace(_,"$&/")+"/"),j(a,t,s,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,s+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",b(e))for(var c=0;c<e.length;c++){var u=i+C(o=e[c],c);l+=j(o,t,s,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=j(o=o.value,t,s,u=i+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],s=0;return j(e,r,"","",function(e){return t.call(n,e,s++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},D={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:D,ReactCurrentOwner:N};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=x,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),i=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,D(k);else{var t=r(u);null!==t&&R(b,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var i=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!j());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),w(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&R(b,d.startTime-n),l=!1}return l}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,S=!1,E=null,T=-1,_=5,C=-1;function j(){return!(t.unstable_now()-C<_)}function I(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?N():(S=!1,E=null)}}else S=!1}if("function"===typeof x)N=function(){x(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,N=function(){A.postMessage(null)}}else N=function(){y(I,0)};function D(e){E=e,S||(S=!0,N())}function R(e,n){T=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,R(b,i-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,D(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,s,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function x(e,t,n,r){var s=g.hasOwnProperty(t)?g[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var V=!1;function U(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=r.stack.split("\n"),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(1!==a||1!==o)do{if(a--,0>--o||s[a]!==i[o]){var l="\n"+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(Wu){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function J(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,Se=null;function Ee(e){if(e=xs(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=bs(t),ke(e.stateNode,e.type,t))}}function Te(e){Ne?Se?Se.push(e):Se=[e]:Ne=e}function _e(){if(Ne){var e=Ne,t=Se;if(Se=Ne=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function je(){}var Ie=!1;function Pe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==Ne||null!==Se)&&(je(),_e())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=bs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){De=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){De=!1}function Oe(e,t,n,r,s,i,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ve=null,Ue={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,s,i,a,o,l){Le=!1,Me=null,Oe.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(i(188))}function We(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var a=s.alternate;if(null===a){if(null!==(r=s.return)){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return qe(s),e;if(a===r)return qe(s),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=s.unstable_scheduleCallback,Qe=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,$e=s.unstable_now,Je=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,it=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~s;0!==o?r=dt(o):0!==(i&=a)&&(r=dt(i))}else 0!==(a=n&~s)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-at(t)),r|=e[n],t&=~s;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var xt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,kt,Nt,St,Et,Tt=!1,_t=[],Ct=null,jt=null,It=null,Pt=new Map,At=new Map,Dt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Lt(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=xs(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=vs(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void Et(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xs(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Tt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==jt&&Ft(jt)&&(jt=null),null!==It&&Ft(It)&&(It=null),Pt.forEach(Vt),At.forEach(Vt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==jt&&Bt(jt,e),null!==It&&Bt(It,e),Pt.forEach(t),At.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Ht=w.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var s=xt,i=Ht.transition;Ht.transition=null;try{xt=1,Gt(e,t,n,r)}finally{xt=s,Ht.transition=i}}function Kt(e,t,n,r){var s=xt,i=Ht.transition;Ht.transition=null;try{xt=4,Gt(e,t,n,r)}finally{xt=s,Ht.transition=i}}function Gt(e,t,n,r){if(qt){var s=Yt(e,t,n,r);if(null===s)qr(e,t,r,Qt,n),Ot(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,s),!0;case"dragenter":return jt=Lt(jt,e,t,n,r,s),!0;case"mouseover":return It=Lt(It,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,At.set(i,Lt(At.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==s;){var i=xs(s);if(null!==i&&bt(i),null===(i=Yt(e,t,n,r))&&qr(e,t,r,Qt,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vs(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,s="value"in $t?$t.value:$t.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=M({},cn,{view:0,detail:0}),hn=sn(dn),fn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},dn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(vn),wn=sn(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function En(){return Sn}var Tn=M({},dn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Tn),Cn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=sn(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=sn(Pn),Dn=[9,13,27,32],Rn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Mn=u&&(!Rn||On&&8<On&&11>=On),Fn=String.fromCharCode(32),Vn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(ws(e)))return e}function Xn(e,t){if("change"===e)return t}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Wn(t,Gn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!d.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=void 0===r.end?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ur(n,i);var a=ur(n,r);s&&a&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,xr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Nr={},Sr={};function Er(e){if(Nr[e])return Nr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Nr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Er("animationend"),_r=Er("animationiteration"),Cr=Er("animationstart"),jr=Er("transitionend"),Ir=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Ir.set(e,t),l(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Rr=Pr[Dr];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(_r,"onAnimationIteration"),Ar(Cr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(jr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ve=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Mr(s,o,c),i=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach(function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var s=Wt;break;case 4:s=Kt;break;default:s=Gt}n=s.bind(null,t,n,e),s=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;a=a.return}for(;null!==o;){if(null===(a=vs(o)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}o=o.parentNode}}r=r.return}Pe(function(){var r=i,s=be(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Tr:case _r:case Cr:l=yn;break;case jr:l=In;break;case"scroll":l=hn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ae(p,h))&&u.push(Wr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,s),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vs(c)&&!c[ps])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vs(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:ws(l),f=null==c?o:ws(c),(o=new u(m,p+"leave",l,n,s)).target=d,o.relatedTarget=f,m=null,vs(s)===r&&((u=new u(h,p+"enter",c,n,s)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=h;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)h=Gr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==d&&Qr(a,d,c,u,!0)}if("select"===(l=(o=r?ws(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(qn(o))if($n)g=ar;else{g=sr;var y=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,s):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?ws(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,wr(a,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(a,n,s)}var v;if(Rn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else zn?Un(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==x?"onCompositionEnd"===x&&zn&&(v=en()):(Jt="value"in($t=s)?$t.value:$t.textContent,zn=!0)),0<(y=Kr(r,x)).length&&(x=new wn(x,e,null,n,s),a.push({event:x,listeners:y}),v?x.data=v:null!==(v=Bn(n))&&(x.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Zt=Jt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(s=new wn("onBeforeInput","beforeinput",null,n,s),a.push({event:s,listeners:r}),s.data=v))}Fr(a,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Ae(e,n))&&r.unshift(Wr(e,i,s)),null!=(i=Ae(e,t))&&r.push(Wr(e,i,s))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Ae(n,i))&&a.unshift(Wr(n,l,o)):s||null!=(l=Ae(n,i))&&a.push(Wr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(i(425))}function Zr(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,as="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function us(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ds=Math.random().toString(36).slice(2),hs="__reactFiber$"+ds,fs="__reactProps$"+ds,ps="__reactContainer$"+ds,ms="__reactEvents$"+ds,gs="__reactListeners$"+ds,ys="__reactHandles$"+ds;function vs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=us(e);null!==e;){if(n=e[hs])return n;e=us(e)}return t}n=(e=n).parentNode}return null}function xs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ws(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function bs(e){return e[fs]||null}var ks=[],Ns=-1;function Ss(e){return{current:e}}function Es(e){0>Ns||(e.current=ks[Ns],ks[Ns]=null,Ns--)}function Ts(e,t){Ns++,ks[Ns]=e.current,e.current=t}var _s={},Cs=Ss(_s),js=Ss(!1),Is=_s;function Ps(e,t){var n=e.type.contextTypes;if(!n)return _s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function As(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ds(){Es(js),Es(Cs)}function Rs(e,t,n){if(Cs.current!==_s)throw Error(i(168));Ts(Cs,t),Ts(js,n)}function Os(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(i(108,H(e)||"Unknown",s));return M({},n,r)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Is=Cs.current,Ts(Cs,e),Ts(js,js.current),!0}function Ms(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Os(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,Es(js),Es(Cs),Ts(Cs,e)):Es(js),Ts(js,n)}var Fs=null,Vs=!1,Us=!1;function Bs(e){null===Fs?Fs=[e]:Fs.push(e)}function zs(){if(!Us&&null!==Fs){Us=!0;var e=0,t=xt;try{var n=Fs;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fs=null,Vs=!1}catch(s){throw null!==Fs&&(Fs=Fs.slice(e+1)),Ge(Ze,zs),s}finally{xt=t,Us=!1}}return null}var Hs=[],qs=0,Ws=null,Ks=0,Gs=[],Qs=0,Ys=null,Xs=1,$s="";function Js(e,t){Hs[qs++]=Ks,Hs[qs++]=Ws,Ws=e,Ks=t}function Zs(e,t,n){Gs[Qs++]=Xs,Gs[Qs++]=$s,Gs[Qs++]=Ys,Ys=e;var r=Xs;e=$s;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Xs=1<<32-at(t)+s|n<<s|r,$s=i+e}else Xs=1<<i|n<<s|r,$s=e}function ei(e){null!==e.return&&(Js(e,1),Zs(e,1,0))}function ti(e){for(;e===Ws;)Ws=Hs[--qs],Hs[qs]=null,Ks=Hs[--qs],Hs[qs]=null;for(;e===Ys;)Ys=Gs[--Qs],Gs[Qs]=null,$s=Gs[--Qs],Gs[Qs]=null,Xs=Gs[--Qs],Gs[Qs]=null}var ni=null,ri=null,si=!1,ii=null;function ai(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Xs,overflow:$s}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ri;if(t){var n=t;if(!oi(e,t)){if(li(e))throw Error(i(418));t=cs(n.nextSibling);var r=ni;t&&oi(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!si)return ui(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ri)){if(li(e))throw hi(),Error(i(418));for(;t;)ai(e,t),t=cs(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ri;e;)e=cs(e.nextSibling)}function fi(){ri=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var mi=w.ReactCurrentBatchConfig;function gi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var s=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=s.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vi(e){return(0,e._init)(e._payload)}function xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===A&&vi(i)===t.type)?((r=s(t,n.props)).ref=gi(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=gi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=gi(e,null,t),n.return=e,n;case k:return(t=Fc(t,e.mode,n)).return=e,t;case A:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function f(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===s?c(e,t,n,r):null;case k:return n.key===s?u(e,t,n,r):null;case A:return f(e,t,(s=n._init)(n._payload),r)}if(te(n)||O(n))return null!==s?null:d(e,t,n,r,null);yi(e,n)}return null}function p(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case A:return p(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,s,null);yi(t,r)}return null}function m(s,i,o,l){for(var c=null,u=null,d=i,m=i=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(s,d,o[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(s,d),i=a(y,i,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===o.length)return n(s,d),si&&Js(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(i=a(d,i,m),null===u?c=d:u.sibling=d,u=d);return si&&Js(s,m),c}for(d=r(s,d);m<o.length;m++)null!==(g=p(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),si&&Js(s,m),c}function g(s,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(i(150));if(null==(l=u.call(l)))throw Error(i(151));for(var d=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=f(s,m,v.value,c);if(null===x){null===m&&(m=y);break}e&&m&&null===x.alternate&&t(s,m),o=a(x,o,g),null===d?u=x:d.sibling=x,d=x,m=y}if(v.done)return n(s,m),si&&Js(s,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(s,v.value,c))&&(o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return si&&Js(s,g),u}for(m=r(s,m);!v.done;g++,v=l.next())null!==(v=p(m,s,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(s,e)}),si&&Js(s,g),u}return function e(r,i,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var c=a.key,u=i;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(i=s(u,a.props.children)).return=r,r=i;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&vi(c)===u.type){n(r,u.sibling),(i=s(u,a.props)).ref=gi(r,u,a),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((i=Oc(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=gi(r,i,a),l.return=r,r=l)}return o(r);case k:e:{for(u=a.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=s(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Fc(a,r.mode,l)).return=r,r=i}return o(r);case A:return e(r,i,(u=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(O(a))return g(r,i,a,l);yi(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=s(i,a)).return=r,r=i):(n(r,i),(i=Mc(a,r.mode,l)).return=r,r=i),o(r)):n(r,i)}}var wi=xi(!0),bi=xi(!1),ki=Ss(null),Ni=null,Si=null,Ei=null;function Ti(){Ei=Si=Ni=null}function _i(e){var t=ki.current;Es(ki),e._currentValue=t}function Ci(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){Ni=e,Ei=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xo=!0),e.firstContext=null)}function Ii(e){var t=e._currentValue;if(Ei!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ni)throw Error(i(308));Si=e,Ni.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Pi=null;function Ai(e){null===Pi?Pi=[e]:Pi.push(e)}function Di(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ai(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ri(e,r)}function Ri(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ri(e,n)}return null===(s=r.interleaved)?(t.next=t,Ai(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ri(e,n)}function Ui(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=M({},d,h);break e;case 2:Oi=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null!==(t=s.shared.interleaved)){s=t;do{a|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(i(191,s));s.call(r)}}}var qi={},Wi=Ss(qi),Ki=Ss(qi),Gi=Ss(qi);function Qi(e){if(e===qi)throw Error(i(174));return e}function Yi(e,t){switch(Ts(Gi,t),Ts(Ki,e),Ts(Wi,qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Es(Wi),Ts(Wi,t)}function Xi(){Es(Wi),Es(Ki),Es(Gi)}function $i(e){Qi(Gi.current);var t=Qi(Wi.current),n=le(t,e.type);t!==n&&(Ts(Ki,e),Ts(Wi,n))}function Ji(e){Ki.current===e&&(Es(Wi),Es(Ki))}var Zi=Ss(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,sa=w.ReactCurrentBatchConfig,ia=0,aa=null,oa=null,la=null,ca=!1,ua=!1,da=0,ha=0;function fa(){throw Error(i(321))}function pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,s,a){if(ia=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Ja:Za,e=n(r,s),ua){a=0;do{if(ua=!1,da=0,25<=a)throw Error(i(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,s)}while(ua)}if(ra.current=$a,t=null!==oa&&null!==oa.next,ia=0,la=oa=aa=null,ca=!1,t)throw Error(i(300));return e}function ga(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function va(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(i(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function xa(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=oa,s=r.baseQueue,a=n.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(null!==s){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ia&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,aa.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(xo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{a=s.lane,aa.lanes|=a,Ll|=a,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);or(a,t.memoizedState)||(xo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ka(){}function Na(e,t){var n=aa,r=va(),s=t(),a=!or(r.memoizedState,s);if(a&&(r.memoizedState=s,xo=!0),r=r.queue,Oa(Ta.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ia(9,Ea.bind(null,n,r,s,t),void 0,null),null===jl)throw Error(i(349));0!==(30&ia)||Sa(n,t,s)}return s}function Sa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&Ca(e)}function Ta(e,t,n){return n(function(){_a(t)&&Ca(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ca(e){var t=Ri(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return va().memoizedState}function Aa(e,t,n,r){var s=ya();aa.flags|=e,s.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Da(e,t,n,r){var s=va();r=void 0===r?null:r;var i=void 0;if(null!==oa){var a=oa.memoizedState;if(i=a.destroy,null!==r&&pa(r,a.deps))return void(s.memoizedState=Ia(t,n,i,r))}aa.flags|=e,s.memoizedState=Ia(1|t,n,i,r)}function Ra(e,t){return Aa(8390656,8,e,t)}function Oa(e,t){return Da(2048,8,e,t)}function La(e,t){return Da(4,2,e,t)}function Ma(e,t){return Da(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Va(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Da(4,4,Fa.bind(null,t,e),n)}function Ua(){}function Ba(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function za(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&ia)?(e.baseState&&(e.baseState=!1,xo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),aa.lanes|=n,Ll|=n,e.baseState=!0),t)}function qa(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{xt=n,sa.transition=r}}function Wa(){return va().memoizedState}function Ka(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Ya(t,n);else if(null!==(n=Di(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ga(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Ya(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(s.next=s,Ai(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Di(e,t,s,r))&&(nc(n,e,r,s=ec()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Ya(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var $a={readContext:Ii,useCallback:fa,useContext:fa,useEffect:fa,useImperativeHandle:fa,useInsertionEffect:fa,useLayoutEffect:fa,useMemo:fa,useReducer:fa,useRef:fa,useState:fa,useDebugValue:fa,useDeferredValue:fa,useTransition:fa,useMutableSource:fa,useSyncExternalStore:fa,useId:fa,unstable_isNewReconciler:!1},Ja={readContext:Ii,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ii,useEffect:Ra,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Aa(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Aa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Aa(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:ja,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=qa.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,s=ya();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===jl)throw Error(i(349));0!==(30&ia)||Sa(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Ra(Ta.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ea.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=jl.identifierPrefix;if(si){var n=$s;t=":"+t+"R"+(n=(Xs&~(1<<32-at(Xs)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Ii,useCallback:Ba,useContext:Ii,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:za,useReducer:wa,useRef:Pa,useState:function(){return wa(xa)},useDebugValue:Ua,useDeferredValue:function(e){return Ha(va(),oa.memoizedState,e)},useTransition:function(){return[wa(xa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Wa,unstable_isNewReconciler:!1},eo={readContext:Ii,useCallback:Ba,useContext:Ii,useEffect:Oa,useImperativeHandle:Va,useInsertionEffect:La,useLayoutEffect:Ma,useMemo:za,useReducer:ba,useRef:Pa,useState:function(){return ba(xa)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===oa?t.memoizedState=e:Ha(t,oa.memoizedState,e)},useTransition:function(){return[ba(xa)[0],va().memoizedState]},useMutableSource:ka,useSyncExternalStore:Na,useId:Wa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),i=Fi(r,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Vi(e,i,s))&&(nc(t,e,s,r),Ui(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Fi(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Vi(e,s,r))&&(nc(t,e,r,n),Ui(t,e,r))}};function so(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,i))}function io(e,t,n){var r=!1,s=_s,i=t.contextType;return"object"===typeof i&&null!==i?i=Ii(i):(s=As(t)?Is:Cs.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ps(e,s):_s),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ao(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ii(i):(i=As(t)?Is:Cs.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(no(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),zi(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Wl=r),uo(0,t)},n}function po(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,Vi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var vo=w.ReactCurrentOwner,xo=!1;function wo(e,t,n,r){t.child=null===e?bi(t,null,n,r):wi(t,e.child,n,r)}function bo(e,t,n,r,s){n=n.render;var i=t.ref;return ji(t,s),r=ma(e,t,n,r,i,s),n=ga(),null===e||xo?(si&&n&&ei(t),t.flags|=1,wo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function ko(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Ac(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,No(e,t,i,r,s))}if(i=e.child,0===(e.lanes&s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,s)}return t.flags|=1,(e=Dc(i,r)).ref=t.ref,e.return=t,t.child=e}function No(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xo=!1,t.pendingProps=r=i,0===(e.lanes&s))return t.lanes=e.lanes,qo(e,t,s);0!==(131072&e.flags)&&(xo=!0)}}return To(e,t,n,r,s)}function So(e,t,n){var r=t.pendingProps,s=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ts(Dl,Al),Al|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ts(Dl,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ts(Dl,Al),Al|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ts(Dl,Al),Al|=r;return wo(e,t,s,n),t.child}function Eo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function To(e,t,n,r,s){var i=As(n)?Is:Cs.current;return i=Ps(t,i),ji(t,s),n=ma(e,t,n,r,i,s),r=ga(),null===e||xo?(si&&r&&ei(t),t.flags|=1,wo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qo(e,t,s))}function _o(e,t,n,r,s){if(As(n)){var i=!0;Ls(t)}else i=!1;if(ji(t,s),null===t.stateNode)Ho(e,t),io(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ii(c):c=Ps(t,c=As(n)?Is:Cs.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&ao(t,a,r,c),Oi=!1;var h=t.memoizedState;a.state=h,zi(t,r,a,s),l=t.memoizedState,o!==r||h!==l||js.current||Oi?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Oi||so(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Mi(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ii(l):l=Ps(t,l=As(n)?Is:Cs.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&ao(t,a,r,l),Oi=!1,h=t.memoizedState,a.state=h,zi(t,r,a,s);var p=t.memoizedState;o!==d||h!==p||js.current||Oi?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Oi||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,i,s)}function Co(e,t,n,r,s,i){Eo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return s&&Ms(t,n,!1),qo(e,t,i);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,o,i)):wo(e,t,o,i),t.memoizedState=r.state,s&&Ms(t,n,!0),t.child}function jo(e){var t=e.stateNode;t.pendingContext?Rs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rs(0,t.context,!1),Yi(e,t.containerInfo)}function Io(e,t,n,r,s){return fi(),pi(s),t.flags|=256,wo(e,t,n,r),t.child}var Po,Ao,Do,Ro,Oo={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mo(e,t,n){var r,s=t.pendingProps,a=Zi.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ts(Zi,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,s,0,null),e=Oc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Oo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,s,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=co(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Lc({mode:"visible",children:r.children},s,0,null),(a=Oc(a,s,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=co(a=Error(i(419)),r,void 0))}if(l=0!==(o&e.childLanes),xo||l){if(null!==(r=jl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==a.retryLane&&(a.retryLane=s,Ri(e,s),nc(r,e,s,-1))}return mc(),Vo(e,t,o,r=co(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ri=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Gs[Qs++]=Xs,Gs[Qs++]=$s,Gs[Qs++]=Ys,Xs=e.id,$s=e.overflow,Ys=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,a,n);if(o){o=s.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==a?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Dc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Dc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,s}return e=(o=e.child).sibling,s=Dc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Fo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&pi(r),wi(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ci(e.return,t,n)}function Bo(e,t,n,r,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zo(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zi.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ts(Zi,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Bo(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ea(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Bo(t,!0,n,null,i);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Go(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return As(t.type)&&Ds(),Ko(t),null;case 3:return r=t.stateNode,Xi(),Es(js),Es(Cs),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(ac(ii),ii=null))),Ao(e,t),Ko(t),null;case 5:Ji(t);var s=Qi(Gi.current);if(n=t.type,null!==e&&null!=t.stateNode)Do(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ko(t),null}if(e=Qi(Wi.current),di(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hs]=t,r[fs]=a,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(s=0;s<Or.length;s++)Vr(Or[s],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,a),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Vr("invalid",r);break;case"textarea":se(r,a),Vr("invalid",r)}for(var l in ve(n,a),s=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[fs]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),s=r;break;case"iframe":case"object":case"embed":Vr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Or.length;s++)Vr(Or[s],e);s=r;break;case"source":Vr("error",e),s=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),s=r;break;case"details":Vr("toggle",e),s=r;break;case"input":X(e,r),s=Y(e,r),Vr("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=M({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Vr("invalid",e)}for(a in ve(n,s),c=s)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Vr("scroll",e):null!=u&&x(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Qi(Gi.current),Qi(Wi.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(a=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Ko(t),null;case 13:if(Es(Zi),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[hs]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ii&&(ac(ii),ii=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Rl&&(Rl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Xi(),Ao(e,t),null===e&&zr(t.stateNode.containerInfo),Ko(t),null;case 10:return _i(t.type._context),Ko(t),null;case 19:if(Es(Zi),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Wo(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Wo(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ts(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>zl&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!si)return Ko(t),null}else 2*$e()-a.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,n=Zi.current,Ts(Zi,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Al)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Qo(e,t){switch(ti(t),t.tag){case 1:return As(t.type)&&Ds(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Es(js),Es(Cs),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Es(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Es(Zi),null;case 4:return Xi(),null;case 10:return _i(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ao=function(){},Do=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Qi(Wi.current);var i,a=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),a=[];break;case"select":s=M({},s,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":s=re(e,s),r=re(e,r),a=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&null!=s[u])if("style"===u){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=s?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ro=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&el(t,n,i)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[fs],delete t[ms],delete t[gs],delete t[ys])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||Zo(n,t);case 6:var r=ul,s=dl;ul=null,hl(e,t,n),dl=s,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),zt(e)):ls(ul,n.stateNode));break;case 4:r=ul,s=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=s;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&el(n,t,a),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Xo&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Sc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,hl(e,t,n),Xo=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(i(160));fl(a,o,s),ul=null,dl=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(u){Sc(s,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Sc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(s=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(s,a),xe(l,o);var u=xe(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(s,h):"dangerouslySetInnerHTML"===d?de(s,h):"children"===d?he(s,h):x(s,d,h,u)}switch(l){case"input":J(s,a);break;case"textarea":ie(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(s,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(s,!!a.multiple,a.defaultValue,!0):ne(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(g){Sc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Sc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(s=e.child).flags&&(a=null!==s.memoizedState,s.stateNode.isHidden=a,!a||null!==s.alternate&&null!==s.alternate.memoizedState||(Bl=$e())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Jo=e,d=e.child;null!==d;){for(h=Jo=d;null!==Jo;){switch(p=(f=Jo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){bl(h);continue}}null!==p?(p.return=f,Jo=p):bl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{s=h.stateNode,u?"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Sc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,ol(e),a);break;default:throw Error(i(161))}}catch(o){Sc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Jo=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var s=Jo,i=s.child;if(22===s.tag&&r){var a=null!==s.memoizedState||Yo;if(!a){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for(Jo=s;null!==Jo;)l=(a=Jo).child,22===a.tag&&null!==a.memoizedState?kl(s):null!==l?(l.return=a,Jo=l):kl(s);for(;null!==i;)Jo=i,xl(i,t,n),i=i.sibling;Jo=s,Yo=o,Xo=c}wl(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Jo=i):wl(e)}}function wl(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Hi(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(i(163))}Xo||512&t.flags&&sl(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function bl(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function kl(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Sc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Sc(t,s,l)}}var i=t.return;try{sl(t)}catch(l){Sc(t,i,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Sc(t,a,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var Nl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,_l=w.ReactCurrentBatchConfig,Cl=0,jl=null,Il=null,Pl=0,Al=0,Dl=Ss(0),Rl=0,Ol=null,Ll=0,Ml=0,Fl=0,Vl=null,Ul=null,Bl=0,zl=1/0,Hl=null,ql=!1,Wl=null,Kl=null,Gl=!1,Ql=null,Yl=0,Xl=0,$l=null,Jl=-1,Zl=0;function ec(){return 0!==(6&Cl)?$e():-1!==Jl?Jl:Jl=$e()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Pl?Pl&-Pl:null!==mi.transition?(0===Zl&&(Zl=mt()),Zl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(i(185));yt(e,n,r),0!==(2&Cl)&&e===jl||(e===jl&&(0===(2&Cl)&&(Ml|=n),4===Rl&&oc(e,Pl)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(zl=$e()+500,Vs&&zs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}(e,t);var r=ht(e,e===jl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vs=!0,Bs(e)}(lc.bind(null,e)):Bs(lc.bind(null,e)),as(function(){0===(6&Cl)&&zs()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Jl=-1,Zl=0,0!==(6&Cl))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var s=Cl;Cl|=2;var a=pc();for(jl===e&&Pl===t||(Hl=null,zl=$e()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ti(),El.current=a,Cl=s,null!==Il?t=0:(jl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(r=s,t=ic(e,s))),1===t)throw n=Ol,hc(e,0),oc(e,r),rc(e,$e()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!or(i(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ic(e,a))),1===t))throw n=Ol,hc(e,0),oc(e,r),rc(e,$e()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:bc(e,Ul,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Bl+500-$e())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(bc.bind(null,e,Ul,Hl),t);break}bc(e,Ul,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>s&&(s=o),r&=~a}if(r=s,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=rs(bc.bind(null,e,Ul,Hl),r);break}bc(e,Ul,Hl);break;default:throw Error(i(329))}}}return rc(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Ul,Ul=n,null!==t&&ac(t)),e}function ac(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function oc(e,t){for(t&=~Fl,t&=~Ml,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,$e()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ol,hc(e,0),oc(e,t),rc(e,$e()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Ul,Hl),rc(e,$e()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(zl=$e()+500,Vs&&zs())}}function uc(e){null!==Ql&&0===Ql.tag&&0===(6&Cl)&&kc();var t=Cl;Cl|=1;var n=_l.transition,r=xt;try{if(_l.transition=null,xt=1,e)return e()}finally{xt=r,_l.transition=n,0===(6&(Cl=t))&&zs()}}function dc(){Al=Dl.current,Es(Dl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ds();break;case 3:Xi(),Es(js),Es(Cs),na();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:Es(Zi);break;case 10:_i(r.type._context);break;case 22:case 23:dc()}n=n.return}if(jl=e,Il=e=Dc(e.current,null),Pl=Al=t,Rl=0,Ol=null,Fl=Ml=Ll=0,Ul=Vl=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(r=(n=Pi[t]).interleaved)){n.interleaved=null;var s=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=s,r.next=a}n.pending=r}Pi=null}return e}function fc(e,t){for(;;){var n=Il;try{if(Ti(),ra.current=$a,ca){for(var r=aa.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ca=!1}if(ia=0,la=oa=aa=null,ua=!1,da=0,Tl.current=null,null===n||null===n.return){Rl=1,Ol=t,Il=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(i(426))}else if(si&&1&l.mode){var y=go(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),yo(y,o,l,0,t),pi(lo(c,l));break e}}a=c=lo(c,l),4!==Rl&&(Rl=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,x=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Kl||!Kl.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t,Bi(a,po(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=$a,null===e?$a:e}function mc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===jl||0===(268435455&Ll)&&0===(268435455&Ml)||oc(jl,Pl)}function gc(e,t){var n=Cl;Cl|=2;var r=pc();for(jl===e&&Pl===t||(Hl=null,hc(e,t));;)try{yc();break}catch(s){fc(e,s)}if(Ti(),Cl=n,El.current=r,null!==Il)throw Error(i(261));return jl=null,Pl=0,Rl}function yc(){for(;null!==Il;)xc(Il)}function vc(){for(;null!==Il&&!Ye();)xc(Il)}function xc(e){var t=Nl(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Go(n,t,Al)))return void(Il=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function bc(e,t,n){var r=xt,s=_l.transition;try{_l.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==Ql);if(0!==(6&Cl))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}(e,a),e===jl&&(Il=jl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,jc(tt,function(){return kc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=_l.transition,_l.transition=null;var o=xt;xt=1;var l=Cl;Cl|=4,Tl.current=null,function(e,t){if(es=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===s&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},qt=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ts),qt=!!es,ts=es=null,e.current=n,vl(n,e,s),Xe(),Cl=l,xt=o,_l.transition=a}else e.current=n;if(Gl&&(Gl=!1,Ql=e,Yl=s),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ql)throw ql=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zs()}(e,t,n,r)}finally{_l.transition=s,xt=r}return null}function kc(){if(null!==Ql){var e=wt(Yl),t=_l.transition,n=xt;try{if(_l.transition=null,xt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Cl))throw Error(i(331));var s=Cl;for(Cl|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Jo=u;null!==Jo;){var d=Jo;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Jo=h;else for(;null!==Jo;){var f=(d=Jo).sibling,p=d.return;if(il(d),d===u){Jo=null;break}if(null!==f){f.return=p,Jo=f;break}Jo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Jo=v;break e}Jo=a.return}}var x=e.current;for(Jo=x;null!==Jo;){var w=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Jo=w;else e:for(o=x;null!==Jo;){if(0!==(2048&(l=Jo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Sc(l,l.return,k)}if(l===o){Jo=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Jo=b;break e}Jo=l.return}}if(Cl=s,zs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(k){}r=!0}return r}finally{xt=n,_l.transition=t}}return!1}function Nc(e,t,n){e=Vi(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Vi(t,e=po(t,e=lo(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>$e()-Bl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ri(e,t))&&(yt(e,t,n),rc(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tc(e,n)}function jc(e,t){return Ge(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,s,a){var o=2;if(r=e,"function"===typeof e)Ac(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Oc(n.children,s,a,t);case S:o=8,s|=8;break;case E:return(e=Pc(12,n,t,2|s)).elementType=E,e.lanes=a,e;case j:return(e=Pc(13,n,t,s)).elementType=j,e.lanes=a,e;case I:return(e=Pc(19,n,t,s)).elementType=I,e.lanes=a,e;case D:return Lc(n,s,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case _:o=9;break e;case C:o=11;break e;case P:o=14;break e;case A:o=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,s,i,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Bc(e){if(!e)return _s;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(As(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(As(n))return Os(e,n,t)}return t}function zc(e,t,n,r,s,i,a,o,l){return(e=Uc(n,r,!0,e,0,i,0,o,l)).context=Bc(null),n=e.current,(i=Fi(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Vi(n,i,s),e.current.lanes=s,yt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,i=ec(),a=tc(s);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vi(s,t,a))&&(nc(e,s,a,i),Ui(e,s,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||js.current)xo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xo=!1,function(e,t,n){switch(t.tag){case 3:jo(t),fi();break;case 5:$i(t);break;case 1:As(t.type)&&Ls(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ts(ki,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ts(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mo(e,t,n):(Ts(Zi,1&Zi.current),null!==(e=qo(e,t,n))?e.sibling:null);Ts(Zi,1&Zi.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ts(Zi,Zi.current),r)break;return null;case 22:case 23:return t.lanes=0,So(e,t,n)}return qo(e,t,n)}(e,t,n);xo=0!==(131072&e.flags)}else xo=!1,si&&0!==(1048576&t.flags)&&Zs(t,Ks,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var s=Ps(t,Cs.current);ji(t,n),s=ma(null,t,r,e,s,n);var a=ga();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,As(r)?(a=!0,Ls(t)):a=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,si&&a&&ei(t),wo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=to(r,e),s){case 0:t=To(null,t,r,e,n);break e;case 1:t=_o(null,t,r,e,n);break e;case 11:t=bo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,To(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,_o(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(jo(t),null===e)throw Error(i(387));r=t.pendingProps,s=(a=t.memoizedState).element,Mi(e,t),zi(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Io(e,t,r,n,s=lo(Error(i(423)),t));break e}if(r!==s){t=Io(e,t,r,n,s=lo(Error(i(424)),t));break e}for(ri=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=bi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===s){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return $i(t),null===e&&ci(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==a&&ns(r,a)&&(t.flags|=32),Eo(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Mo(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,bo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Ts(ki,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===s.children&&!js.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fi(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ci(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ci(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ji(t,n),r=r(s=Ii(s)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),ko(e,t,r,s=to(r.type,s),n);case 15:return No(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Ho(e,t),t.tag=1,As(r)?(e=!0,Ls(t)):e=!1,ji(t,n),io(t,r,s),oo(t,r,s,n),Co(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return So(e,t,n)}throw Error(i(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Zc(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if("function"===typeof s){var o=s;s=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,s)}else a=function(e,t,n,r,s){if(s){if("function"===typeof r){var i=r;r=function(){var e=qc(a);i.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[ps]=a.current,zr(8===e.nodeType?e.parentNode:e),uc(),a}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[ps]=l.current,zr(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,l,n,r)}),l}(n,t,e,s,r);return qc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,$e()),0===(6&Cl)&&(zl=$e()+500,zs()))}break;case 13:uc(function(){var t=Ri(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=Ri(e,134217728);if(null!==t)nc(t,e,134217728,ec());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Ri(e,t);if(null!==n)nc(n,e,t,ec());Kc(e,t)}},St=function(){return xt},Et=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bs(r);if(!s)throw Error(i(90));G(r),J(r,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,je=uc;var eu={usingClientEntryPoint:!1,Events:[xs,ws,bs,Te,_e,cc]},tu={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{st=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,r="",s=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,s),e[ps]=t.current,zr(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,s=!1,a="",o=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,s,0,a,o),e[ps]=t.current,zr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(i(40));return!!e._reactRootContainer&&(uc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,s=n(43),i=n.t(s,2),a=n(391),o=n(950),l=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const u="popstate";function d(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function y(e,t,n,s){void 0===s&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,o=i.history,l=r.Pop,h=null,g=y();function y(){return(o.state||{idx:null}).idx}function v(){l=r.Pop;let e=y(),t=null==e?null:e-g;g=e,h&&h({action:l,location:w.location,delta:t})}function x(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),d(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(c({},o.state,{idx:g}),""));let w={get action(){return l},get location(){return e(i,o)},listen(e){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(u,v),h=e,()=>{i.removeEventListener(u,v),h=null}},createHref:e=>t(i,e),createURL:x,encodeLocation(e){let t=x(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=r.Push;let s=p(w.location,e,t);n&&n(s,e),g=y()+1;let c=f(s,g),u=w.createHref(s);try{o.pushState(c,"",u)}catch(d){if(d instanceof DOMException&&"DataCloneError"===d.name)throw d;i.location.assign(u)}a&&h&&h({action:l,location:w.location,delta:1})},replace:function(e,t){l=r.Replace;let s=p(w.location,e,t);n&&n(s,e),g=y();let i=f(s,g),c=w.createHref(s);o.replaceState(i,"",c),a&&h&&h({action:l,location:w.location,delta:0})},go:e=>o.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),w(e,t,n,!1)}function w(e,t,n,r){let s=R(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=b(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=D(s);a=P(i[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let s=(e,s,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};a.relativePath.startsWith("/")&&(d(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=V([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(d(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:I(o,e.index),routesMeta:l})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of k(e.path))s(e,t,r);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=k(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}const N=/^:[\w-]+$/,S=3,E=2,T=1,_=10,C=-2,j=e=>"*"===e;function I(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=C),t&&(r+=E),n.filter(e=>!j(e)).reduce((e,t)=>e+(N.test(t)?S:""===t?T:_),r)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:V([i,u.pathname]),pathnameBase:U(V([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=V([i,u.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,r]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function D(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function M(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function F(e,t,n,r){let s;void 0===r&&(r=!1),"string"===typeof e?s=g(e):(s=c({},e),d(!s.pathname||!s.pathname.includes("?"),O("?","pathname","search",s)),d(!s.pathname||!s.pathname.includes("#"),O("#","pathname","hash",s)),d(!s.search||!s.search.includes("#"),O("#","search","hash",s)));let i,a=""===e||""===s.pathname,o=a?"/":s.pathname;if(null==o)i=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:B(r),hash:z(s)}}(s,i),u=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!h||(l.pathname+="/"),l}const V=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),B=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function H(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const q=["post","put","patch","delete"],W=(new Set(q),["get",...q]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}const G=s.createContext(null);const Q=s.createContext(null);const Y=s.createContext(null);const X=s.createContext(null);const $=s.createContext({outlet:null,matches:[],isDataRoute:!1});const J=s.createContext(null);function Z(){return null!=s.useContext(X)}function ee(){return Z()||d(!1),s.useContext(X).location}function te(e){s.useContext(Y).static||s.useLayoutEffect(e)}function ne(){let{isDataRoute:e}=s.useContext($);return e?function(){let{router:e}=de(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=s.useRef(!1);te(()=>{n.current=!0});let r=s.useCallback(function(r,s){void 0===s&&(s={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,K({fromRouteId:t},s)))},[e,t]);return r}():function(){Z()||d(!1);let e=s.useContext(G),{basename:t,future:n,navigator:r}=s.useContext(Y),{matches:i}=s.useContext($),{pathname:a}=ee(),o=JSON.stringify(M(i,n.v7_relativeSplatPath)),l=s.useRef(!1);return te(()=>{l.current=!0}),s.useCallback(function(n,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof n)return void r.go(n);let i=F(n,JSON.parse(o),a,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:V([t,i.pathname])),(s.replace?r.replace:r.push)(i,s.state,s)},[t,r,o,a,e])}()}function re(e,t,n,i){Z()||d(!1);let{navigator:a}=s.useContext(Y),{matches:o}=s.useContext($),l=o[o.length-1],c=l?l.params:{},u=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,f=ee();if(t){var p;let e="string"===typeof t?g(t):t;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||d(!1),h=e}else h=f;let m=h.pathname||"/",y=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=x(e,{pathname:y});let w=le(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:V([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:V([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),o,n,i);return t&&w?s.createElement(X.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:r.Pop}},w):w}function se(){let e=function(){var e;let t=s.useContext(J),n=he(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=H(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return s.createElement(s.Fragment,null,s.createElement("h2",null,"Unexpected Application Error!"),s.createElement("h3",{style:{fontStyle:"italic"}},t),n?s.createElement("pre",{style:i},n):null,null)}const ie=s.createElement(se,null);class ae extends s.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?s.createElement($.Provider,{value:this.props.routeContext},s.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:r}=e,i=s.useContext(G);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),s.createElement($.Provider,{value:t},r)}function le(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(i=n)?void 0:i.errors;if(null!=l){let e=o.findIndex(e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id]));e>=0||d(!1),o=o.slice(0,Math.min(o.length,e+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let s=0;s<o.length;s++){let e=o[s];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=s),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){c=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight((e,r,i)=>{let a,d=!1,h=null,f=null;var p;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ie,c&&(u<0&&0===i?(p="route-fallback",!1||pe[p]||(pe[p]=!0),d=!0,f=null):u===i&&(d=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,i+1)),g=()=>{let t;return t=a?h:d?f:r.route.Component?s.createElement(r.route.Component,null):r.route.element?r.route.element:e,s.createElement(oe,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?s.createElement(ae,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function de(e){let t=s.useContext(G);return t||d(!1),t}function he(e){let t=s.useContext(Q);return t||d(!1),t}function fe(e){let t=function(){let e=s.useContext($);return e||d(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||d(!1),n.route.id}const pe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function ge(e){d(!1)}function ye(e){let{basename:t="/",children:n=null,location:i,navigationType:a=r.Pop,navigator:o,static:l=!1,future:c}=e;Z()&&d(!1);let u=t.replace(/^\/*/,"/"),h=s.useMemo(()=>({basename:u,navigator:o,static:l,future:K({v7_relativeSplatPath:!1},c)}),[u,c,o,l]);"string"===typeof i&&(i=g(i));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:v="default"}=i,x=s.useMemo(()=>{let e=R(f,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:y,key:v},navigationType:a}},[u,f,p,m,y,v,a]);return null==x?null:s.createElement(Y.Provider,{value:h},s.createElement(X.Provider,{children:n,value:x}))}function ve(e){let{children:t,location:n}=e;return re(xe(t),n)}new Promise(()=>{});s.Component;function xe(e,t){void 0===t&&(t=[]);let n=[];return s.Children.forEach(e,(e,r)=>{if(!s.isValidElement(e))return;let i=[...t,r];if(e.type===s.Fragment)return void n.push.apply(n,xe(e.props.children,i));e.type!==ge&&d(!1),e.props.index&&e.props.children&&d(!1);let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=xe(e.props.children,i)),n.push(a)}),n}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(rN){}new Map;const we=i.startTransition;l.flushSync,i.useId;function be(e){let{basename:t,children:n,future:r,window:i}=e,a=s.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:i,v5Compat:!0})&&(o={}),y(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return p("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,o)));let l=a.current,[c,u]=s.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},h=s.useCallback(e=>{d&&we?we(()=>u(e)):u(e)},[u,d]);return s.useLayoutEffect(()=>l.listen(h),[l,h]),s.useEffect(()=>me(r),[r]),s.createElement(ye,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var ke,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ke||(ke={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ee(e){var t=function(e,t){if("object"!=Se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Se(t)?t:t+""}function Te(e,t,n){return(t=Ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach(function(t){Te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const je=(0,s.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Ie=(0,s.createContext)({}),Pe=(0,s.createContext)(null),Ae="undefined"!==typeof document,De=Ae?s.useLayoutEffect:s.useEffect,Re=(0,s.createContext)({strict:!1}),Oe=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Le="data-"+Oe("framerAppearId");function Me(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Fe(e){return"string"===typeof e||Array.isArray(e)}function Ve(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}const Ue=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Be=["initial",...Ue];function ze(e){return Ve(e.animate)||Be.some(t=>Fe(e[t]))}function He(e){return Boolean(ze(e)||e.variants)}function qe(e){const{initial:t,animate:n}=function(e,t){if(ze(e)){const{initial:t,animate:n}=e;return{initial:!1===t||Fe(t)?t:void 0,animate:Fe(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,s.useContext)(Ie));return(0,s.useMemo)(()=>({initial:t,animate:n}),[We(t),We(n)])}function We(e){return Array.isArray(e)?e.join(" "):e}const Ke={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ge={};for(const iN in Ke)Ge[iN]={isEnabled:e=>Ke[iN].some(t=>!!e[t])};const Qe=(0,s.createContext)({}),Ye=(0,s.createContext)({}),Xe=Symbol.for("motionComponentSymbol");function $e(e){let{preloadedFeatures:t,createVisualElement:n,useRender:r,useVisualState:i,Component:a}=e;t&&function(e){for(const t in e)Ge[t]=Ce(Ce({},Ge[t]),e[t])}(t);const o=(0,s.forwardRef)(function(e,o){let l;const c=Ce(Ce(Ce({},(0,s.useContext)(je)),e),{},{layoutId:Je(e)}),{isStatic:u}=c,d=qe(e),h=i(e,u);if(!u&&Ae){d.visualElement=function(e,t,n,r){const{visualElement:i}=(0,s.useContext)(Ie),a=(0,s.useContext)(Re),o=(0,s.useContext)(Pe),l=(0,s.useContext)(je).reducedMotion,c=(0,s.useRef)();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const u=c.current;(0,s.useInsertionEffect)(()=>{u&&u.update(n,o)});const d=(0,s.useRef)(Boolean(n[Le]&&!window.HandoffComplete));return De(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),(0,s.useEffect)(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}(a,h,c,n);const e=(0,s.useContext)(Ye),r=(0,s.useContext)(Re).strict;d.visualElement&&(l=d.visualElement.loadFeatures(c,r,t,e))}return s.createElement(Ie.Provider,{value:d},l&&d.visualElement?s.createElement(l,Ce({visualElement:d.visualElement},c)):null,r(a,e,function(e,t,n){return(0,s.useCallback)(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):Me(n)&&(n.current=r))},[t])}(h,d.visualElement,o),h,u,d.visualElement))});return o[Xe]=a,o}function Je(e){let{layoutId:t}=e;const n=(0,s.useContext)(Qe).id;return n&&void 0!==t?n+"-"+t:t}function Ze(e){function t(t){return $e(e(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}if("undefined"===typeof Proxy)return t;const n=new Map;return new Proxy(t,{get:(e,r)=>(n.has(r)||n.set(r,t(r)),n.get(r))})}const et=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tt(e){return"string"===typeof e&&!e.includes("-")&&!!(et.indexOf(e)>-1||/[A-Z]/.test(e))}const nt={};const rt=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],st=new Set(rt);function it(e,t){let{layout:n,layoutId:r}=t;return st.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!nt[e]||"opacity"===e)}const at=e=>Boolean(e&&e.getVelocity),ot={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lt=rt.length;const ct=e=>t=>"string"===typeof t&&t.startsWith(e),ut=ct("--"),dt=ct("var(--"),ht=(e,t)=>t&&"number"===typeof e?t.transform(e):e,ft=(e,t,n)=>Math.min(Math.max(n,e),t),pt={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},mt=Ce(Ce({},pt),{},{transform:e=>ft(0,1,e)}),gt=Ce(Ce({},pt),{},{default:1}),yt=e=>Math.round(1e5*e)/1e5,vt=/(-)?([\d]*\.?[\d])+/g,xt=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,wt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function bt(e){return"string"===typeof e}const kt=e=>({test:t=>bt(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),Nt=kt("deg"),St=kt("%"),Et=kt("px"),Tt=kt("vh"),_t=kt("vw"),Ct=Ce(Ce({},St),{},{parse:e=>St.parse(e)/100,transform:e=>St.transform(100*e)}),jt=Ce(Ce({},pt),{},{transform:Math.round}),It={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,size:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,rotate:Nt,rotateX:Nt,rotateY:Nt,rotateZ:Nt,scale:gt,scaleX:gt,scaleY:gt,scaleZ:gt,skew:Nt,skewX:Nt,skewY:Nt,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:mt,originX:Ct,originY:Ct,originZ:Et,zIndex:jt,fillOpacity:mt,strokeOpacity:mt,numOctaves:jt};function Pt(e,t,n,r){const{style:s,vars:i,transform:a,transformOrigin:o}=e;let l=!1,c=!1,u=!0;for(const d in t){const e=t[d];if(ut(d)){i[d]=e;continue}const n=It[d],r=ht(e,n);if(st.has(d)){if(l=!0,a[d]=r,!u)continue;e!==(n.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,o[d]=r):s[d]=r}if(t.transform||(l||r?s.transform=function(e,t,n,r){let{enableHardwareAcceleration:s=!0,allowTransformNone:i=!0}=t,a="";for(let o=0;o<lt;o++){const t=rt[o];void 0!==e[t]&&(a+="".concat(ot[t]||t,"(").concat(e[t],") "))}return s&&!e.z&&(a+="translateZ(0)"),a=a.trim(),r?a=r(e,n?"":a):i&&n&&(a="none"),a}(e.transform,n,u,r):s.transform&&(s.transform="none")),c){const{originX:e="50%",originY:t="50%",originZ:n=0}=o;s.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}const At=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Dt(e,t,n){for(const r in t)at(t[r])||it(r,n)||(e[r]=t[r])}function Rt(e,t,n){const r={};return Dt(r,e.style||{},e),Object.assign(r,function(e,t,n){let{transformTemplate:r}=e;return(0,s.useMemo)(()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return Pt(e,t,{enableHardwareAcceleration:!n},r),Object.assign({},e.vars,e.style)},[t])}(e,t,n)),e.transformValues?e.transformValues(r):r}function Ot(e,t,n){const r={},s=Rt(e,t,n);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Lt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mt(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lt.has(e)}let Ft=e=>!Mt(e);try{(Vt=require("@emotion/is-prop-valid").default)&&(Ft=e=>e.startsWith("on")?!Mt(e):Vt(e))}catch(sN){}var Vt;function Ut(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Bt(e,t,n){return"string"===typeof e?e:Et.transform(t+n*e)}const zt={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ht={offset:"strokeDashoffset",array:"strokeDasharray"};const qt=["attrX","attrY","attrScale","originX","originY","pathLength","pathSpacing","pathOffset"];function Wt(e,t,n,r,s){let{attrX:i,attrY:a,attrScale:o,originX:l,originY:c,pathLength:u,pathSpacing:d=1,pathOffset:h=0}=t;if(Pt(e,Ut(t,qt),n,s),r)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(void 0!==l||void 0!==c||p.transform)&&(p.transformOrigin=function(e,t,n){const r=Bt(t,e.x,e.width),s=Bt(n,e.y,e.height);return"".concat(r," ").concat(s)}(m,void 0!==l?l:.5,void 0!==c?c:.5)),void 0!==i&&(f.x=i),void 0!==a&&(f.y=a),void 0!==o&&(f.scale=o),void 0!==u&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=s?zt:Ht;e[i.offset]=Et.transform(-r);const a=Et.transform(t),o=Et.transform(n);e[i.array]="".concat(a," ").concat(o)}(f,u,d,h,!1)}const Kt=()=>Ce(Ce({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}}),Gt=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Qt(e,t,n,r){const i=(0,s.useMemo)(()=>{const n=Kt();return Wt(n,t,{enableHardwareAcceleration:!1},Gt(r),e.transformTemplate),Ce(Ce({},n.attrs),{},{style:Ce({},n.style)})},[t]);if(e.style){const t={};Dt(t,e.style,e),i.style=Ce(Ce({},t),i.style)}return i}function Yt(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(t,n,r,i,a)=>{let{latestValues:o}=i;const l=(tt(t)?Qt:Ot)(n,o,a,t),c=function(e,t,n){const r={};for(const s in e)"values"===s&&"object"===typeof e.values||(Ft(s)||!0===n&&Mt(s)||!t&&!Mt(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}(n,"string"===typeof t,e),u=Ce(Ce(Ce({},c),l),{},{ref:r}),{children:d}=n,h=(0,s.useMemo)(()=>at(d)?d.get():d,[d]);return(0,s.createElement)(t,Ce(Ce({},u),{},{children:h}))}}function Xt(e,t,n,r){let{style:s,vars:i}=t;Object.assign(e.style,s,r&&r.getProjectionStyles(n));for(const a in i)e.style.setProperty(a,i[a])}const $t=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Jt(e,t,n,r){Xt(e,t,void 0,r);for(const s in t.attrs)e.setAttribute($t.has(s)?s:Oe(s),t.attrs[s])}function Zt(e,t){const{style:n}=e,r={};for(const s in n)(at(n[s])||t.style&&at(t.style[s])||it(s,e))&&(r[s]=n[s]);return r}function en(e,t){const n=Zt(e,t);for(const r in e)if(at(e[r])||at(t[r])){n[-1!==rt.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return n}function tn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),"string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t&&(t=t(void 0!==n?n:e.custom,r,s)),t}function nn(e){const t=(0,s.useRef)(null);return null===t.current&&(t.current=e()),t.current}const rn=e=>Array.isArray(e),sn=e=>rn(e)?e[e.length-1]||0:e;function an(e){const t=at(e)?e.get():e;return(e=>Boolean(e&&"object"===typeof e&&e.mix&&e.toValue))(t)?t.toValue():t}const on=["transitionEnd","transition"];const ln=e=>(t,n)=>{const r=(0,s.useContext)(Ie),i=(0,s.useContext)(Pe),a=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:s,createRenderState:i,onMount:a}=e;const o={latestValues:cn(t,n,r,s),renderState:i()};return a&&(o.mount=e=>a(t,e,o)),o}(e,t,r,i);return n?a():nn(a)};function cn(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=an(i[h]);let{initial:a,animate:o}=e;const l=ze(e),c=He(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!==typeof d&&!Ve(d)){(Array.isArray(d)?d:[d]).forEach(t=>{const n=tn(e,t);if(!n)return;const{transitionEnd:r,transition:i}=n,a=Ut(n,on);for(const e in a){let t=a[e];if(Array.isArray(t)){t=t[u?t.length-1:0]}null!==t&&(s[e]=t)}for(const e in r)s[e]=r[e]})}return s}const un=e=>e;class dn{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);-1!==t&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}const hn=["prepare","read","update","preRender","render","postRender"];const{schedule:fn,cancel:pn,state:mn,steps:gn}=function(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=hn.reduce((e,t)=>(e[t]=function(e){let t=new dn,n=new dn,r=0,s=!1,i=!1;const a=new WeakSet,o={schedule:function(e){const i=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&s,o=i?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&a.add(e),o.add(e)&&i&&s&&(r=t.order.length),e},cancel:e=>{n.remove(e),a.delete(e)},process:l=>{if(s)i=!0;else{if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let n=0;n<r;n++){const r=t.order[n];r(l),a.has(r)&&(o.schedule(r),e())}s=!1,i&&(i=!1,o.process(l))}}};return o}(()=>n=!0),e),{}),a=e=>i[e].process(s),o=()=>{const i=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(i-s.timestamp,40),1),s.timestamp=i,s.isProcessing=!0,hn.forEach(a),s.isProcessing=!1,n&&t&&(r=!1,e(o))},l=hn.reduce((t,a)=>{const l=i[a];return t[a]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,s.isProcessing||e(o)),l.schedule(t,i,a)},t},{});return{schedule:l,cancel:e=>hn.forEach(t=>i[t].cancel(e)),state:s,steps:i}}("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:un,!0),yn={useVisualState:ln({scrapeMotionValuesFromProps:en,createRenderState:Kt,onMount:(e,t,n)=>{let{renderState:r,latestValues:s}=n;fn.read(()=>{try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(rN){r.dimensions={x:0,y:0,width:0,height:0}}}),fn.render(()=>{Wt(r,s,{enableHardwareAcceleration:!1},Gt(t.tagName),e.transformTemplate),Jt(t,r)})}})},vn={useVisualState:ln({scrapeMotionValuesFromProps:Zt,createRenderState:At})};function xn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const wn=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:{x:e[t+"X"],y:e[t+"Y"]}}}function kn(e,t,n,r){return xn(e,t,(e=>t=>wn(t)&&e(t,bn(t)))(n),r)}const Nn=(e,t)=>n=>t(e(n)),Sn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Nn)};function En(e){let t=null;return()=>{const n=()=>{t=null};return null===t&&(t=e,n)}}const Tn=En("dragHorizontal"),_n=En("dragVertical");function Cn(e){let t=!1;if("y"===e)t=_n();else if("x"===e)t=Tn();else{const e=Tn(),n=_n();e&&n?t=()=>{e(),n()}:(e&&e(),n&&n())}return t}function jn(){const e=Cn(!0);return!e||(e(),!1)}class In{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Pn(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End");return kn(e.current,n,(n,s)=>{if("touch"===n.pointerType||jn())return;const i=e.getProps();e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",t),i[r]&&fn.update(()=>i[r](n,s))},{passive:!e.getProps()[r]})}const An=(e,t)=>!!t&&(e===t||An(e,t.parentElement));function Dn(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,bn(n))}const Rn=["root"],On=new WeakMap,Ln=new WeakMap,Mn=e=>{const t=On.get(e.target);t&&t(e)},Fn=e=>{e.forEach(Mn)};function Vn(e,t,n){const r=function(e){let{root:t}=e,n=Ut(e,Rn);const r=t||document;Ln.has(r)||Ln.set(r,{});const s=Ln.get(r),i=JSON.stringify(n);return s[i]||(s[i]=new IntersectionObserver(Fn,Ce({root:t},n))),s[i]}(t);return On.set(e,n),r.observe(e),()=>{On.delete(e),r.unobserve(e)}}const Un={some:0,all:1};const Bn={inView:{Feature:class extends In{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:s}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Un[r]};return Vn(this.node.current,i,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)})}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends In{constructor(){super(...arguments),this.removeStartListeners=un,this.removeEndListeners=un,this.removeAccessibleListeners=un,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),r=kn(window,"pointerup",(e,t)=>{if(!this.checkPressEnd())return;const{onTap:n,onTapCancel:r,globalTapTarget:s}=this.node.getProps();fn.update(()=>{s||An(this.node.current,e.target)?n&&n(e,t):r&&r(e,t)})},{passive:!(n.onTap||n.onPointerUp)}),s=kn(window,"pointercancel",(e,t)=>this.cancelPress(e,t),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Sn(r,s),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=xn(this.node.current,"keydown",e=>{if("Enter"!==e.key||this.isPressing)return;this.removeEndListeners(),this.removeEndListeners=xn(this.node.current,"keyup",e=>{"Enter"===e.key&&this.checkPressEnd()&&Dn("up",(e,t)=>{const{onTap:n}=this.node.getProps();n&&fn.update(()=>n(e,t))})}),Dn("down",(e,t)=>{this.startPress(e,t)})}),t=xn(this.node.current,"blur",()=>{this.isPressing&&Dn("cancel",(e,t)=>this.cancelPress(e,t))});this.removeAccessibleListeners=Sn(e,t)}}startPress(e,t){this.isPressing=!0;const{onTapStart:n,whileTap:r}=this.node.getProps();r&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&fn.update(()=>n(e,t))}checkPressEnd(){this.removeEndListeners(),this.isPressing=!1;return this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!jn()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&fn.update(()=>n(e,t))}mount(){const e=this.node.getProps(),t=kn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=xn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Sn(t,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}},focus:{Feature:class extends In{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(rN){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sn(xn(this.node.current,"focus",()=>this.onFocus()),xn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends In{mount(){this.unmount=Sn(Pn(this.node,!0),Pn(this.node,!1))}unmount(){}}}};function zn(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Hn(e,t,n){const r=e.getProps();return tn(r,t,void 0!==n?n:r.custom,function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.get()),t}(e),function(e){const t={};return e.values.forEach((e,n)=>t[n]=e.getVelocity()),t}(e))}let qn=un,Wn=un;const Kn=e=>1e3*e,Gn=e=>e/1e3,Qn=!1,Yn=e=>Array.isArray(e)&&"number"===typeof e[0];function Xn(e){return Boolean(!e||"string"===typeof e&&Jn[e]||Yn(e)||Array.isArray(e)&&e.every(Xn))}const $n=e=>{let[t,n,r,s]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(s,")")},Jn={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$n([0,.65,.55,1]),circOut:$n([.55,0,1,.45]),backIn:$n([.31,.01,.66,-.59]),backOut:$n([.33,1.53,.69,.99])};function Zn(e){if(e)return Yn(e)?$n(e):Array.isArray(e)?e.map(Zn):Jn[e]}const er=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function tr(e,t,n,r){if(e===t&&n===r)return un;const s=t=>function(e,t,n,r,s){let i,a,o=0;do{a=t+(n-t)/2,i=er(a,r,s)-e,i>0?n=a:t=a}while(Math.abs(i)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:er(s(e),t,r)}const nr=tr(.42,0,1,1),rr=tr(0,0,.58,1),sr=tr(.42,0,.58,1),ir=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ar=e=>t=>1-e(1-t),or=e=>1-Math.sin(Math.acos(e)),lr=ar(or),cr=ir(or),ur=tr(.33,1.53,.69,.99),dr=ar(ur),hr=ir(dr),fr={linear:un,easeIn:nr,easeInOut:sr,easeOut:rr,circIn:or,circInOut:cr,circOut:lr,backIn:dr,backInOut:hr,backOut:ur,anticipate:e=>(e*=2)<1?.5*dr(e):.5*(2-Math.pow(2,-10*(e-1)))},pr=e=>{if(Array.isArray(e)){Wn(4===e.length,"Cubic bezier arrays must contain four numerical values.");const[t,n,r,s]=e;return tr(t,n,r,s)}return"string"===typeof e?(Wn(void 0!==fr[e],"Invalid easing type '".concat(e,"'")),fr[e]):e},mr=(e,t)=>n=>Boolean(bt(n)&&wt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),gr=(e,t,n)=>r=>{if(!bt(r))return r;const[s,i,a,o]=r.match(vt);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},yr=Ce(Ce({},pt),{},{transform:e=>Math.round((e=>ft(0,255,e))(e))}),vr={test:mr("rgb","red"),parse:gr("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:s=1}=e;return"rgba("+yr.transform(t)+", "+yr.transform(n)+", "+yr.transform(r)+", "+yt(mt.transform(s))+")"}};const xr={test:mr("#"),parse:function(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}},transform:vr.transform},wr={test:mr("hsl","hue"),parse:gr("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:s=1}=e;return"hsla("+Math.round(t)+", "+St.transform(yt(n))+", "+St.transform(yt(r))+", "+yt(mt.transform(s))+")"}},br={test:e=>vr.test(e)||xr.test(e)||wr.test(e),parse:e=>vr.test(e)?vr.parse(e):wr.test(e)?wr.parse(e):xr.parse(e),transform:e=>bt(e)?e:e.hasOwnProperty("red")?vr.transform(e):wr.transform(e)},kr=(e,t,n)=>-n*e+n*t+e;function Nr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}const Sr=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Er=[xr,vr,wr];function Tr(e){const t=(e=>Er.find(t=>t.test(e)))(e);Wn(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."));let n=t.parse(e);return t===wr&&(n=function(e){let{hue:t,saturation:n,lightness:r,alpha:s}=e;t/=360,n/=100,r/=100;let i=0,a=0,o=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,s=2*r-e;i=Nr(s,e,t+1/3),a=Nr(s,e,t),o=Nr(s,e,t-1/3)}else i=a=o=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*o),alpha:s}}(n)),n}const _r=(e,t)=>{const n=Tr(e),r=Tr(t),s=Ce({},n);return e=>(s.red=Sr(n.red,r.red,e),s.green=Sr(n.green,r.green,e),s.blue=Sr(n.blue,r.blue,e),s.alpha=kr(n.alpha,r.alpha,e),vr.transform(s))};const Cr={regex:/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,countKey:"Vars",token:"${v}",parse:un},jr={regex:xt,countKey:"Colors",token:"${c}",parse:br.parse},Ir={regex:vt,countKey:"Numbers",token:"${n}",parse:pt.parse};function Pr(e,t){let{regex:n,countKey:r,token:s,parse:i}=t;const a=e.tokenised.match(n);a&&(e["num"+r]=a.length,e.tokenised=e.tokenised.replace(n,s),e.values.push(...a.map(i)))}function Ar(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Pr(n,Cr),Pr(n,jr),Pr(n,Ir),n}function Dr(e){return Ar(e).values}function Rr(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Ar(e),i=t.length;return e=>{let t=s;for(let s=0;s<i;s++)t=s<r?t.replace(Cr.token,e[s]):s<r+n?t.replace(jr.token,br.transform(e[s])):t.replace(Ir.token,yt(e[s]));return t}}const Or=e=>"number"===typeof e?0:e;const Lr={test:function(e){var t,n;return isNaN(e)&&bt(e)&&((null===(t=e.match(vt))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(xt))||void 0===n?void 0:n.length)||0)>0},parse:Dr,createTransformer:Rr,getAnimatableNone:function(e){const t=Dr(e);return Rr(e)(t.map(Or))}},Mr=(e,t)=>n=>"".concat(n>0?t:e);function Fr(e,t){return"number"===typeof e?n=>kr(e,t,n):br.test(e)?_r(e,t):e.startsWith("var(")?Mr(e,t):Br(e,t)}const Vr=(e,t)=>{const n=[...e],r=n.length,s=e.map((e,n)=>Fr(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=s[t](e);return n}},Ur=(e,t)=>{const n=Ce(Ce({},e),t),r={};for(const s in n)void 0!==e[s]&&void 0!==t[s]&&(r[s]=Fr(e[s],t[s]));return e=>{for(const t in r)n[t]=r[t](e);return n}},Br=(e,t)=>{const n=Lr.createTransformer(t),r=Ar(e),s=Ar(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Sn(Vr(r.values,s.values),n):(qn(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.")),Mr(e,t))},zr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Hr=(e,t)=>n=>kr(e,t,n);function qr(e,t,n){const r=[],s=n||function(e){return"number"===typeof e?Hr:"string"===typeof e?br.test(e)?_r:Br:Array.isArray(e)?Vr:"object"===typeof e?Ur:Hr}(e[0]),i=e.length-1;for(let a=0;a<i;a++){let n=s(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||un:t;n=Sn(e,n)}r.push(n)}return r}function Wr(e,t){let{clamp:n=!0,ease:r,mixer:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(Wn(i===t.length,"Both input and output ranges must be the same length"),1===i)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=qr(t,r,s),o=a.length,l=t=>{let n=0;if(o>1)for(;n<e.length-2&&!(t<e[n+1]);n++);const r=zr(e[n],e[n+1],t);return a[n](r)};return n?t=>l(ft(e[0],e[i-1],t)):l}function Kr(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=zr(0,t,r);e.push(kr(n,1,s))}}(t,e.length-1),t}function Gr(e){let{duration:t=300,keyframes:n,times:r,ease:s="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(s)?s.map(pr):pr(s),a={done:!1,value:n[0]},o=function(e,t){return e.map(e=>e*t)}(r&&r.length===n.length?r:Kr(n),t),l=Wr(o,n,{ease:Array.isArray(i)?i:(c=n,u=i,c.map(()=>u||sr).splice(0,c.length-1))});var c,u;return{calculatedDuration:t,next:e=>(a.value=l(e),a.done=e>=t,a)}}function Qr(e,t){return t?e*(1e3/t):0}function Yr(e,t,n){const r=Math.max(t-5,0);return Qr(n-e(r),t-r)}const Xr=.001;function $r(e){let t,n,{duration:r=800,bounce:s=.25,velocity:i=0,mass:a=1}=e;qn(r<=Kn(10),"Spring duration must be 10 seconds or less");let o=1-s;o=ft(.05,1,o),r=ft(.01,10,Gn(r)),o<1?(t=e=>{const t=e*o,n=t*r,s=t-i,a=Zr(e,o),l=Math.exp(-n);return Xr-s/a*l},n=e=>{const n=e*o*r,s=n*i+i,a=Math.pow(o,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Zr(Math.pow(e,2),o);return(-t(e)+Xr>0?-1:1)*((s-a)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let s=1;s<Jr;s++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Kn(r),isNaN(l))return{stiffness:100,damping:10,duration:r};{const e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:r}}}const Jr=12;function Zr(e,t){return e*Math.sqrt(1-t*t)}const es=["keyframes","restDelta","restSpeed"],ts=["duration","bounce"],ns=["stiffness","damping","mass"];function rs(e,t){return t.some(t=>void 0!==e[t])}function ss(e){let{keyframes:t,restDelta:n,restSpeed:r}=e,s=Ut(e,es);const i=t[0],a=t[t.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=function(e){let t=Ce({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!rs(e,ns)&&rs(e,ts)){const n=$r(e);t=Ce(Ce(Ce({},t),n),{},{mass:1}),t.isResolvedFromDuration=!0}return t}(Ce(Ce({},s),{},{velocity:-Gn(s.velocity||0)})),p=h||0,m=c/(2*Math.sqrt(l*u)),g=a-i,y=Gn(Math.sqrt(l/u)),v=Math.abs(g)<5;let x;if(r||(r=v?.01:2),n||(n=v?.005:.5),m<1){const e=Zr(y,m);x=t=>{const n=Math.exp(-m*y*t);return a-n*((p+m*y*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===m)x=e=>a-Math.exp(-y*e)*(g+(p+y*g)*e);else{const e=y*Math.sqrt(m*m-1);x=t=>{const n=Math.exp(-m*y*t),r=Math.min(e*t,300);return a-n*((p+m*y*g)*Math.sinh(r)+e*g*Math.cosh(r))/e}}return{calculatedDuration:f&&d||null,next:e=>{const t=x(e);if(f)o.done=e>=d;else{let s=p;0!==e&&(s=m<1?Yr(x,e,t):0);const i=Math.abs(s)<=r,l=Math.abs(a-t)<=n;o.done=i&&l}return o.value=o.done?a:t,o}}}function is(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}=e;const h=t[0],f={done:!1,value:h},p=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,y=void 0===o?g:o(g);y!==g&&(m=y-h);const v=e=>-m*Math.exp(-e/s),x=e=>y+v(e),w=e=>{const t=v(e),n=x(e);f.done=Math.abs(t)<=u,f.value=f.done?y:n};let b,k;const N=e=>{(e=>void 0!==l&&e<l||void 0!==c&&e>c)(f.value)&&(b=e,k=ss({keyframes:[f.value,p(f.value)],velocity:Yr(x,e,f.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==b||(t=!0,w(e),N(e)),void 0!==b&&e>b?k.next(e-b):(!t&&w(e),f)}}}const as=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:()=>fn.update(t,!0),stop:()=>pn(t),now:()=>mn.isProcessing?mn.timestamp:performance.now()}};function os(e){let t=0;let n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}const ls=["autoplay","delay","driver","keyframes","type","repeat","repeatDelay","repeatType","onPlay","onStop","onComplete","onUpdate"],cs={decay:is,inertia:is,tween:Gr,keyframes:Gr,spring:ss};function us(e){let t,n,{autoplay:r=!0,delay:s=0,driver:i=as,keyframes:a,type:o="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:u="loop",onPlay:d,onStop:h,onComplete:f,onUpdate:p}=e,m=Ut(e,ls),g=1,y=!1;const v=()=>{n=new Promise(e=>{t=e})};let x;v();const w=cs[o]||Gr;let b;w!==Gr&&"number"!==typeof a[0]&&(b=Wr([0,100],a,{clamp:!1}),a=[0,100]);const k=w(Ce(Ce({},m),{},{keyframes:a}));let N;"mirror"===u&&(N=w(Ce(Ce({},m),{},{keyframes:[...a].reverse(),velocity:-(m.velocity||0)})));let S="idle",E=null,T=null,_=null;null===k.calculatedDuration&&l&&(k.calculatedDuration=os(k));const{calculatedDuration:C}=k;let j=1/0,I=1/0;null!==C&&(j=C+c,I=j*(l+1)-c);let P=0;const A=e=>{if(null===T)return;g>0&&(T=Math.min(T,e)),g<0&&(T=Math.min(e-I/g,T)),P=null!==E?E:Math.round(e-T)*g;const t=P-s*(g>=0?1:-1),n=g>=0?t<0:t>I;P=Math.max(t,0),"finished"===S&&null===E&&(P=I);let r=P,i=k;if(l){const e=Math.min(P,I)/j;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,l+1);Boolean(t%2)&&("reverse"===u?(n=1-n,c&&(n-=c/j)):"mirror"===u&&(i=N)),r=ft(0,1,n)*j}const o=n?{done:!1,value:a[0]}:i.next(r);b&&(o.value=b(o.value));let{done:d}=o;n||null===C||(d=g>=0?P>=I:P<=0);const h=null===E&&("finished"===S||"running"===S&&d);return p&&p(o.value),h&&O(),o},D=()=>{x&&x.stop(),x=void 0},R=()=>{S="idle",D(),t(),v(),T=_=null},O=()=>{S="finished",f&&f(),D(),t()},L=()=>{if(y)return;x||(x=i(A));const e=x.now();d&&d(),null!==E?T=e-E:T&&"finished"!==S||(T=e),"finished"===S&&v(),_=T,E=null,S="running",x.start()};r&&L();const M={then:(e,t)=>n.then(e,t),get time(){return Gn(P)},set time(e){e=Kn(e),P=e,null===E&&x&&0!==g?T=x.now()-e/g:E=e},get duration(){const e=null===k.calculatedDuration?os(k):k.calculatedDuration;return Gn(e)},get speed(){return g},set speed(e){e!==g&&x&&(g=e,M.time=Gn(P))},get state(){return S},play:L,pause:()=>{S="paused",E=P},stop:()=>{y=!0,"idle"!==S&&(S="idle",h&&h(),R())},cancel:()=>{null!==_&&A(_),R()},complete:()=>{S="finished"},sample:e=>(T=0,A(e))};return M}const ds=["onUpdate","onComplete"],hs=function(e){let t;return()=>(void 0===t&&(t=e()),t)}(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),fs=new Set(["opacity","clipPath","filter","transform","backgroundColor"]);function ps(e,t,n){let{onUpdate:r,onComplete:s}=n,i=Ut(n,ds);if(!(hs()&&fs.has(t)&&!i.repeatDelay&&"mirror"!==i.repeatType&&0!==i.damping&&"inertia"!==i.type))return!1;let a,o,l=!1,c=!1;const u=()=>{o=new Promise(e=>{a=e})};u();let{keyframes:d,duration:h=300,ease:f,times:p}=i;if(((e,t)=>"spring"===t.type||"backgroundColor"===e||!Xn(t.ease))(t,i)){const e=us(Ce(Ce({},i),{},{repeat:0,delay:0}));let t={done:!1,value:d[0]};const n=[];let r=0;for(;!t.done&&r<2e4;)t=e.sample(r),n.push(t.value),r+=10;p=void 0,d=n,h=r-10,f="linear"}const m=function(e,t,n){let{delay:r=0,duration:s,repeat:i=0,repeatType:a="loop",ease:o,times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const c={[t]:n};l&&(c.offset=l);const u=Zn(o);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:r,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===a?"alternate":"normal"})}(e.owner.current,t,d,Ce(Ce({},i),{},{duration:h,ease:f,times:p})),g=()=>{c=!1,m.cancel()},y=()=>{c=!0,fn.update(g),a(),u()};m.onfinish=()=>{c||(e.set(function(e,t){let{repeat:n,repeatType:r="loop"}=t;return e[n&&"loop"!==r&&n%2===1?0:e.length-1]}(d,i)),s&&s(),y())};return{then:(e,t)=>o.then(e,t),attachTimeline:e=>(m.timeline=e,m.onfinish=null,un),get time(){return Gn(m.currentTime||0)},set time(e){m.currentTime=Kn(e)},get speed(){return m.playbackRate},set speed(e){m.playbackRate=e},get duration(){return Gn(h)},play:()=>{l||(m.play(),pn(g))},pause:()=>m.pause(),stop:()=>{if(l=!0,"idle"===m.playState)return;const{currentTime:t}=m;if(t){const n=us(Ce(Ce({},i),{},{autoplay:!1}));e.setWithVelocity(n.sample(t-10).value,n.sample(t).value,10)}y()},complete:()=>{c||m.finish()},cancel:y}}const ms={type:"spring",stiffness:500,damping:25,restSpeed:10},gs={type:"keyframes",duration:.8},ys={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vs=(e,t)=>{let{keyframes:n}=t;return n.length>2?gs:st.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:ms:ys},xs=(e,t)=>"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!Lr.test(t)&&"0"!==t||t.startsWith("url("))),ws=new Set(["brightness","contrast","saturate","opacity"]);function bs(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(vt)||[];if(!r)return e;const s=n.replace(r,"");let i=ws.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const ks=/([a-z-]*)\(.*?\)/g,Ns=Ce(Ce({},Lr),{},{getAnimatableNone:e=>{const t=e.match(ks);return t?t.map(bs).join(" "):e}}),Ss=Ce(Ce({},It),{},{color:br,backgroundColor:br,outlineColor:br,fill:br,stroke:br,borderColor:br,borderTopColor:br,borderRightColor:br,borderBottomColor:br,borderLeftColor:br,filter:Ns,WebkitFilter:Ns}),Es=e=>Ss[e];function Ts(e,t){let n=Es(e);return n!==Ns&&(n=Lr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const _s=e=>/^0[^.\s]+$/.test(e);function Cs(e){return"number"===typeof e?0===e:null!==e?"none"===e||"0"===e||_s(e):void 0}const js=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];function Is(e,t){return e[t]||e.default||e}const Ps=!1,As=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return s=>{const i=Is(r,e)||{},a=i.delay||r.delay||0;let{elapsed:o=0}=r;o-=Kn(a);const l=function(e,t,n,r){const s=xs(t,n);let i;i=Array.isArray(n)?[...n]:[null,n];const a=void 0!==r.from?r.from:e.get();let o;const l=[];for(let c=0;c<i.length;c++)null===i[c]&&(i[c]=0===c?a:i[c-1]),Cs(i[c])&&l.push(c),"string"===typeof i[c]&&"none"!==i[c]&&"0"!==i[c]&&(o=i[c]);if(s&&l.length&&o)for(let c=0;c<l.length;c++)i[l[c]]=Ts(t,o);return i}(t,e,n,i),c=l[0],u=l[l.length-1],d=xs(e,c),h=xs(e,u);qn(d===h,"You are trying to animate ".concat(e,' from "').concat(c,'" to "').concat(u,'". ').concat(c," is not an animatable value - to enable this animation set ").concat(c," to a value animatable to ").concat(u," via the `style` property."));let f=Ce(Ce({keyframes:l,velocity:t.getVelocity(),ease:"easeOut"},i),{},{delay:-o,onUpdate:e=>{t.set(e),i.onUpdate&&i.onUpdate(e)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}});if(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u}=e,d=Ut(e,js);return!!Object.keys(d).length}(i)||(f=Ce(Ce({},f),vs(e,f))),f.duration&&(f.duration=Kn(f.duration)),f.repeatDelay&&(f.repeatDelay=Kn(f.repeatDelay)),!d||!h||Qn||!1===i.type||Ps)return function(e){let{keyframes:t,delay:n,onUpdate:r,onComplete:s}=e;const i=()=>(r&&r(t[t.length-1]),s&&s(),{time:0,speed:1,duration:0,play:un,pause:un,stop:un,then:e=>(e(),Promise.resolve()),cancel:un,complete:un});return n?us({keyframes:[0,1],duration:0,delay:n,onComplete:i}):i()}(Qn?Ce(Ce({},f),{},{delay:0}):f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const n=ps(t,e,f);if(n)return n}return us(f)}};function Ds(e){return Boolean(at(e)&&e.add)}const Rs=e=>/^\-?\d*\.?\d+$/.test(e);function Os(e,t){-1===e.indexOf(t)&&e.push(t)}function Ls(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Ms{constructor(){this.subscriptions=[]}add(e){return Os(this.subscriptions,e),()=>Ls(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let s=0;s<r;s++){const r=this.subscriptions[s];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Fs={current:void 0};class Vs{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.prev=t.current,t.current=e;const{delta:r,timestamp:s}=mn;t.lastUpdated!==s&&(t.timeDelta=r,t.lastUpdated=s,fn.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.events.change&&t.events.change.notify(t.current),t.events.velocityChange&&t.events.velocityChange.notify(t.getVelocity()),n&&t.events.renderRequest&&t.events.renderRequest.notify(t.current)},this.scheduleVelocityCheck=()=>fn.postRender(this.velocityCheck),this.velocityCheck=e=>{let{timestamp:t}=e;t!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(r=this.current,!isNaN(parseFloat(r))),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Ms);const n=this.events[e].add(t);return"change"===e?()=>{n(),fn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}setWithVelocity(e,t,n){this.set(t),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Fs.current&&Fs.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Qr(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Us(e,t){return new Vs(e,t)}const Bs=e=>t=>t.test(e),zs=[pt,Et,St,Nt,_t,Tt,{test:e=>"auto"===e,parse:e=>e}],Hs=e=>zs.find(Bs(e)),qs=[...zs,br,Lr],Ws=e=>qs.find(Bs(e)),Ks=["transitionEnd","transition"];function Gs(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Us(n))}function Qs(e,t){const n=Hn(e,t);let r=n?e.makeTargetAnimatable(n,!1):{},{transitionEnd:s={},transition:i={}}=r,a=Ut(r,Ks);a=Ce(Ce({},a),s);for(const o in a){Gs(e,o,sn(a[o]))}}function Ys(e,t){if(!t)return;return(t[e]||t.default||t).from}const Xs=["transition","transitionEnd"];function $s(e,t){let{protectedKeys:n,needsAnimating:r}=e;const s=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,s}function Js(e,t){const n=e.get();if(!Array.isArray(t))return n!==t;for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}function Zs(e,t){let{delay:n=0,transitionOverride:r,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.makeTargetAnimatable(t),{transition:a=e.getDefaultTransition(),transitionEnd:o}=i,l=Ut(i,Xs);const c=e.getValue("willChange");r&&(a=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const t=e.getValue(h),r=l[h];if(!t||void 0===r||d&&$s(d,h))continue;const s=Ce({delay:n,elapsed:0},Is(a||{},h));if(window.HandoffAppearAnimations){const n=e.getProps()[Le];if(n){const e=window.HandoffAppearAnimations(n,h,t,fn);null!==e&&(s.elapsed=e,s.isHandoff=!0)}}let i=!s.isHandoff&&!Js(t,r);if("spring"===s.type&&(t.getVelocity()||s.velocity)&&(i=!1),t.animation&&(i=!1),i)continue;t.start(As(h,t,r,e.shouldReduceMotion&&st.has(h)?{type:!1}:s));const o=t.animation;Ds(c)&&(c.add(h),o.then(()=>c.remove(h))),u.push(o)}return o&&Promise.all(u).then(()=>{o&&Qs(e,o)}),u}function ei(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Hn(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Zs(e,r,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:i=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5?arguments[5]:void 0;const a=[],o=(e.variantChildren.size-1)*r,l=1===s?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r}:function(){return o-(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)*r};return Array.from(e.variantChildren).sort(ti).forEach((e,r)=>{e.notify("AnimationStart",t),a.push(ei(e,t,Ce(Ce({},i),{},{delay:n+l(r)})).then(()=>e.notify("AnimationComplete",t)))}),Promise.all(a)}(e,t,i+r,a,o,n)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[i,a]:[a,i];return e().then(()=>t())}return Promise.all([i(),a(n.delay)])}function ti(e,t){return e.sortNodePosition(t)}const ni=["transition","transitionEnd"],ri=[...Ue].reverse(),si=Ue.length;function ii(e){return t=>Promise.all(t.map(t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>ei(e,t,r));n=Promise.all(s)}else if("string"===typeof t)n=ei(e,t,r);else{const s="function"===typeof t?Hn(e,t,r.custom):t;n=Promise.all(Zs(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}(e,n,r)}))}function ai(e){let t=ii(e);const n={animate:li(!0),whileInView:li(),whileHover:li(),whileTap:li(),whileDrag:li(),whileFocus:li(),exit:li()};let r=!0;const s=(t,n)=>{const r=Hn(e,n);if(r){const{transition:e,transitionEnd:n}=r,s=Ut(r,ni);t=Ce(Ce(Ce({},t),s),n)}return t};function i(i,a){const o=e.getProps(),l=e.getVariantContext(!0)||{},c=[],u=new Set;let d={},h=1/0;for(let t=0;t<si;t++){const f=ri[t],p=n[f],m=void 0!==o[f]?o[f]:l[f],g=Fe(m),y=f===a?p.isActive:null;!1===y&&(h=t);let v=m===l[f]&&m!==o[f]&&g;if(v&&r&&e.manuallyAnimateOnMount&&(v=!1),p.protectedKeys=Ce({},d),!p.isActive&&null===y||!m&&!p.prevProp||Ve(m)||"boolean"===typeof m)continue;let x=oi(p.prevProp,m)||f===a&&p.isActive&&!v&&g||t>h&&g,w=!1;const b=Array.isArray(m)?m:[m];let k=b.reduce(s,{});!1===y&&(k={});const{prevResolvedValues:N={}}=p,S=Ce(Ce({},N),k),E=e=>{x=!0,u.has(e)&&(w=!0,u.delete(e)),p.needsAnimating[e]=!0};for(const e in S){const t=k[e],n=N[e];if(d.hasOwnProperty(e))continue;let r=!1;r=rn(t)&&rn(n)?!zn(t,n):t!==n,r?void 0!==t?E(e):u.add(e):void 0!==t&&u.has(e)?E(e):p.protectedKeys[e]=!0}p.prevProp=m,p.prevResolvedValues=k,p.isActive&&(d=Ce(Ce({},d),k)),r&&e.blockInitialAnimation&&(x=!1),!x||v&&!w||c.push(...b.map(e=>({animation:e,options:Ce({type:f},i)})))}if(u.size){const t={};u.forEach(n=>{const r=e.getBaseTarget(n);void 0!==r&&(t[n]=r)}),c.push({animation:t})}let f=Boolean(c.length);return!r||!1!==o.initial&&o.initial!==o.animate||e.manuallyAnimateOnMount||(f=!1),r=!1,f?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r,s){var a;if(n[t].isActive===r)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)}),n[t].isActive=r;const o=i(s,t);for(const e in n)n[e].protectedKeys={};return o},setAnimateFunction:function(n){t=n(e)},getState:()=>n}}function oi(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!zn(t,e)}function li(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}let ci=0;const ui={animation:{Feature:class extends In{constructor(e){super(e),e.animationState||(e.animationState=ai(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ve(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}},exit:{Feature:class extends In{constructor(){super(...arguments),this.id=ci++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e,{custom:null!==n&&void 0!==n?n:this.node.getProps().custom});t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}}},di=(e,t)=>Math.abs(e-t);class hi{constructor(e,t){let{transformPagePoint:n,contextWindow:r,dragSnapToOrigin:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=mi(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=di(e.x,t.x),r=di(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=3;if(!t&&!n)return;const{point:r}=e,{timestamp:s}=mn;this.history.push(Ce(Ce({},r),{},{timestamp:s}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=fi(t,this.transformPagePoint),fn.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=mi("pointercancel"===e.type?this.lastMoveEventInfo:fi(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!wn(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=n,this.contextWindow=r||window;const i=fi(bn(e),this.transformPagePoint),{point:a}=i,{timestamp:o}=mn;this.history=[Ce(Ce({},a),{},{timestamp:o})];const{onSessionStart:l}=t;l&&l(e,mi(i,this.history)),this.removeListeners=Sn(kn(this.contextWindow,"pointermove",this.handlePointerMove),kn(this.contextWindow,"pointerup",this.handlePointerUp),kn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),pn(this.updatePoint)}}function fi(e,t){return t?{point:t(e.point)}:e}function pi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mi(e,t){let{point:n}=e;return{point:n,delta:pi(n,yi(t)),offset:pi(n,gi(t)),velocity:vi(t,.1)}}function gi(e){return e[0]}function yi(e){return e[e.length-1]}function vi(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=yi(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Kn(t)));)n--;if(!r)return{x:0,y:0};const i=Gn(s.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const a={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function xi(e){return e.max-e.min}function wi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return Math.abs(e-t)<=n}function bi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=kr(t.min,t.max,e.origin),e.scale=xi(n)/xi(t),(wi(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=kr(n.min,n.max,e.origin)-e.originPoint,(wi(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ki(e,t,n,r){bi(e.x,t.x,n.x,r?r.originX:void 0),bi(e.y,t.y,n.y,r?r.originY:void 0)}function Ni(e,t,n){e.min=n.min+t.min,e.max=e.min+xi(t)}function Si(e,t,n){e.min=t.min-n.min,e.max=e.min+xi(t)}function Ei(e,t,n){Si(e.x,t.x,n.x),Si(e.y,t.y,n.y)}function Ti(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function _i(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Ci=.35;function ji(e,t,n){return{min:Ii(e,t),max:Ii(e,n)}}function Ii(e,t){return"number"===typeof e?e:e[t]||0}const Pi=()=>({x:{min:0,max:0},y:{min:0,max:0}});function Ai(e){return[e("x"),e("y")]}function Di(e){let{top:t,left:n,right:r,bottom:s}=e;return{x:{min:n,max:r},y:{min:t,max:s}}}function Ri(e){return void 0===e||1===e}function Oi(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Ri(t)||!Ri(n)||!Ri(r)}function Li(e){return Oi(e)||Mi(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Mi(e){return Fi(e.x)||Fi(e.y)}function Fi(e){return e&&"0%"!==e}function Vi(e,t,n){return n+t*(e-n)}function Ui(e,t,n,r,s){return void 0!==s&&(e=Vi(e,s,r)),Vi(e,n,r)+t}function Bi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;e.min=Ui(e.min,t,n,r,s),e.max=Ui(e.max,t,n,r,s)}function zi(e,t){let{x:n,y:r}=t;Bi(e.x,n.translate,n.scale,n.originPoint),Bi(e.y,r.translate,r.scale,r.originPoint)}function Hi(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function qi(e,t){e.min=e.min+t,e.max=e.max+t}function Wi(e,t,n){let[r,s,i]=n;const a=void 0!==t[i]?t[i]:.5,o=kr(e.min,e.max,a);Bi(e,t[r],t[s],o,t.scale)}const Ki=["x","scaleX","originX"],Gi=["y","scaleY","originY"];function Qi(e,t){Wi(e.x,t,Ki),Wi(e.y,t,Gi)}function Yi(e,t){return Di(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const Xi=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},$i=new WeakMap;class Ji{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}start(e){let{snapToCursor:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new hi(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(bn(e,"page").point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:s}=this.getProps();if(n&&!r&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Cn(n),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ai(e=>{let t=this.getAxisMotionValue(e).get()||0;if(St.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=xi(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&fn.update(()=>s(e,t),!1,!0);const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:s,onDrag:i}=this.getProps();if(!n&&!this.openGlobalLock)return;const{offset:a}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>this.stop(e,t),resumeAnimation:()=>Ai(e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,contextWindow:Xi(this.visualElement)})}stop(e,t){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:r}=t;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&fn.update(()=>s(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Zi(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:s}=t;return void 0!==r&&e<r?e=n?kr(r,e,n.min):Math.max(e,r):void 0!==s&&e>s&&(e=n?kr(s,e,n.max):Math.min(e,s)),e}(i,this.constraints[e],this.elastic[e])),s.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,s=this.constraints;t&&Me(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:s,right:i}=t;return{x:Ti(e.x,r,i),y:Ti(e.y,n,s)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ci;return!1===e?e=0:!0===e&&(e=Ci),{x:ji(e,"left","right"),y:ji(e,"top","bottom")}}(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ai(e=>{this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Me(e))return!1;const n=e.current;Wn(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=function(e,t,n){const r=Yi(e,n),{scroll:s}=t;return s&&(qi(r.x,s.offset.x),qi(r.y,s.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:_i(e.x,t.x),y:_i(e.y,t.y)}}(r.layout.layoutBox,s);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Di(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=Ai(a=>{if(!Zi(a,t,this.currentDirection))return;let l=o&&o[a]||{};i&&(l={min:0,max:0});const c=r?200:1e6,u=r?40:1e7,d=Ce(Ce({type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},s),l);return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return n.start(As(e,n,0,t))}stopAnimation(){Ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ai(e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()})}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ai(t=>{const{drag:n}=this.getProps();if(!Zi(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t];s.set(e[t]-kr(n,i,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!Me(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ai(e=>{const t=this.getAxisMotionValue(e);if(t){const n=t.get();r[e]=function(e,t){let n=.5;const r=xi(e),s=xi(t);return s>r?n=zr(t.min,t.max-r,e.min):r>s&&(n=zr(e.min,e.max-s,t.min)),ft(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ai(t=>{if(!Zi(t,e,null))return;const n=this.getAxisMotionValue(t),{min:s,max:i}=this.constraints[t];n.set(kr(s,i,r[t]))})}addListeners(){if(!this.visualElement.current)return;$i.set(this.visualElement,this);const e=kn(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Me(e)&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),t();const s=xn(window,"resize",()=>this.scalePositionWithinConstraints()),i=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Ai(e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{s(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:i=Ci,dragMomentum:a=!0}=e;return Ce(Ce({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:s,dragElastic:i,dragMomentum:a})}}function Zi(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ea=e=>(t,n)=>{e&&fn.update(()=>e(t,n))};const ta={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function na(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ra={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!Et.test(e))return e;e=parseFloat(e)}const n=na(e,t.target.x),r=na(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},sa={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const s=e,i=Lr.parse(e);if(i.length>5)return s;const a=Lr.createTransformer(e),o="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+o]/=l,i[1+o]/=c;const u=kr(l,c,.5);return"number"===typeof i[2+o]&&(i[2+o]/=u),"number"===typeof i[3+o]&&(i[3+o]/=u),a(i)}};class ia extends s.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:s}=e;var i;i=oa,Object.assign(nt,i),s&&(t.group&&t.group.add(s),n&&n.register&&r&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions(Ce(Ce({},s.options),{},{onExitComplete:()=>this.safeToRemove()}))),ta.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:s}=this.props,i=n.projection;return i?(i.isPresent=s,r||e.layoutDependency!==t||void 0===t?i.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?i.promote():i.relegate()||fn.postRender(()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aa(e){const[t,n]=function(){const e=(0,s.useContext)(Pe);if(null===e)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=(0,s.useId)();return(0,s.useEffect)(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}(),r=(0,s.useContext)(Qe);return s.createElement(ia,Ce(Ce({},e),{},{layoutGroup:r,switchLayoutGroup:(0,s.useContext)(Ye),isPresent:t,safeToRemove:n}))}const oa={borderRadius:Ce(Ce({},ra),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ra,borderTopRightRadius:ra,borderBottomLeftRadius:ra,borderBottomRightRadius:ra,boxShadow:sa},la=["TopLeft","TopRight","BottomLeft","BottomRight"],ca=la.length,ua=e=>"string"===typeof e?parseFloat(e):e,da=e=>"number"===typeof e||Et.test(e);function ha(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const fa=ma(0,.5,lr),pa=ma(.5,.95,un);function ma(e,t,n){return r=>r<e?0:r>t?1:n(zr(e,t,r))}function ga(e,t){e.min=t.min,e.max=t.max}function ya(e,t){ga(e.x,t.x),ga(e.y,t.y)}function va(e,t,n,r,s){return e=Vi(e-=t,1/n,r),void 0!==s&&(e=Vi(e,1/s,r)),e}function xa(e,t,n,r,s){let[i,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,s=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;St.test(t)&&(t=parseFloat(t),t=kr(a.min,a.max,t/100)-a.min);if("number"!==typeof t)return;let o=kr(i.min,i.max,r);e===i&&(o-=t),e.min=va(e.min,t,n,o,s),e.max=va(e.max,t,n,o,s)}(e,t[i],t[a],t[o],t.scale,r,s)}const wa=["x","scaleX","originX"],ba=["y","scaleY","originY"];function ka(e,t,n,r){xa(e.x,t,wa,n?n.x:void 0,r?r.x:void 0),xa(e.y,t,ba,n?n.y:void 0,r?r.y:void 0)}function Na(e){return 0===e.translate&&1===e.scale}function Sa(e){return Na(e.x)&&Na(e.y)}function Ea(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Ta(e){return xi(e.x)/xi(e.y)}class _a{constructor(){this.members=[]}add(e){Os(this.members,e),e.scheduleRender()}remove(e){if(Ls(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ca(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r="translate3d(".concat(s,"px, ").concat(i,"px, 0) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{rotate:e,rotateX:t,rotateY:s}=n;e&&(r+="rotate(".concat(e,"deg) ")),t&&(r+="rotateX(".concat(t,"deg) ")),s&&(r+="rotateY(".concat(s,"deg) "))}const a=e.x.scale*t.x,o=e.y.scale*t.y;return 1===a&&1===o||(r+="scale(".concat(a,", ").concat(o,")")),r||"none"}const ja=(e,t)=>e.depth-t.depth;class Ia{constructor(){this.children=[],this.isDirty=!1}add(e){Os(this.children,e),this.isDirty=!0}remove(e){Ls(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ja),this.isDirty=!1,this.children.forEach(e)}}const Pa=["","X","Y","Z"],Aa={visibility:"hidden"};let Da=0;const Ra={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Oa(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Da++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ra.totalNodes=Ra.resolvedTargetDeltas=Ra.recalculatedProjection=0,this.nodes.forEach(Fa),this.nodes.forEach(Wa),this.nodes.forEach(Ka),this.nodes.forEach(Va),function(e){window.MotionDebug&&window.MotionDebug.record(e)}(Ra)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ia)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Ms),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root.hasTreeAnimated;if(this.instance)return;var r;this.isSVG=(r=e)instanceof SVGElement&&"svg"!==r.tagName,this.instance=e;const{layoutId:s,layout:i,visualElement:a}=this.options;if(a&&!a.current&&a.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),n&&(i||s)&&(this.isLayoutDirty=!0),t){let n;const r=()=>this.root.updateBlockedByResize=!1;t(e,()=>{this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=performance.now(),r=s=>{let{timestamp:i}=s;const a=i-n;a>=t&&(pn(r),e(a-t))};return fn.read(r,!0),()=>pn(r)}(r,250),ta.hasAnimatedSinceResize&&(ta.hasAnimatedSinceResize=!1,this.nodes.forEach(qa))})}s&&this.root.registerSharedNode(s,this),!1!==this.options.animate&&a&&(s||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeTargetChanged:r,layout:s}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const i=this.options.transition||a.getDefaultTransition()||Ja,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=a.getProps(),c=!this.targetLayout||!Ea(this.targetLayout,s)||r,u=!n&&r;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||u||n&&(c||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(t,u);const e=Ce(Ce({},Is(i,"layout")),{},{onPlay:o,onComplete:l});(a.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e)}else n||qa(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ga),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Ba);this.isUpdating||this.nodes.forEach(za),this.isUpdating=!1,this.nodes.forEach(Ha),this.nodes.forEach(La),this.nodes.forEach(Ma),this.clearAllSnapshots();const e=performance.now();mn.delta=ft(0,1e3/60,e-mn.timestamp),mn.timestamp=e,mn.isProcessing=!0,gn.update.process(mn),gn.preRender.process(mn),gn.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Ua),this.sharedNodes.forEach(Qa)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure())}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&(this.scroll={animationId:this.root.animationId,phase:e,isRoot:s(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform,t=this.projectionDelta&&!Sa(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,s=r!==this.prevTransformTemplateValue;e&&(t||Li(this.latestValues)||s)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),to((r=n).x),to(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox(),{scroll:n}=this.root;return n&&(qi(t.x,n.offset.x),qi(t.y,n.offset.y)),t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ya(t,e);for(let n=0;n<this.path.length;n++){const r=this.path[n],{scroll:s,options:i}=r;if(r!==this.root&&s&&i.layoutScroll){if(s.isRoot){ya(t,e);const{scroll:n}=this.root;n&&(qi(t.x,-n.offset.x),qi(t.y,-n.offset.y))}qi(t.x,s.offset.x),qi(t.y,s.offset.y)}}return t}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};ya(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&Qi(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Li(e.latestValues)&&Qi(n,e.latestValues)}return Li(this.latestValues)&&Qi(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};ya(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!Li(e.latestValues))continue;Oi(e.latestValues)&&e.updateSnapshot();const r=Pi();ya(r,e.measurePageBox()),ka(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return Li(this.latestValues)&&ka(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=Ce(Ce(Ce({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||(null===(t=this.parent)||void 0===t?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget))return;const{layout:s,layoutId:i}=this.options;if(this.layout&&(s||i)){if(this.resolvedRelativeTargetAt=mn.timestamp,!this.targetDelta&&!this.relativeTarget){const e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ei(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){var a,o,l;if(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,o=this.relativeTarget,l=this.relativeParent.target,Ni(a.x,o.x,l.x),Ni(a.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):ya(this.target,this.layout.layoutBox),zi(this.target,this.targetDelta)):ya(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const e=this.getClosestProjectingParent();e&&Boolean(e.resumingFrom)===Boolean(this.resumingFrom)&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ei(this.relativeTargetOrigin,this.target,e.target),ya(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ra.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(this.parent&&!Oi(this.parent.latestValues)&&!Mi(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||(null===(e=this.parent)||void 0===e?void 0:e.isProjectionDirty))&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(r=!1),r)return;const{layout:s,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!s&&!i)return;ya(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=n.length;if(!s)return;let i,a;t.x=t.y=1;for(let o=0;o<s;o++){i=n[o],a=i.projectionDelta;const s=i.instance;s&&s.style&&"contents"===s.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Qi(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,zi(e,a)),r&&Li(i.latestValues)&&Qi(e,i.latestValues))}t.x=Hi(t.x),t.y=Hi(t.y)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox);const{target:l}=t;if(!l)return void(this.projectionTransform&&(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionTransform="none",this.scheduleRender()));this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});const c=this.projectionTransform;ki(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.projectionTransform=Ca(this.projectionDelta,this.treeScale),this.projectionTransform===c&&this.treeScale.x===a&&this.treeScale.y===o||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Ra.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.options.scheduleRender&&this.options.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},s=Ce({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some($a));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,h,f,p;Ya(i.x,e.x,n),Ya(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),l=this.relativeTarget,h=this.relativeTargetOrigin,f=a,p=n,Xa(l.x,h.x,f.x,p),Xa(l.y,h.y,f.y,p),d&&function(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}(this.relativeTarget,d)&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),ya(d,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,n,r,s,i){s?(e.opacity=kr(0,void 0!==n.opacity?n.opacity:1,fa(r)),e.opacityExit=kr(void 0!==t.opacity?t.opacity:1,0,pa(r))):i&&(e.opacity=kr(void 0!==t.opacity?t.opacity:1,void 0!==n.opacity?n.opacity:1,r));for(let a=0;a<ca;a++){const s="border".concat(la[a],"Radius");let i=ha(t,s),o=ha(n,s);void 0===i&&void 0===o||(i||(i=0),o||(o=0),0===i||0===o||da(i)===da(o)?(e[s]=Math.max(kr(ua(i),ua(o),r),0),(St.test(o)||St.test(i))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=kr(t.rotate||0,n.rotate||0,r))}(s,r,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fn.update(()=>{ta.hasAnimatedSinceResize=!0,this.currentAnimation=function(e,t,n){const r=at(e)?e:Us(e);return r.start(As("",r,t,n)),r.animation}(0,1e3,Ce(Ce({},e),{},{onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:s}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&no(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=xi(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=xi(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}ya(t,n),Qi(t,s),ki(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new _a);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.rotate||n.rotateX||n.rotateY||n.rotateZ)&&(t=!0),!t)return;const r={};for(let s=0;s<Pa.length;s++){const t="rotate"+Pa[s];n[t]&&(r[t]=n[t],e.setStaticValue(t,0))}e.render();for(const s in r)e.setStaticValue(s,r[s]);e.scheduleRender()}getProjectionStyles(e){var t,n;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Aa;const r={visibility:""},s=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,r.opacity="",r.pointerEvents=an(null===e||void 0===e?void 0:e.pointerEvents)||"",r.transform=s?s(this.latestValues,""):"none",r;const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){const t={};return this.options.layoutId&&(t.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,t.pointerEvents=an(null===e||void 0===e?void 0:e.pointerEvents)||""),this.hasProjected&&!Li(this.latestValues)&&(t.transform=s?s({},""):"none",this.hasProjected=!1),t}const a=i.animationValues||i.latestValues;this.applyTransformsToTarget(),r.transform=Ca(this.projectionDeltaWithTransform,this.treeScale,a),s&&(r.transform=s(a,r.transform));const{x:o,y:l}=this.projectionDelta;r.transformOrigin="".concat(100*o.origin,"% ").concat(100*l.origin,"% 0"),i.animationValues?r.opacity=i===this?null!==(n=null!==(t=a.opacity)&&void 0!==t?t:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:a.opacityExit:r.opacity=i===this?void 0!==a.opacity?a.opacity:"":void 0!==a.opacityExit?a.opacityExit:0;for(const c in nt){if(void 0===a[c])continue;const{correct:e,applyTo:t}=nt[c],n="none"===r.transform?a[c]:e(a[c],i);if(t){const e=t.length;for(let s=0;s<e;s++)r[t[s]]=n}else r[c]=n}return this.options.layoutId&&(r.pointerEvents=i===this?an(null===e||void 0===e?void 0:e.pointerEvents)||"":"none"),r}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(Ba),this.root.sharedNodes.clear()}}}function La(e){e.updateLayout()}function Ma(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:s}=e.options,i=n.source!==e.layout.source;"size"===s?Ai(e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],s=xi(r);r.min=t[e].min,r.max=r.min+s}):no(s,n.layoutBox,t)&&Ai(r=>{const s=i?n.measuredBox[r]:n.layoutBox[r],a=xi(t[r]);s.max=s.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};ki(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?ki(o,e.applyTransform(r,!0),n.measuredBox):ki(o,t,n.layoutBox);const l=!Sa(a);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:s,layout:i}=r;if(s&&i){const a={x:{min:0,max:0},y:{min:0,max:0}};Ei(a,n.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Ei(o,t,i.layoutBox),Ea(a,o)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Fa(e){Ra.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Va(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ua(e){e.clearSnapshot()}function Ba(e){e.clearMeasurements()}function za(e){e.isLayoutDirty=!1}function Ha(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qa(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Wa(e){e.resolveTargetDelta()}function Ka(e){e.calcProjection()}function Ga(e){e.resetRotation()}function Qa(e){e.removeLeadSnapshot()}function Ya(e,t,n){e.translate=kr(t.translate,0,n),e.scale=kr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Xa(e,t,n,r){e.min=kr(t.min,n.min,r),e.max=kr(t.max,n.max,r)}function $a(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const Ja={duration:.45,ease:[.4,0,.1,1]},Za=e=>"undefined"!==typeof navigator&&navigator.userAgent.toLowerCase().includes(e),eo=Za("applewebkit/")&&!Za("chrome/")?Math.round:un;function to(e){e.min=eo(e.min),e.max=eo(e.max)}function no(e,t,n){return"position"===e||"preserve-aspect"===e&&!wi(Ta(t),Ta(n),.2)}const ro=Oa({attachResizeListener:(e,t)=>xn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),so={current:void 0},io=Oa({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!so.current){const e=new ro({});e.mount(window),e.setOptions({layoutScroll:!0}),so.current=e}return so.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),ao={pan:{Feature:class extends In{constructor(){super(...arguments),this.removePointerDownListener=un}onPointerDown(e){this.session=new hi(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xi(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ea(e),onStart:ea(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&fn.update(()=>r(e,t))}}}mount(){this.removePointerDownListener=kn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends In{constructor(e){super(e),this.removeGroupControls=un,this.removeListeners=un,this.controls=new Ji(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||un}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:io,MeasureLayout:aa}};const oo=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Wn(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));const[r,s]=function(e){const t=oo.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Rs(e)?parseFloat(e):e}return dt(s)?lo(s,t,n+1):s}function co(e,t,n){let r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));const s=e.current;if(!(s instanceof Element))return{target:r,transitionEnd:n};n&&(n=Ce({},n)),e.values.forEach(e=>{const t=e.get();if(!dt(t))return;const n=lo(t,s);n&&e.set(n)});for(const i in r){const e=r[i];if(!dt(e))continue;const t=lo(e,s);t&&(r[i]=t,n||(n={}),void 0===n[i]&&(n[i]=e))}return{target:r,transitionEnd:n}}const uo=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ho=e=>uo.has(e),fo=e=>e===pt||e===Et,po=(e,t)=>parseFloat(e.split(", ")[t]),mo=(e,t)=>(n,r)=>{let{transform:s}=r;if("none"===s||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return po(i[1],t);{const t=s.match(/^matrix\((.+)\)$/);return t?po(t[1],e):0}},go=new Set(["x","y","z"]),yo=rt.filter(e=>!go.has(e));const vo={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:s="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(s)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:mo(4,13),y:mo(5,14)};vo.translateX=vo.x,vo.translateY=vo.y;const xo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Ce({},t),r=Ce({},r);const s=Object.keys(t).filter(ho);let i=[],a=!1;const o=[];if(s.forEach(s=>{const l=e.getValue(s);if(!e.hasValue(s))return;let c=n[s],u=Hs(c);const d=t[s];let h;if(rn(d)){const e=d.length,t=null===d[0]?1:0;c=d[t],u=Hs(c);for(let n=t;n<e&&null!==d[n];n++)h?Wn(Hs(d[n])===h,"All keyframes must be of the same type"):(h=Hs(d[n]),Wn(h===u||fo(u)&&fo(h),"Keyframes must be of the same dimension as the current value"))}else h=Hs(d);if(u!==h)if(fo(u)&&fo(h)){const e=l.get();"string"===typeof e&&l.set(parseFloat(e)),"string"===typeof d?t[s]=parseFloat(d):Array.isArray(d)&&h===Et&&(t[s]=d.map(parseFloat))}else(null===u||void 0===u?void 0:u.transform)&&(null===h||void 0===h?void 0:h.transform)&&(0===c||0===d)?0===c?l.set(h.transform(c)):t[s]=u.transform(d):(a||(i=function(e){const t=[];return yo.forEach(n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}(e),a=!0),o.push(s),r[s]=void 0!==r[s]?r[s]:t[s],l.jump(d))}),o.length){const n=o.indexOf("height")>=0?window.pageYOffset:null,s=((e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,o={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(e=>{o[e]=vo[e](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(n=>{const r=t.getValue(n);r&&r.jump(o[n]),e[n]=vo[n](l,i)}),e})(t,e,o);return i.length&&i.forEach(t=>{let[n,r]=t;e.getValue(n).set(r)}),e.render(),Ae&&null!==n&&window.scrollTo({top:n}),{target:s,transitionEnd:r}}return{target:t,transitionEnd:r}};function wo(e,t,n,r){return(e=>Object.keys(e).some(ho))(t)?xo(e,t,n,r):{target:t,transitionEnd:r}}const bo={current:null},ko={current:!1};const No=new WeakMap,So=["willChange"],Eo=["children"],To=Object.keys(Ge),_o=To.length,Co=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],jo=Be.length;class Io{constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=i;this.latestValues=o,this.baseTarget=Ce({},o),this.initialValues=n.initial?Ce({},o):{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=ze(n),this.isVariantNode=He(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const c=this.scrapeMotionValuesFromProps(n,{}),{willChange:u}=c,d=Ut(c,So);for(const h in d){const e=d[h];void 0!==o[h]&&at(e)&&(e.set(o[h],!1),Ds(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,No.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ko.current||function(){if(ko.current=!0,Ae)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bo.current=e.matches;e.addListener(t),t()}else bo.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||bo.current),this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){No.delete(this.current),this.projection&&this.projection.unmount(),pn(this.notifyUpdate),pn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const n=st.has(e),r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&fn.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{r(),s()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}loadFeatures(e,t,n,r){let s,i,{children:a}=e,o=Ut(e,Eo);for(let l=0;l<_o;l++){const e=To[l],{isEnabled:t,Feature:n,ProjectionNode:r,MeasureLayout:a}=Ge[e];r&&(s=r),t(o)&&(!this.features[e]&&n&&(this.features[e]=new n(this)),a&&(i=a))}if(("html"===this.type||"svg"===this.type)&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:e,layout:t,drag:n,dragConstraints:i,layoutScroll:a,layoutRoot:l}=o;this.projection.setOptions({layoutId:e,layout:t,alwaysMeasureLayout:Boolean(n)||i&&Me(i),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:"string"===typeof t?t:"both",initialPromotionConfig:r,layoutScroll:a,layoutRoot:l})}return i}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<Co.length;n++){const t=Co[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],a=n[s];if(at(i))e.addValue(s,i),Ds(r)&&r.add(s);else if(at(a))e.addValue(s,Us(i,{owner:e})),Ds(r)&&r.remove(s);else if(a!==i)if(e.hasValue(s)){const t=e.getValue(s);!t.hasAnimated&&t.set(i)}else{const t=e.getStaticValue(s);e.addValue(s,Us(void 0!==t?t:i,{owner:e}))}}for(const s in n)void 0===t[s]&&e.removeValue(s);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const e=this.parent&&this.parent.getVariantContext()||{};return void 0!==this.props.initial&&(e.initial=this.props.initial),e}const e={};for(let t=0;t<jo;t++){const n=Be[t],r=this.props[n];(Fe(r)||!1===r)&&(e[n]=r)}return e}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Us(t,{owner:this}),this.addValue(e,n)),n}readValue(e){var t;return void 0===this.latestValues[e]&&this.current?null!==(t=this.getBaseTargetFromProps(this.props,e))&&void 0!==t?t:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e]}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props,r="string"===typeof n||"object"===typeof n?null===(t=tn(this.props,n))||void 0===t?void 0:t[e]:void 0;if(n&&void 0!==r)return r;const s=this.getBaseTargetFromProps(this.props,e);return void 0===s||at(s)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:s}on(e,t){return this.events[e]||(this.events[e]=new Ms),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}}const Po=["transition","transitionEnd"];class Ao extends Io{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}makeTargetAnimatableFromInstance(e,t,n){let{transition:r,transitionEnd:s}=e,i=Ut(e,Po),{transformValues:a}=t,o=function(e,t,n){const r={};for(const s in e){const e=Ys(s,t);if(void 0!==e)r[s]=e;else{const e=n.getValue(s);e&&(r[s]=e.get())}}return r}(i,r||{},this);if(a&&(s&&(s=a(s)),i&&(i=a(i)),o&&(o=a(o))),n){!function(e,t,n){var r,s;const i=Object.keys(t).filter(t=>!e.hasValue(t)),a=i.length;if(a)for(let o=0;o<a;o++){const a=i[o],l=t[a];let c=null;Array.isArray(l)&&(c=l[0]),null===c&&(c=null!==(s=null!==(r=n[a])&&void 0!==r?r:e.readValue(a))&&void 0!==s?s:t[a]),void 0!==c&&null!==c&&("string"===typeof c&&(Rs(c)||_s(c))?c=parseFloat(c):!Ws(c)&&Lr.test(l)&&(c=Ts(a,l)),e.addValue(a,Us(c,{owner:e})),void 0===n[a]&&(n[a]=c),null!==c&&e.setBaseTarget(a,c))}}(this,i,o);const e=((e,t,n,r)=>{const s=co(e,t,r);return wo(e,t=s.target,n,r=s.transitionEnd)})(this,i,o,s);s=e.transitionEnd,i=e.target}return Ce({transition:r,transitionEnd:s},i)}}class Do extends Ao{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(st.has(t)){const e=Es(t);return e&&e.default||0}{const r=(n=e,window.getComputedStyle(n)),s=(ut(t)?r.getPropertyValue(t):r[t])||0;return"string"===typeof s?s.trim():s}var n}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return Yi(e,n)}build(e,t,n,r){Pt(e,t,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Zt(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;at(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}renderInstance(e,t,n,r){Xt(e,t,n,r)}}class Ro extends Ao{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(st.has(t)){const e=Es(t);return e&&e.default||0}return t=$t.has(t)?t:Oe(t),e.getAttribute(t)}measureInstanceViewportBox(){return{x:{min:0,max:0},y:{min:0,max:0}}}scrapeMotionValuesFromProps(e,t){return en(e,t)}build(e,t,n,r){Wt(e,t,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,n,r){Jt(e,t,0,r)}mount(e){this.isSVGTag=Gt(e.tagName),super.mount(e)}}const Oo=(e,t)=>tt(e)?new Ro(t,{enableHardwareAcceleration:!1}):new Do(t,{enableHardwareAcceleration:!0}),Lo={layout:{ProjectionNode:io,MeasureLayout:aa}},Mo=Ce(Ce(Ce(Ce({},ui),Bn),ao),Lo),Fo=Ze((e,t)=>function(e,t,n,r){let{forwardMotionProps:s=!1}=t;return Ce(Ce({},tt(e)?yn:vn),{},{preloadedFeatures:n,useRender:Yt(s),createVisualElement:r,Component:e})}(e,t,Mo,Oo));var Vo=n(579);const Uo=e=>{let{children:t,variant:n="primary",size:r="md",onClick:s,disabled:i=!1,className:a="",type:o="button"}=e;const l=i?"opacity-50 cursor-not-allowed":"cursor-pointer",c="".concat("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500",outline:"border border-gray-300 text-gray-700 hover:bg-gray-50 focus:ring-gray-500",ghost:"text-gray-700 hover:bg-gray-100 focus:ring-gray-500"}[n]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[r]," ").concat(l," ").concat(a);return(0,Vo.jsx)(Fo.button,{type:o,className:c,onClick:s,disabled:i,whileHover:i?{}:{scale:1.02},whileTap:i?{}:{scale:.98},children:t})};var Bo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zo=["color","size","strokeWidth","absoluteStrokeWidth","children"];var Ho=(e,t)=>{const n=(0,s.forwardRef)((n,r)=>{let{color:i="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,children:c}=n,u=Ut(n,zo);return(0,s.createElement)("svg",Ce(Ce({ref:r},Bo),{},{width:a,height:a,stroke:i,strokeWidth:l?24*Number(o)/Number(a):o,className:"lucide lucide-".concat((d=e,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...t.map(e=>{let[t,n]=e;return(0,s.createElement)(t,n)}),...(Array.isArray(c)?c:[c])||[]]);var d});return n.displayName="".concat(e),n};const qo=Ho("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]),Wo=Ho("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Ko=Ho("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Go=Ho("Car",[["path",{d:"M14 16H9m10 0h3v-3.15a1 1 0 0 0-.84-.99L16 11l-2.7-3.6a1 1 0 0 0-.8-.4H5.24a2 2 0 0 0-1.8 1.1l-.8 1.63A6 6 0 0 0 2 12.42V16h2",key:"l5np60"}],["circle",{cx:"6.5",cy:"16.5",r:"2.5",key:"ae40ju"}],["circle",{cx:"16.5",cy:"16.5",r:"2.5",key:"1smtlt"}]]),Qo=Ho("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);function Yo(){const e=(0,s.useRef)(!1);return De(()=>(e.current=!0,()=>{e.current=!1}),[]),e}class Xo extends s.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $o(e){let{children:t,isPresent:n}=e;const r=(0,s.useId)(),i=(0,s.useRef)(null),a=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{const{width:e,height:t,top:s,left:o}=a.current;if(n||!i.current||!e||!t)return;i.current.dataset.motionPopId=r;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(r,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            top: ").concat(s,"px !important;\n            left: ").concat(o,"px !important;\n          }\n        ")),()=>{document.head.removeChild(l)}},[n]),s.createElement(Xo,{isPresent:n,childRef:i,sizeRef:a},s.cloneElement(t,{ref:i}))}const Jo=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:l}=e;const c=nn(Zo),u=(0,s.useId)(),d=(0,s.useMemo)(()=>({id:u,initial:n,isPresent:r,custom:a,onExitComplete:e=>{c.set(e,!0);for(const t of c.values())if(!t)return;i&&i()},register:e=>(c.set(e,!1),()=>c.delete(e))}),o?void 0:[r]);return(0,s.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),s.useEffect(()=>{!r&&!c.size&&i&&i()},[r]),"popLayout"===l&&(t=s.createElement($o,{isPresent:r},t)),s.createElement(Pe.Provider,{value:d},t)};function Zo(){return new Map}const el=e=>e.key||"";const tl=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:i,exitBeforeEnter:a,presenceAffectsLayout:o=!0,mode:l="sync"}=e;Wn(!a,"Replace exitBeforeEnter with mode='wait'");const c=(0,s.useContext)(Qe).forceRender||function(){const e=Yo(),[t,n]=(0,s.useState)(0),r=(0,s.useCallback)(()=>{e.current&&n(t+1)},[t]);return[(0,s.useCallback)(()=>fn.postRender(r),[r]),t]}()[0],u=Yo(),d=function(e){const t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(t);let h=d;const f=(0,s.useRef)(new Map).current,p=(0,s.useRef)(h),m=(0,s.useRef)(new Map).current,g=(0,s.useRef)(!0);var y;if(De(()=>{g.current=!1,function(e,t){e.forEach(e=>{const n=el(e);t.set(n,e)})}(d,m),p.current=h}),y=()=>{g.current=!0,m.clear(),f.clear()},(0,s.useEffect)(()=>()=>y(),[]),g.current)return s.createElement(s.Fragment,null,h.map(e=>s.createElement(Jo,{key:el(e),isPresent:!0,initial:!!r&&void 0,presenceAffectsLayout:o,mode:l},e)));h=[...h];const v=p.current.map(el),x=d.map(el),w=v.length;for(let s=0;s<w;s++){const e=v[s];-1!==x.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===l&&f.size&&(h=[]),f.forEach((e,t)=>{if(-1!==x.indexOf(t))return;const r=m.get(t);if(!r)return;const a=v.indexOf(t);let g=e;if(!g){const e=()=>{f.delete(t);const e=Array.from(m.keys()).filter(e=>!x.includes(e));if(e.forEach(e=>m.delete(e)),p.current=d.filter(n=>{const r=el(n);return r===t||e.includes(r)}),!f.size){if(!1===u.current)return;c(),i&&i()}};g=s.createElement(Jo,{key:el(r),isPresent:!1,onExitComplete:e,custom:n,presenceAffectsLayout:o,mode:l},r),f.set(t,g)}h.splice(a,0,g)}),h=h.map(e=>{const t=e.key;return f.has(t)?e:s.createElement(Jo,{key:el(e),isPresent:!0,presenceAffectsLayout:o,mode:l},e)}),s.createElement(s.Fragment,null,f.size?h:h.map(e=>(0,s.cloneElement)(e)))},nl=()=>{const e=ne(),t=ee(),n=[{path:"/",label:"Book Ride",icon:"\ud83c\udfe0",isActive:"/"===t.pathname},{path:"/my-rides",label:"My Rides",icon:"\u23f0",isActive:"/my-rides"===t.pathname},{path:"/refer-earn",label:"Refer & Earn",icon:"\ud83c\udf81",isActive:"/refer-earn"===t.pathname},{path:"/help-support",label:"Help & Support",icon:"\u2753",isActive:"/help-support"===t.pathname},{path:"/about",label:"About",icon:"\u2139\ufe0f",isActive:"/about"===t.pathname}];return(0,Vo.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-dark-800 border-t border-dark-700",children:(0,Vo.jsx)("div",{className:"flex justify-around py-4",children:n.map((t,n)=>(0,Vo.jsxs)(Fo.button,{onClick:()=>e(t.path),className:"flex flex-col items-center space-y-1 transition-colors ".concat(t.isActive?"text-primary-400":"text-gray-400"),whileHover:{scale:1.1},whileTap:{scale:.9},children:[(0,Vo.jsx)("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center ".concat(t.isActive?"bg-primary-600":""),children:t.isActive?(0,Vo.jsx)("span",{className:"text-white text-xs",children:t.icon}):(0,Vo.jsx)("span",{className:"text-xs",children:t.icon})}),(0,Vo.jsx)("span",{className:"text-xs",children:t.label})]},n))})})},rl=Ho("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),sl=Ho("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),il=Ho("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),al=Ho("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ol=Ho("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),ll=Ho("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),cl=Ho("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ul=Ho("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),dl=Ho("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),hl=e=>{let{placeholder:t,value:n,onChange:r,onSelect:i,isOpen:a,onToggle:o}=e;const[l,c]=(0,s.useState)([]),[u,d]=(0,s.useState)([]),[h,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)([]),g=(0,s.useRef)(null),y=(0,s.useRef)(null),v=(0,s.useRef)(),x=(0,s.useCallback)(async e=>{if(e.length<2)m([]);else{f(!0);try{console.log("Fetching Google suggestions for:",e);const n=[{types:"establishment",components:""},{types:"geocode",components:""},{types:"airport",components:""},{types:"transit_station",components:""}];for(const r of n){var t;const n=new URLSearchParams({input:e,key:"AIzaSyBMYojSzsBw6Mkr5iDpKvWAfwgQCT8CZTE",types:r.types,language:"en"}),s=await fetch("/maps/api/place/autocomplete/json?".concat(n)),i=await s.json();if(console.log("Google API Response:",i.status,(null===(t=i.predictions)||void 0===t?void 0:t.length)||0,"Strategy:",r.types),"OK"===i.status&&i.predictions&&i.predictions.length>0){const e=i.predictions.map(e=>({id:e.place_id,name:e.structured_formatting.main_text,address:e.structured_formatting.secondary_text,type:"google",placeId:e.place_id}));m(e);break}if("REQUEST_DENIED"===i.status){console.error("API Key issue:",i.error_message),m([]);break}if("OVER_QUERY_LIMIT"===i.status){console.error("API quota exceeded"),m([]);break}"ZERO_RESULTS"!==i.status||console.log("No results for strategy:",r.types)}}catch(n){console.error("Error fetching Google suggestions:",n),m([])}finally{f(!1)}}},[]);(0,s.useEffect)(()=>(v.current&&clearTimeout(v.current),n.trim()?v.current=setTimeout(()=>{x(n)},300):m([]),()=>{v.current&&clearTimeout(v.current)}),[n,x]),(0,s.useEffect)(()=>{c([{id:"home",name:"Home",address:"123 Main Street, Delhi",type:"saved"},{id:"office",name:"Office",address:"456 Business Park, Delhi",type:"saved"},{id:"recent1",name:"Mall of India",address:"Noida, UP",type:"recent"},{id:"recent2",name:"DLF Cyber Hub",address:"Gurgaon, Haryana",type:"recent"},{id:"recent3",name:"Jabalpur Airport",address:"Jabalpur, MP",type:"recent"},{id:"delhi-airport",name:"Indira Gandhi International Airport",address:"Delhi, India",type:"popular"},{id:"mumbai-airport",name:"Chhatrapati Shivaji International Airport",address:"Mumbai, Maharashtra",type:"popular"},{id:"bangalore-airport",name:"Kempegowda International Airport",address:"Bangalore, Karnataka",type:"popular"},{id:"jabalpur-airport",name:"Jabalpur Airport",address:"Jabalpur, Madhya Pradesh",type:"popular"},{id:"cp",name:"Connaught Place",address:"CP, New Delhi",type:"popular"},{id:"lajpat",name:"Lajpat Nagar",address:"Lajpat Nagar, Delhi",type:"popular"},{id:"cyber-city",name:"Cyber City",address:"Gurgaon, Haryana",type:"popular"},{id:"bandra-west",name:"Bandra West",address:"Mumbai, Maharashtra",type:"popular"},{id:"koramangala",name:"Koramangala",address:"Bangalore, Karnataka",type:"popular"},{id:"baner",name:"Baner",address:"Pune, Maharashtra",type:"popular"},{id:"fallback-jabalpur",name:"Jabalpur, Madhya Pradesh",address:"Jabalpur, MP, India",type:"popular"},{id:"fallback-delhi",name:"Delhi, India",address:"Delhi, India",type:"popular"},{id:"fallback-mumbai",name:"Mumbai, Maharashtra",address:"Mumbai, Maharashtra, India",type:"popular"},{id:"fallback-bangalore",name:"Bangalore, Karnataka",address:"Bangalore, Karnataka, India",type:"popular"},{id:"fallback-pune",name:"Pune, Maharashtra",address:"Pune, Maharashtra, India",type:"popular"},{id:"fallback-hyderabad",name:"Hyderabad, Telangana",address:"Hyderabad, Telangana, India",type:"popular"},{id:"fallback-chennai",name:"Chennai, Tamil Nadu",address:"Chennai, Tamil Nadu, India",type:"popular"},{id:"fallback-kolkata",name:"Kolkata, West Bengal",address:"Kolkata, West Bengal, India",type:"popular"}])},[]),(0,s.useEffect)(()=>{let e=[...l,...p];if(n.trim()){const t=n.toLowerCase(),r=e.filter(e=>{const n=e.name.toLowerCase().includes(t),r=e.address.toLowerCase().includes(t),s=t.split(" ").filter(e=>e.length>0),i=e.name.toLowerCase().split(" "),a=e.address.toLowerCase().split(" "),o=s.some(e=>i.some(t=>t.includes(e))),l=s.some(e=>a.some(t=>t.includes(e)));return n||r||o||l}).sort((e,t)=>{const n={saved:0,recent:1,popular:2,google:3};return(n[e.type]||4)-(n[t.type]||4)});d(r)}else{const t=e.sort((e,t)=>{const n={saved:0,recent:1,popular:2,google:3};return(n[e.type]||4)-(n[t.type]||4)});d(t)}},[l,p,n]),(0,s.useEffect)(()=>{const e=e=>{g.current&&!g.current.contains(e.target)&&o()};return a&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[a,o]);const w=e=>{switch(e){case"saved":return"Saved";case"popular":return"Popular";case"recent":return"Recent";case"google":return"Search Result";default:return"Location"}},b=e=>{const t=e.name.toLowerCase(),n=e.address.toLowerCase();return t.includes("airport")||n.includes("airport")?(0,Vo.jsx)(qo,{className:"w-4 h-4 text-blue-500"}):t.includes("mall")||t.includes("shopping")||t.includes("market")?(0,Vo.jsx)(dl,{className:"w-4 h-4 text-orange-500"}):t.includes("hotel")||t.includes("restaurant")||t.includes("cafe")?(0,Vo.jsx)(dl,{className:"w-4 h-4 text-red-500"}):t.includes("station")||t.includes("metro")?(0,Vo.jsx)(dl,{className:"w-4 h-4 text-green-500"}):(e=>{switch(e){case"saved":return(0,Vo.jsx)(ll,{className:"w-4 h-4 text-blue-400"});case"popular":return(0,Vo.jsx)(cl,{className:"w-4 h-4 text-yellow-400"});case"recent":return(0,Vo.jsx)(Wo,{className:"w-4 h-4 text-green-400"});case"google":return(0,Vo.jsx)(ul,{className:"w-4 h-4 text-purple-400"});default:return(0,Vo.jsx)(ol,{className:"w-4 h-4 text-gray-400"})}})(e.type)};return(0,Vo.jsxs)("div",{className:"relative",ref:g,children:[(0,Vo.jsxs)("div",{className:"relative",children:[(0,Vo.jsx)("input",{ref:y,type:"text",placeholder:t,value:n,onChange:e=>r(e.target.value),onFocus:o,className:"w-full bg-dark-700 rounded-lg p-4 pl-12 text-white placeholder-gray-400 outline-none border border-dark-600 focus:border-primary-500"}),(0,Vo.jsx)(ul,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"})]}),(0,Vo.jsx)(tl,{children:a&&(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-2 bg-dark-700 rounded-lg border border-dark-600 max-h-96 overflow-y-auto z-50 shadow-xl",children:[h&&(0,Vo.jsxs)("div",{className:"p-4 text-center text-gray-400",children:[(0,Vo.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-400 mx-auto mb-2"}),(0,Vo.jsx)("p",{children:"Searching..."})]}),!h&&u.length>0&&(0,Vo.jsx)("div",{className:"py-2",children:u.map((e,t)=>(0,Vo.jsxs)(Fo.button,{onClick:()=>(e=>{console.log("Location selected:",e),r(e.address),i(e),a&&o()})(e),className:"w-full flex items-start space-x-3 p-3 hover:bg-dark-600 transition-colors text-left border-b border-dark-600 last:border-b-0",whileHover:{backgroundColor:"rgba(55, 65, 81, 0.5)"},children:[(0,Vo.jsx)("div",{className:"flex-shrink-0 mt-1",children:b(e)}),(0,Vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Vo.jsx)("p",{className:"font-medium text-white truncate",children:e.name}),(0,Vo.jsx)("span",{className:"text-xs text-gray-500 bg-gray-700 px-2 py-1 rounded",children:w(e.type)})]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400 truncate",children:e.address})]})]},"".concat(e.type,"-").concat(e.id,"-").concat(t)))}),!h&&0===u.length&&n.trim()&&(0,Vo.jsxs)("div",{className:"p-4 text-center text-gray-400",children:[(0,Vo.jsx)(ol,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Vo.jsx)("p",{children:"No locations found"}),(0,Vo.jsx)("p",{className:"text-xs mt-1",children:"Try searching for a different location"}),(0,Vo.jsx)("p",{className:"text-xs mt-1 text-gray-500",children:"Using Google Places API for real-time search results"})]}),!h&&0===u.length&&!n.trim()&&(0,Vo.jsxs)("div",{className:"p-4 text-center text-gray-400",children:[(0,Vo.jsx)(ol,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),(0,Vo.jsx)("p",{children:"Start typing to search locations"}),(0,Vo.jsx)("p",{className:"text-xs mt-1 text-gray-500",children:"Popular locations and recent searches will appear here"})]})]})})]})},fl=e=>{let{pickup:t,destination:n,stops:r,onPickupChange:i,onDestinationChange:a,onStopsChange:o,onAddStop:l,onRemoveStop:c,onReorderStops:u}=e;const[d,h]=(0,s.useState)(null),[f,p]=(0,s.useState)((null===t||void 0===t?void 0:t.address)||""),[m,g]=(0,s.useState)((null===n||void 0===n?void 0:n.address)||""),[y,v]=(0,s.useState)(r.map(e=>e.address||""));s.useEffect(()=>{p((null===t||void 0===t?void 0:t.address)||"")},[t]),s.useEffect(()=>{g((null===n||void 0===n?void 0:n.address)||"")},[n]),s.useEffect(()=>{try{const e=r.map(e=>(null===e||void 0===e?void 0:e.address)||"");v(e),console.log("Updated stop inputs:",e)}catch(e){console.error("Error updating stop inputs:",e),v([])}},[r]);return(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsx)("div",{className:"relative",children:(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(rl,{className:"w-4 h-4 text-white"})}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Pickup Location"}),(0,Vo.jsx)(hl,{placeholder:"Where from?",value:f,onChange:p,onSelect:i,isOpen:"pickup"===d,onToggle:()=>h("pickup"===d?null:"pickup")})]})]})}),(0,Vo.jsx)(tl,{children:r&&r.length>0&&r.map((e,t)=>e?(0,Vo.jsx)(Fo.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:(0,Vo.jsx)("div",{className:"relative",draggable:!0,onDragStart:e=>((e,t)=>{e.dataTransfer.setData("text/plain",t.toString())})(e,t),onDragOver:e=>(e=>{e.preventDefault()})(e),onDrop:e=>((e,t)=>{e.preventDefault();const n=parseInt(e.dataTransfer.getData("text/plain"));n!==t&&u(n,t)})(e,t),children:(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center cursor-move",children:(0,Vo.jsx)(sl,{className:"w-4 h-4 text-white"})}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsxs)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:["Stop ",t+1]}),(0,Vo.jsx)(hl,{placeholder:"Stop ".concat(t+1),value:y[t]||"",onChange:e=>((e,t)=>{const n=[...y];n[e]=t,v(n)})(t,e),onSelect:e=>((e,t)=>{const n=[...r];n[e]=t,o(n)})(t,e),isOpen:d==="stop-".concat(t),onToggle:()=>h(d==="stop-".concat(t)?null:"stop-".concat(t))})]}),(0,Vo.jsx)("button",{onClick:()=>c(t),className:"flex-shrink-0 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",children:(0,Vo.jsx)(il,{className:"w-4 h-4 text-white"})})]})})},"stop-".concat(t)):null)}),(0,Vo.jsxs)(Fo.button,{onClick:()=>{try{console.log("Adding stop, current stops:",r.length),l()}catch(e){console.error("Error adding stop:",e)}},className:"w-full flex items-center justify-center space-x-2 p-3 border-2 border-dashed border-gray-600 rounded-lg text-gray-400 hover:text-gray-300 hover:border-gray-500 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Vo.jsx)(al,{className:"w-4 h-4"}),(0,Vo.jsx)("span",{children:"Add Stop"})]}),(0,Vo.jsx)("div",{className:"relative",children:(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(ol,{className:"w-4 h-4 text-white"})}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Final Destination"}),(0,Vo.jsx)(hl,{placeholder:"Where to?",value:m,onChange:e=>g(e),onSelect:a,isOpen:"destination"===d,onToggle:()=>h("destination"===d?null:"destination")})]})]})}),(t||n||r.length>0)&&(0,Vo.jsxs)("div",{className:"mt-6 p-4 bg-dark-600 rounded-lg border border-dark-500",children:[(0,Vo.jsx)("h3",{className:"text-sm font-medium text-white mb-3",children:"Route Summary"}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[t&&(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Vo.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),(0,Vo.jsx)("span",{className:"text-gray-300",children:t.address})]}),r.map((e,t)=>(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Vo.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,Vo.jsx)("span",{className:"text-gray-300",children:e.address})]},t)),n&&(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 text-sm",children:[(0,Vo.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,Vo.jsx)("span",{className:"text-gray-300",children:n.address})]})]})]})]})},pl=e=>{let{pickup:t,destination:n,stops:r,onBack:i,onConfirm:a,onRouteCalculated:o}=e;const l=(0,s.useRef)(null),[c,u]=(0,s.useState)(null),[d,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),[m,g]=(0,s.useState)(null),[y,v]=(0,s.useState)(!0),[x,w]=(0,s.useState)(!1),b=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];(0,s.useEffect)(()=>{const e=()=>{w(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{const e=()=>{if(l.current&&window.google&&window.google.maps)try{console.log("Initializing Google Maps with black theme...");const e=new window.google.maps.Map(l.current,{zoom:x?13:12,center:{lat:23.1765,lng:79.9864},mapTypeId:window.google.maps.MapTypeId.ROADMAP,disableDefaultUI:x,zoomControl:!x,gestureHandling:"cooperative",styles:b,backgroundColor:"#1a1a1a",mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),t=new window.google.maps.DirectionsService,n=new window.google.maps.DirectionsRenderer({map:e,suppressMarkers:!1,polylineOptions:{strokeColor:"#3B82F6",strokeWeight:x?4:5,strokeOpacity:.8},markerOptions:{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <circle cx="12" cy="12" r="10" fill="#3B82F6" stroke="#1E40AF" stroke-width="2"/>\n                  <circle cx="12" cy="12" r="4" fill="#FFFFFF"/>\n                </svg>\n              '),scaledSize:new window.google.maps.Size(24,24),anchor:new window.google.maps.Point(12,12)}}});u(e),h(t),p(n),k(t,n)}catch(e){console.error("Error initializing Google Maps:",e),v(!1)}else console.log("Waiting for Google Maps API to load...")};if(window.google&&window.google.maps)e();else{const t=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(t),e())},100);setTimeout(()=>{clearInterval(t),console.log("Google Maps API not loaded within timeout"),v(!1)},1e4)}},[t,n,r,x]);const k=async(e,s)=>{if(e&&s&&t&&n)try{v(!0);const i=r.filter(e=>e.address&&""!==e.address.trim()).map(e=>({location:e.address,stopover:!0})),a={origin:t.address,destination:n.address,waypoints:i,travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,optimizeWaypoints:!1};console.log("Calculating route with stops:",{origin:t.address,destination:n.address,waypoints:i.map(e=>e.location)});const l=await e.route(a);if(l.routes&&l.routes.length>0){s.setDirections(l);const e=l.routes[0];let t=0,n=0;e.legs.forEach(e=>{t+=e.distance.value,n+=e.duration.value});const r="".concat((t/1e3).toFixed(1)," km"),i=n>=3600?"".concat(Math.floor(n/3600),"h ").concat(Math.floor(n%3600/60),"m"):"".concat(Math.round(n/60)," mins");g({distance:r,duration:i,durationValue:n}),console.log("Multi-destination route calculated:",r,i),null===o||void 0===o||o({distance:r,duration:i,durationValue:n})}}catch(i){console.error("Error calculating route:",i),g({distance:"15.2 km",duration:"25 mins",durationValue:1500})}finally{v(!1)}};return(0,Vo.jsxs)("div",{className:"relative bg-dark-700 rounded-lg overflow-hidden",style:{minHeight:"100vh"},children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Route Preview"}),(0,Vo.jsx)("p",{className:"text-primary-100 text-sm",children:"Your journey from pickup to destination"})]}),(0,Vo.jsx)(Fo.button,{onClick:i,className:"text-white hover:text-primary-200 transition-colors ml-4",whileHover:{scale:1.1},whileTap:{scale:.9},children:"\u2190 Back"})]})}),(0,Vo.jsxs)("div",{className:"relative",children:[(0,Vo.jsx)("div",{ref:l,className:"w-full bg-dark-900 ".concat(x?"h-80":"h-64"),style:{minHeight:x?"320px":"256px"}}),y&&(0,Vo.jsx)("div",{className:"absolute inset-0 bg-dark-900 bg-opacity-75 flex items-center justify-center",children:(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400 mx-auto mb-2"}),(0,Vo.jsx)("p",{className:"text-gray-300 text-sm",children:"Calculating route..."})]})})]}),(0,Vo.jsxs)("div",{className:"p-4 space-y-3 ".concat(x?"pb-32":"pb-4"),children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-3",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,Vo.jsx)(ol,{className:"w-4 h-4 text-primary-400 flex-shrink-0"}),(0,Vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"From"}),(0,Vo.jsx)("p",{className:"font-medium text-sm truncate",children:(null===t||void 0===t?void 0:t.address)||"Pickup location"})]})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)(ol,{className:"w-4 h-4 text-red-400 flex-shrink-0"}),(0,Vo.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"To"}),(0,Vo.jsx)("p",{className:"font-medium text-sm truncate",children:(null===n||void 0===n?void 0:n.address)||"Destination"})]})]})]}),m&&(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-3",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white",children:"Trip Details"}),(0,Vo.jsx)(Go,{className:"w-5 h-5 text-primary-400"})]}),(0,Vo.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Vo.jsxs)("div",{className:"text-center p-2 bg-dark-500 rounded",children:[(0,Vo.jsx)(Wo,{className:"w-4 h-4 text-blue-400 mx-auto mb-1"}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"Duration"}),(0,Vo.jsx)("p",{className:"font-semibold text-sm",children:m.duration})]}),(0,Vo.jsxs)("div",{className:"text-center p-2 bg-dark-500 rounded",children:[(0,Vo.jsx)(rl,{className:"w-4 h-4 text-green-400 mx-auto mb-1"}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"Distance"}),(0,Vo.jsx)("p",{className:"font-semibold text-sm",children:m.distance})]})]})]})]}),(0,Vo.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50 ".concat(x?"pb-6":""),children:[(0,Vo.jsx)(Fo.button,{onClick:a,disabled:y,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"60px"},children:y?(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Calculating Route..."]}):(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"Continue to Car Selection"}),(0,Vo.jsx)("svg",{className:"w-6 h-6 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),x&&(0,Vo.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Tap to proceed to car selection"})]})]})},ml=Ho("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),gl=e=>{let{distance:t,onSelect:n,onContinue:r,onBack:i}=e;const[a,o]=(0,s.useState)(null),l=(0,s.useMemo)(()=>(console.log("Calculating fares for distance:",t,"km"),[{id:"mini",name:"Mini",description:"Affordable rides for short trips",icon:"\ud83d\ude97",capacity:4,baseFare:40,perKmRate:12,estimatedFare:Math.round(40+12*t),eta:"2-3 min",features:["AC","Music","Clean"]},{id:"prime",name:"Prime",description:"Premium sedans for comfort",icon:"\ud83d\ude99",capacity:4,baseFare:60,perKmRate:15,estimatedFare:Math.round(60+15*t),eta:"3-4 min",features:["AC","Music","Clean","Premium"]},{id:"auto",name:"Auto",description:"Quick and economical rides",icon:"\ud83d\udefa",capacity:3,baseFare:30,perKmRate:10,estimatedFare:Math.round(30+10*t),eta:"1-2 min",features:["Quick","Economical"]},{id:"bike",name:"Bike",description:"Fastest way to reach destination",icon:"\ud83c\udfcd\ufe0f",capacity:1,baseFare:20,perKmRate:8,estimatedFare:Math.round(20+8*t),eta:"1 min",features:["Fastest","Economical"]},{id:"xl",name:"XL",description:"Spacious rides for groups",icon:"\ud83d\ude90",capacity:6,baseFare:80,perKmRate:18,estimatedFare:Math.round(80+18*t),eta:"4-5 min",features:["Spacious","AC","Music","Group Travel"]}]),[t]);return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Choose Your Ride"}),(0,Vo.jsxs)("p",{className:"text-primary-100 text-sm",children:["Select the perfect car for your journey \u2022 ",t.toFixed(1)," km"]})]}),(0,Vo.jsx)(Fo.button,{onClick:i,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:"\u2190 Back"})]})}),(0,Vo.jsx)("div",{className:"max-h-96 overflow-y-auto pb-32",children:(0,Vo.jsx)("div",{className:"p-4 space-y-3 pb-24",children:l.map(e=>(0,Vo.jsxs)(Fo.div,{onClick:()=>(e=>{o(e.id),n(e)})(e),className:"relative p-4 rounded-lg border-2 cursor-pointer transition-all ".concat(a===e.id?"border-primary-500 bg-primary-600/10":"border-dark-600 bg-dark-600 hover:border-dark-500"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vo.jsx)("div",{className:"text-3xl",children:e.icon}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white",children:e.name}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1 text-xs text-gray-400",children:[(0,Vo.jsx)(ml,{className:"w-3 h-3"}),(0,Vo.jsx)("span",{children:e.capacity})]})]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:e.description}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[(0,Vo.jsx)(Wo,{className:"w-3 h-3"}),(0,Vo.jsxs)("span",{children:["ETA: ",e.eta]})]})]})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsxs)("div",{className:"text-lg font-bold text-primary-400",children:["\u20b9",e.estimatedFare]}),(0,Vo.jsxs)("div",{className:"text-xs text-gray-400",children:["\u20b9",e.baseFare," + \u20b9",e.perKmRate," \xd7 ",t.toFixed(1),"km"]}),(0,Vo.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["= \u20b9",e.baseFare," + \u20b9",Math.round(e.perKmRate*t)]})]})]}),(0,Vo.jsx)("div",{className:"mt-3 flex flex-wrap gap-1",children:e.features.map((e,t)=>(0,Vo.jsx)("span",{className:"px-2 py-1 bg-dark-500 rounded text-xs text-gray-300",children:e},t))}),a===e.id&&(0,Vo.jsx)(Fo.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-3 right-3 w-6 h-6 bg-primary-500 rounded-full flex items-center justify-center",children:(0,Vo.jsx)("span",{className:"text-white text-sm",children:"\u2713"})})]},e.id))})}),a&&(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"sticky bottom-0 p-4 bg-dark-800 border-t border-dark-600 shadow-lg",children:[(0,Vo.jsx)(Fo.button,{onClick:()=>{const e=l.find(e=>e.id===a);e&&(n(e),r())},className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"Continue to Schedule"}),(0,Vo.jsx)("svg",{className:"w-6 h-6 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Select date and time for your ride"})]})]})},yl=Ho("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vl=Ho("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),xl=Ho("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),wl=e=>{let{onSchedule:t,onBack:n}=e;const[r,i]=(0,s.useState)(new Date),[a,o]=(0,s.useState)("now"),[l,c]=(0,s.useState)(new Date),[u,d]=(0,s.useState)("12:00"),[h,f]=(0,s.useState)(!1),p=(e=>{const t=e.getFullYear(),n=e.getMonth(),r=new Date(t,n,1),s=new Date(t,n+1,0).getDate(),i=r.getDay(),a=[];for(let o=0;o<i;o++)a.push(null);for(let o=1;o<=s;o++)a.push(new Date(t,n,o));return a})(l),m=new Date,g=new Date(m);g.setDate(g.getDate()+1);const y=e=>e.toDateString()===m.toDateString(),v=e=>e.toDateString()===g.toDateString(),x=e=>e.toDateString()===r.toDateString(),w=e=>e<m,b=()=>{if("custom"===a){const e=new Date(r),[t,n]=u.split(":").map(Number);return e.setHours(t,n,0,0),e>new Date}return!0};return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Schedule Your Ride"}),(0,Vo.jsx)("p",{className:"text-primary-100 text-sm",children:"Choose when you want to travel"})]}),(0,Vo.jsx)(Fo.button,{onClick:n,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:"\u2190 Back"})]})}),(0,Vo.jsx)("div",{className:"max-h-96 overflow-y-auto",children:(0,Vo.jsxs)("div",{className:"p-4",children:[(0,Vo.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[(0,Vo.jsx)(yl,{className:"w-5 h-5 mr-2"}),"Select Date"]}),(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vo.jsx)(Fo.button,{onClick:()=>{const e=new Date(l);e.setMonth(e.getMonth()-1),c(e)},className:"p-2 rounded-lg bg-dark-600 hover:bg-dark-500 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(vl,{className:"w-4 h-4 text-white"})}),(0,Vo.jsx)("h5",{className:"text-white font-medium",children:(k=l,k.toLocaleDateString("en-US",{month:"long",year:"numeric"}))}),(0,Vo.jsx)(Fo.button,{onClick:()=>{const e=new Date(l);e.setMonth(e.getMonth()+1),c(e)},className:"p-2 rounded-lg bg-dark-600 hover:bg-dark-500 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(xl,{className:"w-4 h-4 text-white"})})]}),(0,Vo.jsxs)("div",{className:"grid grid-cols-7 gap-1 mb-6",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,Vo.jsx)("div",{className:"p-2 text-center text-xs text-gray-400 font-medium",children:e},e)),p.map((e,t)=>(0,Vo.jsx)("div",{className:"p-2 text-center",children:e?(0,Vo.jsx)(Fo.button,{onClick:()=>(e=>{w(e)||i(e)})(e),disabled:w(e),className:"w-8 h-8 rounded-full text-sm font-medium transition-all ".concat(w(e)?"text-gray-600 cursor-not-allowed":x(e)?"bg-primary-600 text-white":y(e)?"bg-primary-600/20 text-primary-400 border border-primary-600":v(e)?"bg-yellow-600/20 text-yellow-400 border border-yellow-600":"text-white hover:bg-dark-600"),whileHover:w(e)?{}:{scale:1.1},whileTap:w(e)?{}:{scale:.9},children:e.getDate()}):(0,Vo.jsx)("div",{className:"w-8 h-8"})},t))]}),(0,Vo.jsxs)("div",{className:"p-4 pb-24",children:[(0,Vo.jsxs)("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[(0,Vo.jsx)(Wo,{className:"w-5 h-5 mr-2"}),"Select Time"]}),(0,Vo.jsx)("div",{className:"space-y-2 mb-4",children:[{value:"now",label:"Book Now",description:"Immediate pickup"},{value:"15",label:"15 min",description:"Pickup in 15 minutes"},{value:"30",label:"30 min",description:"Pickup in 30 minutes"},{value:"60",label:"1 hour",description:"Pickup in 1 hour"},{value:"custom",label:"Custom Time",description:"Choose specific time"}].map(e=>(0,Vo.jsx)(Fo.button,{onClick:()=>{o(e.value),"custom"===e.value?f(!0):f(!1)},className:"w-full p-3 rounded-lg text-left transition-all ".concat(a===e.value?"bg-primary-600 text-white":"bg-dark-600 text-white hover:bg-dark-500"),whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("div",{className:"font-medium",children:e.label}),(0,Vo.jsx)("div",{className:"text-sm ".concat(a===e.value?"text-primary-100":"text-gray-400"),children:e.description})]}),a===e.value&&(0,Vo.jsx)(Fo.div,{initial:{scale:0},animate:{scale:1},className:"w-5 h-5 bg-white rounded-full flex items-center justify-center",children:(0,Vo.jsx)("span",{className:"text-primary-600 text-xs",children:"\u2713"})})]})},e.value))}),h&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 p-4 bg-dark-600 rounded-lg border border-primary-500",children:(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Select Time"}),(0,Vo.jsx)("input",{type:"time",value:u,onChange:e=>d(e.target.value),className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white focus:border-primary-500 focus:outline-none text-lg",min:"00:00",max:"23:59"})]}),(0,Vo.jsxs)("div",{className:"bg-dark-700 border border-dark-500 rounded-lg p-3",children:[(0,Vo.jsx)("div",{className:"text-sm text-gray-300 mb-1",children:"Pickup Details:"}),(0,Vo.jsxs)("div",{className:"text-white font-medium",children:[r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," at ",u]})]})]})})]})]})}),(0,Vo.jsxs)("div",{className:"sticky bottom-0 p-4 bg-dark-800 border-t border-dark-600 shadow-lg",children:[(0,Vo.jsx)(Fo.button,{onClick:()=>{const e=new Date(r);if("custom"===a){const[t,n]=u.split(":").map(Number);if(e.setHours(t,n,0,0),e<new Date)return void alert("Please select a time in the future.")}else if("now"!==a){const t=parseInt(a);e.setMinutes(e.getMinutes()+t)}t(e,"custom"===a?u:a)},disabled:"custom"===a&&!b(),className:"w-full py-4 rounded-lg font-semibold transition-colors text-lg ".concat("custom"!==a||b()?"bg-primary-600 hover:bg-primary-700 text-white shadow-lg":"bg-gray-600 text-gray-400 cursor-not-allowed"),whileHover:"custom"!==a||b()?{scale:1.02}:{},whileTap:"custom"!==a||b()?{scale:.98}:{},children:"custom"!==a||b()?"Confirm Booking":"Please select a future time"}),"custom"===a&&!b()&&(0,Vo.jsx)("p",{className:"text-red-400 text-sm text-center mt-2",children:"Selected time is in the past. Please choose a future time."})]})]});var k},bl=Ho("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),kl=Ho("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Nl=Ho("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),Sl=Ho("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),El=Ho("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Tl=Ho("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),_l=e=>{let{onComplete:t}=e;const[n,r]=(0,s.useState)(0),[i,a]=(0,s.useState)(""),[o,l]=(0,s.useState)(!1),[c,u]=(0,s.useState)(!1),[d,h]=(0,s.useState)(!1),[f,p]=(0,s.useState)(null),m=(ne(),[{title:"Welcome to Paryatnam Cabs",subtitle:"Premium rides at your fingertips",icon:(0,Vo.jsx)(Go,{className:"w-16 h-16 text-primary-500"}),content:"Experience the best in class cab booking service with real-time tracking and premium vehicles."},{title:"What's your name?",subtitle:"Let's personalize your experience",icon:(0,Vo.jsx)(bl,{className:"w-16 h-16 text-primary-500"}),content:"We'd love to know your name to make your ride experience more personal."},{title:"Choose Your Role",subtitle:"Select how you want to use the app",icon:(0,Vo.jsx)(ml,{className:"w-16 h-16 text-primary-500"}),content:"Are you a customer looking for rides, a driver offering services, or an admin managing the platform?"},{title:"Enable Notifications",subtitle:"Stay updated with your rides",icon:(0,Vo.jsx)(kl,{className:"w-16 h-16 text-primary-500"}),content:"Get real-time updates about your ride status, driver location, and important notifications."},{title:"Enable Location Services",subtitle:"For accurate pickup and drop locations",icon:(0,Vo.jsx)(ol,{className:"w-16 h-16 text-primary-500"}),content:"Allow location access to find nearby drivers and get accurate pickup/drop locations."},{title:"Terms & Conditions",subtitle:"Please read and accept our terms",icon:(0,Vo.jsx)(Nl,{className:"w-16 h-16 text-primary-500"}),content:"By continuing, you agree to our Terms of Service and Privacy Policy."}]),g=[{id:"customer",title:"Customer",subtitle:"Book rides and travel",icon:(0,Vo.jsx)(Sl,{className:"w-8 h-8"}),description:"Book rides, track drivers, and enjoy premium travel experience"},{id:"driver",title:"Driver",subtitle:"Offer rides and earn",icon:(0,Vo.jsx)(Go,{className:"w-8 h-8"}),description:"Join our driver network, accept rides, and earn money"},{id:"admin",title:"Admin",subtitle:"Manage platform",icon:(0,Vo.jsx)(El,{className:"w-8 h-8"}),description:"Monitor rides, manage drivers, and oversee operations"}],y=async()=>{try{const e=await Notification.requestPermission();l("granted"===e)}catch(e){console.error("Error requesting notifications:",e)}},v=async()=>{try{await navigator.geolocation.getCurrentPosition(()=>u(!0),()=>u(!1))}catch(e){console.error("Error requesting location:",e)}},x=()=>{switch(n){case 1:return i.trim().length>0;case 2:return null!==f;case 3:return o;case 4:return c;case 5:return d;default:return!0}};return(0,Vo.jsxs)("div",{className:"min-h-screen bg-dark-900 text-white flex flex-col",children:[(0,Vo.jsx)("div",{className:"bg-dark-800 p-4",children:(0,Vo.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:["Step ",n+1," of ",m.length]}),(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:[Math.round((n+1)/m.length*100),"%"]})]}),(0,Vo.jsx)("div",{className:"w-full bg-dark-600 rounded-full h-2",children:(0,Vo.jsx)(Fo.div,{className:"bg-primary-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((n+1)/m.length*100,"%")},transition:{duration:.3}})})]})}),(0,Vo.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,Vo.jsx)("div",{className:"max-w-md w-full",children:(0,Vo.jsx)(tl,{mode:"wait",children:(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"text-center space-y-6",children:[(0,Vo.jsx)("div",{className:"flex justify-center",children:m[n].icon}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:m[n].title}),(0,Vo.jsx)("p",{className:"text-gray-400",children:m[n].subtitle})]}),(0,Vo.jsx)("div",{className:"mt-8",children:(()=>{switch(n){case 1:return(0,Vo.jsx)("div",{className:"space-y-6",children:(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-6",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vo.jsx)("div",{className:"w-12 h-12 bg-primary-600 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(bl,{className:"w-6 h-6 text-white"})}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white",children:"Your Name"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"We'll use this to personalize your experience"})]})]}),(0,Vo.jsx)("input",{type:"text",value:i,onChange:e=>a(e.target.value),placeholder:"Enter your name",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none text-center text-lg",autoFocus:!0}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400 mt-2 text-center",children:"Don't worry, you can change this later in your profile"})]})});case 2:return(0,Vo.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,Vo.jsx)(Fo.button,{onClick:()=>p(e.id),className:"w-full p-4 rounded-lg border-2 transition-all ".concat(f===e.id?"border-primary-500 bg-primary-600/10":"border-dark-600 bg-dark-600 hover:border-dark-500"),whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vo.jsx)("div",{className:"text-primary-400",children:e.icon}),(0,Vo.jsxs)("div",{className:"text-left",children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white",children:e.title}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.subtitle}),(0,Vo.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]})]})},e.id))});case 3:return(0,Vo.jsx)("div",{className:"text-center space-y-6",children:(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-6",children:[(0,Vo.jsx)(kl,{className:"w-12 h-12 text-primary-400 mx-auto mb-4"}),(0,Vo.jsx)("p",{className:"text-gray-300 mb-4",children:"Enable notifications to get real-time updates about your rides, driver location, and important alerts."}),(0,Vo.jsx)(Fo.button,{onClick:y,className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(o?"bg-green-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"),whileHover:{scale:1.05},whileTap:{scale:.95},children:o?(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Tl,{className:"w-5 h-5 mr-2"}),"Notifications Enabled"]}):"Enable Notifications"})]})});case 4:return(0,Vo.jsx)("div",{className:"text-center space-y-6",children:(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-6",children:[(0,Vo.jsx)(ol,{className:"w-12 h-12 text-primary-400 mx-auto mb-4"}),(0,Vo.jsx)("p",{className:"text-gray-300 mb-4",children:"Allow location access to find nearby drivers and get accurate pickup/drop locations for better service."}),(0,Vo.jsx)(Fo.button,{onClick:v,className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(c?"bg-green-600 text-white":"bg-primary-600 hover:bg-primary-700 text-white"),whileHover:{scale:1.05},whileTap:{scale:.95},children:c?(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Tl,{className:"w-5 h-5 mr-2"}),"Location Enabled"]}):"Enable Location"})]})});case 5:return(0,Vo.jsxs)("div",{className:"space-y-6",children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-6 max-h-64 overflow-y-auto",children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white mb-4",children:"Terms of Service"}),(0,Vo.jsxs)("div",{className:"text-sm text-gray-300 space-y-3",children:[(0,Vo.jsx)("p",{children:"By using Paryatnam Cabs, you agree to the following terms:"}),(0,Vo.jsxs)("ul",{className:"list-disc list-inside space-y-2",children:[(0,Vo.jsx)("li",{children:"You must be at least 18 years old to use our services"}),(0,Vo.jsx)("li",{children:"You agree to provide accurate information"}),(0,Vo.jsx)("li",{children:"You will not use our service for illegal activities"}),(0,Vo.jsx)("li",{children:"We reserve the right to modify these terms"}),(0,Vo.jsx)("li",{children:"Your privacy is protected under our Privacy Policy"})]}),(0,Vo.jsxs)("p",{className:"mt-4",children:[(0,Vo.jsx)("strong",{children:"Privacy Policy:"})," We collect and use your data to provide our services, improve user experience, and ensure safety. Your data is protected and never shared with third parties."]})]})]}),(0,Vo.jsx)(Fo.button,{onClick:()=>h(!d),className:"w-full p-4 rounded-lg border-2 transition-all ".concat(d?"border-primary-500 bg-primary-600/10":"border-dark-600 bg-dark-600 hover:border-dark-500"),whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"w-6 h-6 rounded border-2 flex items-center justify-center ".concat(d?"bg-primary-500 border-primary-500":"border-gray-400"),children:d&&(0,Vo.jsx)(Tl,{className:"w-4 h-4 text-white"})}),(0,Vo.jsx)("span",{className:"text-white",children:"I agree to the Terms of Service and Privacy Policy"})]})})]});default:return(0,Vo.jsx)("div",{className:"text-center",children:(0,Vo.jsx)("p",{className:"text-gray-300 text-lg",children:m[n].content})})}})()})]},n)})})}),(0,Vo.jsx)("div",{className:"bg-dark-800 p-6",children:(0,Vo.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[(0,Vo.jsx)(Fo.button,{onClick:()=>{n>0&&r(n-1)},disabled:0===n,className:"px-6 py-3 rounded-lg font-semibold transition-colors ".concat(0===n?"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-dark-600 hover:bg-dark-500 text-white"),whileHover:n>0?{scale:1.05}:{},whileTap:n>0?{scale:.95}:{},children:"Back"}),(0,Vo.jsxs)(Fo.button,{onClick:()=>{n<m.length-1?r(n+1):(i.trim()&&localStorage.setItem("userName",i.trim()),t())},disabled:!x(),className:"px-6 py-3 rounded-lg font-semibold transition-colors flex items-center space-x-2 ".concat(x()?"bg-primary-600 hover:bg-primary-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),whileHover:x()?{scale:1.05}:{},whileTap:x()?{scale:.95}:{},children:[(0,Vo.jsx)("span",{children:n===m.length-1?"Get Started":"Next"}),(0,Vo.jsx)(xl,{className:"w-5 h-5"})]})]})})]})},Cl=Ho("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),jl=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},Il={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new Pl;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pl extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Al=function(e){return function(e){const t=jl(e);return Il.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Dl=function(e){try{return Il.decodeString(e,!0)}catch(rN){console.error("base64Decode failed: ",rN)}return null};const Rl=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ol=()=>{try{return Rl()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_GOOGLE_CLOUD_API_KEY:"AIzaSyCCu74yj8VQluMNPf7YU_37znx9eRL1jPk",REACT_APP_GOOGLE_CLOUD_PROJECT_ID:"paryatnam-cabs",REACT_APP_GOOGLE_PLACES_API_KEY:"AIzaSyBMYojSzsBw6Mkr5iDpKvWAfwgQCT8CZTE"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(rN){return}const t=e&&Dl(e[1]);return t&&JSON.parse(t)})()}catch(rN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(rN))}},Ll=e=>{var t,n;return null===(n=null===(t=Ol())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ml=()=>{var e;return null===(e=Ol())||void 0===e?void 0:e.config},Fl=e=>{var t;return null===(t=Ol())||void 0===t?void 0:t["_".concat(e)]};class Vl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Ul(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Bl(){return!function(){var e;const t=null===(e=Ol())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(rN){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zl(){try{return"object"===typeof indexedDB}catch(rN){return!1}}class Hl extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(Wl,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new Hl(n,i,t)}}const Wl=/\{\$([^}]+)}/g;function Kl(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(Gl(n)&&Gl(i)){if(!Kl(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Gl(e){return null!==e&&"object"===typeof e}function Ql(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Yl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Xl(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class $l{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Jl),void 0===r.error&&(r.error=Jl),void 0===r.complete&&(r.complete=Jl);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(rN){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(rN){"undefined"!==typeof console&&console.error&&console.error(rN)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jl(){}function Zl(e){return e&&e._delegate?e._delegate:e}class ec{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const tc="[DEFAULT]";class nc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Vl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(rN){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(rN){if(r)return null;throw rN}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:tc})}catch(rN){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(rN){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(sN){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===tc?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(sN){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc;return this.component?this.component.multipleInstances?e:tc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class rc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const sc=[];var ic;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ic||(ic={}));const ac={debug:ic.DEBUG,verbose:ic.VERBOSE,info:ic.INFO,warn:ic.WARN,error:ic.ERROR,silent:ic.SILENT},oc=ic.INFO,lc={[ic.DEBUG]:"log",[ic.VERBOSE]:"log",[ic.INFO]:"info",[ic.WARN]:"warn",[ic.ERROR]:"error"},cc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=lc[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class uc{constructor(e){this.name=e,this._logLevel=oc,this._logHandler=cc,this._userLogHandler=null,sc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ic))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?ac[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ic.DEBUG,...t),this._logHandler(this,ic.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ic.VERBOSE,...t),this._logHandler(this,ic.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ic.INFO,...t),this._logHandler(this,ic.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ic.WARN,...t),this._logHandler(this,ic.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ic.ERROR,...t),this._logHandler(this,ic.ERROR,...t)}}let dc,hc;const fc=new WeakMap,pc=new WeakMap,mc=new WeakMap,gc=new WeakMap,yc=new WeakMap;let vc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return pc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bc(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xc(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(hc||(hc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(kc(this),n),bc(fc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return bc(e.apply(kc(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(kc(this),t,...r);return mc.set(i,t.sort?t.sort():[t]),bc(i)}}function wc(e){return"function"===typeof e?xc(e):(e instanceof IDBTransaction&&function(e){if(pc.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});pc.set(e,t)}(e),t=e,(dc||(dc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,vc):e);var t}function bc(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(bc(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&fc.set(t,e)}).catch(()=>{}),yc.set(t,e),t}(e);if(gc.has(e))return gc.get(e);const t=wc(e);return t!==e&&(gc.set(e,t),yc.set(t,e)),t}const kc=e=>yc.get(e);const Nc=["get","getKey","getAll","getAllKeys","count"],Sc=["put","add","delete","clear"],Ec=new Map;function Tc(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ec.get(t))return Ec.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=Sc.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!Nc.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return Ec.set(t,i),i}vc=(e=>Ce(Ce({},e),{},{get:(t,n,r)=>Tc(t,n)||e.get(t,n,r),has:(t,n)=>!!Tc(t,n)||e.has(t,n)}))(vc);class _c{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Cc="@firebase/app",jc="0.10.13",Ic=new uc("@firebase/app"),Pc="@firebase/app-compat",Ac="@firebase/analytics-compat",Dc="@firebase/analytics",Rc="@firebase/app-check-compat",Oc="@firebase/app-check",Lc="@firebase/auth",Mc="@firebase/auth-compat",Fc="@firebase/database",Vc="@firebase/data-connect",Uc="@firebase/database-compat",Bc="@firebase/functions",zc="@firebase/functions-compat",Hc="@firebase/installations",qc="@firebase/installations-compat",Wc="@firebase/messaging",Kc="@firebase/messaging-compat",Gc="@firebase/performance",Qc="@firebase/performance-compat",Yc="@firebase/remote-config",Xc="@firebase/remote-config-compat",$c="@firebase/storage",Jc="@firebase/storage-compat",Zc="@firebase/firestore",eu="@firebase/vertexai-preview",tu="@firebase/firestore-compat",nu="firebase",ru="[DEFAULT]",su={[Cc]:"fire-core",[Pc]:"fire-core-compat",[Dc]:"fire-analytics",[Ac]:"fire-analytics-compat",[Oc]:"fire-app-check",[Rc]:"fire-app-check-compat",[Lc]:"fire-auth",[Mc]:"fire-auth-compat",[Fc]:"fire-rtdb",[Vc]:"fire-data-connect",[Uc]:"fire-rtdb-compat",[Bc]:"fire-fn",[zc]:"fire-fn-compat",[Hc]:"fire-iid",[qc]:"fire-iid-compat",[Wc]:"fire-fcm",[Kc]:"fire-fcm-compat",[Gc]:"fire-perf",[Qc]:"fire-perf-compat",[Yc]:"fire-rc",[Xc]:"fire-rc-compat",[$c]:"fire-gcs",[Jc]:"fire-gcs-compat",[Zc]:"fire-fst",[tu]:"fire-fst-compat",[eu]:"fire-vertex","fire-js":"fire-js",[nu]:"fire-js-all"},iu=new Map,au=new Map,ou=new Map;function lu(e,t){try{e.container.addComponent(t)}catch(rN){Ic.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),rN)}}function cu(e){const t=e.name;if(ou.has(t))return Ic.debug("There were multiple attempts to register component ".concat(t,".")),!1;ou.set(t,e);for(const n of iu.values())lu(n,e);for(const n of au.values())lu(n,e);return!0}function uu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function du(e){return void 0!==e.settings}const hu=new ql("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ec("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}const pu="10.14.1";function mu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ru,automaticDataCollectionEnabled:!1},t),s=r.name;if("string"!==typeof s||!s)throw hu.create("bad-app-name",{appName:String(s)});if(n||(n=Ml()),!n)throw hu.create("no-options");const i=iu.get(s);if(i){if(Kl(n,i.options)&&Kl(r,i.config))return i;throw hu.create("duplicate-app",{appName:s})}const a=new rc(s);for(const l of ou.values())a.addComponent(l);const o=new fu(n,r,a);return iu.set(s,o),o}function gu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ru;const t=iu.get(e);if(!t&&e===ru&&Ml())return mu();if(!t)throw hu.create("no-app",{appName:e});return t}function yu(e,t,n){var r;let s=null!==(r=su[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ic.warn(e.join(" "))}cu(new ec("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const vu="firebase-heartbeat-store";let xu=null;function wu(){return xu||(xu=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=bc(a);return r&&a.addEventListener("upgradeneeded",e=>{r(bc(a.result),e.oldVersion,e.newVersion,bc(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(vu)}catch(rN){console.warn(rN)}}}).catch(e=>{throw hu.create("idb-open",{originalErrorMessage:e.message})})),xu}async function bu(e,t){try{const n=(await wu()).transaction(vu,"readwrite"),r=n.objectStore(vu);await r.put(t,ku(e)),await n.done}catch(rN){if(rN instanceof Hl)Ic.warn(rN.message);else{const t=hu.create("idb-set",{originalErrorMessage:null===rN||void 0===rN?void 0:rN.message});Ic.warn(t.message)}}}function ku(e){return"".concat(e.name,"!").concat(e.options.appId)}class Nu{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Eu(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Su();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(rN){Ic.warn(rN)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Su(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),Tu(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=Al(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(rN){return Ic.warn(rN),""}}}function Su(){return(new Date).toISOString().substring(0,10)}class Eu{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zl()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await wu()).transaction(vu),n=await t.objectStore(vu).get(ku(e));return await t.done,n}catch(rN){if(rN instanceof Hl)Ic.warn(rN.message);else{const t=hu.create("idb-get",{originalErrorMessage:null===rN||void 0===rN?void 0:rN.message});Ic.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return bu(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Tu(e){return Al(JSON.stringify({version:2,heartbeats:e})).length}var _u;_u="",cu(new ec("platform-logger",e=>new _c(e),"PRIVATE")),cu(new ec("heartbeat",e=>new Nu(e),"PRIVATE")),yu(Cc,jc,_u),yu(Cc,jc,"esm2017"),yu("fire-js","");yu("firebase","10.14.1","app");var Cu,ju,Iu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Pu={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],a=t+(i^n&(s^i))+r[0]+3614090360&4294967295;a=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=(n=(s=(i=(t=n+(a<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^n&(s^i))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=i+(s^t&(n^s))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^i&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(i^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^i&(n^s))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^i&(n^s))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=i+(n^s&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(i^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(i^t&(s^i))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^i)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^i)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=i+(t^n^s)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(i^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^i^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~i))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~i))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(i|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(i^(s|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((i=(t=n+((a=t+(s^(n|~i))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=i+(n^(t|~s))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=i+((a=s+(t^(i|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,s=this.B,i=this.h,a=0;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function i(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,s=0;e>=n;s++)t[s]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],s=0;s<t;s++)n[s]=~e.g[s];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var s=v(n,1),i=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=i.add(r);0>=c.l(e)&&(s=s.add(n),i=c),r=v(r,1),n=v(n,1)}return t=f(e,s.j(t)),new m(s,t)}for(s=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||0<c.l(e);)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=f(e,c)}return new m(s,e)}function y(e){for(var t=e.g.length+1,n=[],s=0;s<t;s++)n[s]=e.i(s)<<1|e.i(s-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var s=e.g.length-n,i=[],a=0;a<s;a++)i[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var s=g(n,t).g,i=((0<(n=f(n,s.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;6>i.length;)i="0"+i;r=i+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0,i=0;i<=t;i++){var a=s+(65535&this.i(i))+(65535&e.i(i)),o=(a>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);s=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<e.g.length;i++){var l=this.i(s)>>>16,f=65535&this.i(s),m=e.i(i)>>>16,g=65535&e.i(i);n[2*s+2*i]+=f*g,p(n,2*s+2*i),n[2*s+2*i+1]+=l*g,p(n,2*s+2*i+1),n[2*s+2*i+1]+=f*m,p(n,2*s+2*i+1),n[2*s+2*i+2]+=l*m,p(n,2*s+2*i+2)}for(s=0;s<t;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=t;s<2*t;s++)n[s]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)&e.i(s);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)|e.i(s);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],s=0;s<t;s++)n[s]=this.i(s)^e.i(s);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ju=Pu.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),s=o,i=0;i<t.length;i+=8){var l=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+l),n);8>l?(l=a(Math.pow(n,l)),s=s.j(l).add(a(c))):s=(s=s.j(r)).add(a(c))}return s},Cu=Pu.Integer=r}).apply("undefined"!==typeof Iu?Iu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Au,Du,Ru,Ou,Lu,Mu,Fu,Vu,Uu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bu={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Uu&&Uu];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,s={next:function(){if(!r&&n<e.length){var s=n++;return{value:t(s,e[s]),done:!1}}return r=!0,{done:!0,value:void 0}}};return s[Symbol.iterator]=function(){return s},s}(this,function(e,t){return t})}});var r=r||{},s=this||self;function i(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(i(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=s.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function x(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function k(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){s.setTimeout(()=>{throw e},0)}function S(){var e=j;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new T,e=>e.reset());class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let _,C=!1,j=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=s.Promise.resolve(void 0);_=()=>{e.then(P)}};var P=()=>{for(var e;e=S();){try{e.h.call(e.g)}catch(n){N(n)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function A(){this.s=this.s,this.C=this.C}function D(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}A.prototype.s=!1,A.prototype.ma=function(){this.s||(this.s=!0,this.N())},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},D.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(D.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var s=!0;break e}catch(i){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,D);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var M="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++F,this.da=this.fa=!1}function U(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function B(e){this.src=e,this.g={},this.h=0}function z(e,t){var n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(U(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function H(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}B.prototype.add=function(e,t,n,r,s){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var a=H(e,t,r,s);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new V(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),W={};function K(e,t,n,r,s){if(r&&r.once)return Q(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)K(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.K(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!1,r,s)}function G(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=a(s)?!!s.capture:!!s,l=Z(e);if(l||(e[q]=l=new B(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=J;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent($(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Q(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Q(e,t[i],n,r,s);return null}return n=te(n),e&&e[M]?e.L(t,n,a(r)?!!r.capture:!!r,s):G(e,t,n,!0,r,s)}function Y(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)Y(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[M]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=H(i=e.g[t],n,r,s))&&(U(i[n]),Array.prototype.splice.call(i,n,1),0==i.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=H(t,n,r,s)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[M])z(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent($(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(z(n,e),0==n.h&&(n.src=null,t[q]=null)):U(e)}}}function $(e){return e in W?W[e]:W[e]="on"+e}function J(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function Z(e){return(e=e[q])instanceof B?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){A.call(this),this.i=new B(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new D(t,e);else if(t instanceof D)t.target=t.target||e;else{var s=t;b(t=new D(r,e),s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var a=t.g=n[i];s=se(a,r,!0,t)&&s}if(s=se(a=t.g=e,r,!0,t)&&s,s=se(a,r,!1,t)&&s,n)for(i=0;i<n.length;i++)s=se(a=t.g=n[i],r,!1,t)&&s}function se(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var a=t[i];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&z(e.i,a),s=!1!==o.call(l,r)&&s}}return s&&!r.defaultPrevented}function ie(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:s.setTimeout(e,t||0)}function ae(e){e.g=ie(()=>{e.g=null,e.i&&(e.i=!1,ae(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,A),ne.prototype[M]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)U(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends A{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){A.call(this),this.h=e,this.g={}}d(le,A);var ce=[];function ue(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&X(e)},e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=s.JSON.stringify,he=s.JSON.parse,fe=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){D.call(this,"d")}function xe(){D.call(this,"c")}d(ve,D),d(xe,D);var we={},be=null;function ke(){return be=be||new ne}function Ne(e){D.call(this,we.La,e)}function Se(e){const t=ke();re(t,new Ne(t))}function Ee(e,t){D.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=ke();re(t,new Ee(t,e))}function _e(e,t){D.call(this,we.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function je(){this.g=!0}function Ie(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var a=1;a<s.length;a++)s[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}we.La="serverreachability",d(Ne,D),we.STAT_EVENT="statevent",d(Ee,D),we.Ma="timingevent",d(_e,D),je.prototype.xa=function(){this.g=!1},je.prototype.info=function(){};var Pe,Ae={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},De={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Re,pe),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Pe=new Re;var Me={},Fe={};function Ve(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),He(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Et(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var s="readystatechange";Array.isArray(s)||(s&&(ce[0]=s.toString()),s=ce);for(var i=0;i<s.length;i++){var a=K(n,s[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?x(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var a="",o=i.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Be(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function ze(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function He(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function We(e){e.B&&(s.clearTimeout(e.B),e.B=null)}function Ke(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){We(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Qe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Xt(n)}rn(n),Te(18)}}else n.za=s[1],0<n.za-n.T&&37500>s[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Je(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(s=n.Da.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const s=c[4];null!=s&&(n.Aa=s,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(et(i,i.h),i.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(We(o),He(o)),r.g=a}else nn(r);0<n.i.length&&Jt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Yt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Se()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Wt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=Wt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||4!=h||7==t||Se(),We(this);var n=this.g.Z();this.X=n;t:if(Be(this)){var r=Kt(this.g);e="";var i=r.length,a=4==Wt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),Ke(this);var o="";break t}this.h.i=new s.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ge(this),Ke(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=ze(this,o),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,Te(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Qe(this,e)}if(Be(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Te(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),Ke(this)}else Ie(this.i,this.l,o,null),Qe(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,He(this)))}else(function(e){const t={};e=(e.g&&2<=Wt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=k(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ge(this),Ke(this)}}}catch(zu){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),Te(17)),Ge(this),this.s=2,Ke(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,s.PerformanceNavigationTiming?e=0<(e=s.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Je(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(i(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(i(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(i(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),s=r.length,a=0;a<s;a++)t.call(void 0,r[a],n&&n[a],e)}Xe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var st=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function it(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof it){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(st))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function at(e){return new it(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(kt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),Et(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,xt)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}it.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,xt=/[#\?@]/g,wt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Nt(e,t){kt(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return kt(e),t=Tt(e,t),e.g.has(t)}function Et(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),h(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function _t(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Ct(){this.g=new fe}function jt(e,t,n){const r=n||"";try{rt(e,function(e,n){let s=e;a(e)&&(s=de(e)),t.push(r+n+"="+encodeURIComponent(s))})}catch(rN){throw t.push(r+"type="+encodeURIComponent("_badmap")),rN}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Dt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Mt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){kt(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){kt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){kt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let e=0;e<s.length;e++)n.push(t[r])}return n},e.V=function(e){kt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return kt(this),this.i=null,St(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var s=i;""!==a[r]&&(s+="="+encodeURIComponent(String(a[r]))),e.push(s)}}return this.i=e.join("&")},d(It,pe),It.prototype.g=function(){return new Pt(this.l,this.j)},It.prototype.i=(mt={},function(){return mt}),d(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||s).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Dt(this):Rt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Dt(this))},e.Qa=function(e){this.g&&(this.response=e,Dt(this))},e.ga=function(){this.g&&Dt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Mt,ne);var Ft=/^https?$/i,Vt=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Ht(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Wt(e)||2!=e.Z()))if(e.u&&4==Wt(e))ie(e.Ea,0,e);else if(re(e,"readystatechange"),4==Wt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){var a=String(e.D).match(st)[1]||null;!a&&s.self&&s.self.location&&(a=s.self.location.protocol.slice(0,-1)),i=!Ft.test(a?a.toLowerCase():"")}n=i}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<Wt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Bt(e)}}finally{Ht(e)}}}function Ht(e,t){if(e.g){qt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(rN){}}}function qt(e){e.I&&(s.clearTimeout(e.I),e.I=null)}function Wt(e){return e.g?e.g.readyState:0}function Kt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Wu){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qt(e){this.Aa=0,this.i=[],this.j=new je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if($t(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&s.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),He(t)}dn(e)}function Xt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function $t(e){Xt(e),e.u&&(s.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&s.clearTimeout(e.s),e.s=null)}function Jt(e){if(!$e(e.h)&&!e.s){e.s=!0;var t=e.Ga;_||I(),C||(_(),C=!0),j.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ve(n,r,t)}function en(e,t){e.H&&v(e.H,function(e,n){ut(t,n,e)}),e.l&&rt({},function(e,n){ut(t,n,e)})}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let i=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),i=!1;else try{jt(o,e,"req"+n+"_")}catch(zu){r&&r(o)}}if(i){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;_||I(),C||(_(),C=!0),j.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(s.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ue(n,e)}function on(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var s=e.B;re(r=ke(),new _e(r,n)),Jt(e)}else nn(e);else if(3==(s=t.s)||0==s&&0<t.X||!(1==r&&function(e,t){return!(Je(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),s){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new it(r||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new je;if(s.Image){const r=new Image;r.onload=u(_t,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(_t,n,"TestLoadImage: error",!1,t,r),r.onabort=u(_t,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(_t,n,"TestLoadImage: timeout",!1,t,r),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new je;const n=new AbortController,r=setTimeout(()=>{n.abort(),_t(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?_t(0,0,!0,t):_t(0,0,!1,t)}).catch(()=>{clearTimeout(r),_t(0,0,!1,t)})}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),dn(e),$t(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof it?at(n):new it(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=s.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new it(null);r&&ot(a,r),t&&(a.g=t),i&&lt(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Mt(new It({eb:n})):new Mt(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Qt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xn(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){xe.call(this),this.status=1}function xn(e){this.g=e}(e=Mt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Ut(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=s.FormData&&e instanceof s.FormData,!(0<=Array.prototype.indexOf.call(Vt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Ut(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Ht(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),Mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Wt(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Qt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const s=new Oe(this,this.j,e);let i=this.o;if(this.S&&(i?(i=x(i),b(i,this.S)):i=this.S),null!==this.m||this.O||(s.H=i,i=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,s,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Ot(i)))+"&"+t:this.m&&Lt(n,this.m,i)),et(this.h,s),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),s.T=!0,Ve(s,n,null)):Ve(s,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||$e(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Xt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Xt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Yt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Jt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,gn.aa.N.call(this)},d(yn,ve),d(vn,xe),d(xn,pn),xn.prototype.ua=function(){re(this.g,"a")},xn.prototype.ta=function(e){re(this.g,new yn(e))},xn.prototype.sa=function(e){re(this.g,new vn)},xn.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Vu=Bu.createWebChannelTransport=function(){return new mn},Fu=Bu.getStatEventTarget=function(){return ke()},Mu=Bu.Event=we,Lu=Bu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ae.NO_ERROR=0,Ae.TIMEOUT=8,Ae.HTTP_ERROR=6,Ou=Bu.ErrorCode=Ae,De.COMPLETE="complete",Ru=Bu.EventType=De,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Du=Bu.WebChannel=ge,Bu.FetchXmlHttpFactory=It,Mt.prototype.listenOnce=Mt.prototype.L,Mt.prototype.getLastError=Mt.prototype.Ka,Mt.prototype.getLastErrorCode=Mt.prototype.Ba,Mt.prototype.getStatus=Mt.prototype.Z,Mt.prototype.getResponseJson=Mt.prototype.Oa,Mt.prototype.getResponseText=Mt.prototype.oa,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Ha,Au=Bu.XhrIo=Mt}).apply("undefined"!==typeof Uu?Uu:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const zu="@firebase/firestore";class Hu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hu.UNAUTHENTICATED=new Hu(null),Hu.GOOGLE_CREDENTIALS=new Hu("google-credentials-uid"),Hu.FIRST_PARTY=new Hu("first-party-uid"),Hu.MOCK_USER=new Hu("mock-user");let qu="10.14.0";const Wu=new uc("@firebase/firestore");function Ku(){return Wu.logLevel}function Gu(e){if(Wu.logLevel<=ic.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Xu);Wu.debug("Firestore (".concat(qu,"): ").concat(e),...s)}}function Qu(e){if(Wu.logLevel<=ic.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Xu);Wu.error("Firestore (".concat(qu,"): ").concat(e),...s)}}function Yu(e){if(Wu.logLevel<=ic.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Xu);Wu.warn("Firestore (".concat(qu,"): ").concat(e),...s)}}function Xu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function $u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(qu,") INTERNAL ASSERTION FAILED: ")+e;throw Qu(t),new Error(t)}function Ju(e,t){e||$u()}function Zu(e,t){return e}const ed={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class td extends Hl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class nd{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class sd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hu.UNAUTHENTICATED))}shutdown(){}}class id{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ad{constructor(e){this.t=e,this.currentUser=Hu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ju(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new nd;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new nd,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Gu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Gu("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new nd)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Gu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ju("string"==typeof t.accessToken),new rd(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ju(null===e||"string"==typeof e),new Hu(e)}}class od{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Hu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ld{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new od(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Hu.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ud{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ju(void 0===this.o);const n=e=>{null!=e.error&&Gu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Gu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Gu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Gu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ju("string"==typeof e.token),this.R=e.token,new cd(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class hd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=dd(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<t&&(n+=e.charAt(r[s]%62))}return n}}function fd(e,t){return e<t?-1:e>t?1:0}function pd(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class md{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new td(ed.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new td(ed.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new td(ed.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new td(ed.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return md.fromMillis(Date.now())}static fromDate(e){return md.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new md(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fd(this.nanoseconds,e.nanoseconds):fd(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gd(e)}static min(){return new gd(new md(0,0))}static max(){return new gd(new md(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class yd{constructor(e,t,n){void 0===t?t=0:t>e.length&&$u(),void 0===n?n=e.length-t:n>e.length-t&&$u(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===yd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yd?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),s=t.get(r);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vd extends yd{construct(e,t,n){return new vd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new td(ed.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new vd(e)}static emptyPath(){return new vd([])}}const xd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wd extends yd{construct(e,t,n){return new wd(e,t,n)}static isValidIdentifier(e){return xd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wd.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wd(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new td(ed.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new td(ed.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new td(ed.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new td(ed.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wd(t)}static emptyPath(){return new wd([])}}class bd{constructor(e){this.path=e}static fromPath(e){return new bd(vd.fromString(e))}static fromName(e){return new bd(vd.fromString(e).popFirst(5))}static empty(){return new bd(vd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bd(new vd(e.slice()))}}class kd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}kd.UNKNOWN_ID=-1;function Nd(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=gd.fromTimestamp(1e9===r?new md(n+1,0):new md(n,r));return new Ed(s,bd.empty(),t)}function Sd(e){return new Ed(e.readTime,e.key,-1)}class Ed{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ed(gd.min(),bd.empty(),-1)}static max(){return new Ed(gd.max(),bd.empty(),-1)}}function Td(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=bd.comparator(e.documentKey,t.documentKey),0!==n?n:fd(e.largestBatchId,t.largestBatchId))}const _d="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function jd(e){if(e.code!==ed.FAILED_PRECONDITION||e.message!==_d)throw e;Gu("LocalStore","Unexpectedly lost primary lease")}class Id{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$u(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Id((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Id?t:Id.resolve(t)}catch(e){return Id.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Id.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Id.reject(t)}static resolve(e){return new Id((t,n)=>{t(e)})}static reject(e){return new Id((t,n)=>{n(e)})}static waitFor(e){return new Id((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Id.resolve(!1);for(const n of e)t=t.next(e=>e?Id.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Id((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Id((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Pd(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(e){return"IndexedDbTransactionError"===e.name}class Dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Rd(e){return null==e}function Od(e){return 0===e&&1/e==-1/0}function Ld(e){return"number"==typeof e&&Number.isInteger(e)&&!Od(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Dd.oe=-1;const Md=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vd=Fd,Ud=[...Vd,"indexConfiguration","indexState","indexEntries"];function Bd(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zd(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Hd(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class qd{constructor(e,t){this.comparator=e,this.root=t||Kd.EMPTY}insert(e,t){return new qd(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kd.BLACK,null,null))}remove(e){return new qd(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kd.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wd(this.root,e,this.comparator,!0)}}class Wd{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kd{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:Kd.RED,this.left=null!=r?r:Kd.EMPTY,this.right=null!=s?s:Kd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new Kd(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $u();if(this.right.isRed())throw $u();const e=this.left.check();if(e!==this.right.check())throw $u();return e+(this.isRed()?0:1)}}Kd.EMPTY=null,Kd.RED=!0,Kd.BLACK=!1,Kd.EMPTY=new class{constructor(){this.size=0}get key(){throw $u()}get value(){throw $u()}get color(){throw $u()}get left(){throw $u()}get right(){throw $u()}copy(e,t,n,r,s){return this}insert(e,t,n){return new Kd(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gd{constructor(e){this.comparator=e,this.data=new qd(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qd(this.data.getIterator())}getIteratorFrom(e){return new Qd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gd))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gd(this.comparator);return t.data=e,t}}class Qd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yd{constructor(e){this.fields=e,e.sort(wd.comparator)}static empty(){return new Yd([])}unionWith(e){let t=new Gd(wd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yd(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $d{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Xd("Invalid base64 string: "+e):e}}(e);return new $d(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new $d(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fd(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$d.EMPTY_BYTE_STRING=new $d("");const Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(e){if(Ju(!!e),"string"==typeof e){let t=0;const n=Jd.exec(e);if(Ju(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:eh(e.seconds),nanos:eh(e.nanos)}}function eh(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function th(e){return"string"==typeof e?$d.fromBase64String(e):$d.fromUint8Array(e)}function nh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rh(e){const t=e.mapValue.fields.__previous_value__;return nh(t)?rh(t):t}function sh(e){const t=Zd(e.mapValue.fields.__local_write_time__.timestampValue);return new md(t.seconds,t.nanos)}class ih{constructor(e,t,n,r,s,i,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class ah{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ah("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ah&&e.projectId===this.projectId&&e.database===this.database}}const oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nh(e)?4:Sh(e)?9007199254740991:kh(e)?10:11:$u()}function ch(e,t){if(e===t)return!0;const n=lh(e);if(n!==lh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sh(e).isEqual(sh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zd(e.timestampValue),r=Zd(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return th(e.bytesValue).isEqual(th(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eh(e.geoPointValue.latitude)===eh(t.geoPointValue.latitude)&&eh(e.geoPointValue.longitude)===eh(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eh(e.integerValue)===eh(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=eh(e.doubleValue),r=eh(t.doubleValue);return n===r?Od(n)===Od(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return pd(e.arrayValue.values||[],t.arrayValue.values||[],ch);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bd(n)!==Bd(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!ch(n[s],r[s])))return!1;return!0}(e,t);default:return $u()}}function uh(e,t){return void 0!==(e.values||[]).find(e=>ch(e,t))}function dh(e,t){if(e===t)return 0;const n=lh(e),r=lh(t);if(n!==r)return fd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fd(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=eh(e.integerValue||e.doubleValue),r=eh(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hh(e.timestampValue,t.timestampValue);case 4:return hh(sh(e),sh(t));case 5:return fd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=th(e),r=th(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=fd(n[s],r[s]);if(0!==e)return e}return fd(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=fd(eh(e.latitude),eh(t.latitude));return 0!==n?n:fd(eh(e.longitude),eh(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return fh(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=fd((null===(s=null==l?void 0:l.values)||void 0===s?void 0:s.length)||0,(null===(i=null==c?void 0:c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:fh(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===oh.mapValue&&t===oh.mapValue)return 0;if(e===oh.mapValue)return 1;if(t===oh.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=fd(r[a],i[a]);if(0!==e)return e;const t=dh(n[r[a]],s[i[a]]);if(0!==t)return t}return fd(r.length,i.length)}(e.mapValue,t.mapValue);default:throw $u()}}function hh(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return fd(e,t);const n=Zd(e),r=Zd(t),s=fd(n.seconds,r.seconds);return 0!==s?s:fd(n.nanos,r.nanos)}function fh(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=dh(n[s],r[s]);if(e)return e}return fd(n.length,r.length)}function ph(e){return mh(e)}function mh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zd(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return th(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return bd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(mh(e.fields[s]));return n+"}"}(e.mapValue):$u()}function gh(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function yh(e){return!!e&&"integerValue"in e}function vh(e){return!!e&&"arrayValue"in e}function xh(e){return!!e&&"nullValue"in e}function wh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bh(e){return!!e&&"mapValue"in e}function kh(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Nh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return zd(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Nh(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Eh{constructor(e){this.value=e}static empty(){return new Eh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nh(t)}setAll(e){let t=wd.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=Nh(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ch(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){zd(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Eh(Nh(this.value))}}function Th(e){const t=[];return zd(e.fields,(e,n)=>{const r=new wd([e]);if(bh(n)){const e=Th(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Yd(t)}class _h{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new _h(e,0,gd.min(),gd.min(),gd.min(),Eh.empty(),0)}static newFoundDocument(e,t,n,r){return new _h(e,1,t,gd.min(),n,r,0)}static newNoDocument(e,t){return new _h(e,2,t,gd.min(),gd.min(),Eh.empty(),0)}static newUnknownDocument(e,t){return new _h(e,3,t,gd.min(),gd.min(),Eh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(gd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Eh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Eh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof _h&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _h(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function jh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?bd.comparator(bd.fromName(a.referenceValue),n.key):dh(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function Ih(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ch(e.position[n],t.position[n]))return!1;return!0}class Ph{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Ah(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Dh{}class Rh extends Dh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new zh(e,t,n):"array-contains"===t?new Kh(e,n):"in"===t?new Gh(e,n):"not-in"===t?new Qh(e,n):"array-contains-any"===t?new Yh(e,n):new Rh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Hh(e,n):new qh(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dh(t,this.value)):null!==t&&lh(this.value)===lh(t)&&this.matchesComparison(dh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $u()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oh extends Dh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Oh(e,t)}matches(e){return Lh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lh(e){return"and"===e.op}function Mh(e){return Fh(e)&&Lh(e)}function Fh(e){for(const t of e.filters)if(t instanceof Oh)return!1;return!0}function Vh(e){if(e instanceof Rh)return e.field.canonicalString()+e.op.toString()+ph(e.value);if(Mh(e))return e.filters.map(e=>Vh(e)).join(",");{const t=e.filters.map(e=>Vh(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Uh(e,t){return e instanceof Rh?function(e,t){return t instanceof Rh&&e.op===t.op&&e.field.isEqual(t.field)&&ch(e.value,t.value)}(e,t):e instanceof Oh?function(e,t){return t instanceof Oh&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Uh(n,t.filters[r]),!0)}(e,t):void $u()}function Bh(e){return e instanceof Rh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ph(e.value))}(e):e instanceof Oh?function(e){return e.op.toString()+" {"+e.getFilters().map(Bh).join(" ,")+"}"}(e):"Filter"}class zh extends Rh{constructor(e,t,n){super(e,t,n),this.key=bd.fromName(n.referenceValue)}matches(e){const t=bd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Hh extends Rh{constructor(e,t){super(e,"in",t),this.keys=Wh("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qh extends Rh{constructor(e,t){super(e,"not-in",t),this.keys=Wh("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>bd.fromName(e.referenceValue))}class Kh extends Rh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vh(t)&&uh(t.arrayValue,this.value)}}class Gh extends Rh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uh(this.value.arrayValue,t)}}class Qh extends Rh{constructor(e,t){super(e,"not-in",t)}matches(e){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uh(this.value.arrayValue,t)}}class Yh extends Rh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>uh(this.value.arrayValue,e))}}class Xh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function $h(e){return new Xh(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Jh(e){const t=Zu(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Vh(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Rd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ph(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ph(e)).join(",")),t.ue=e}return t.ue}function Zh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ah(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Uh(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ih(e.startAt,t.startAt)&&Ih(e.endAt,t.endAt)}function ef(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class tf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nf(e,t,n,r,s,i,a,o){return new tf(e,t,n,r,s,i,a,o)}function rf(e){return new tf(e)}function sf(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function af(e){return null!==e.collectionGroup}function of(e){const t=Zu(e);if(null===t.ce){t.ce=[];const e=new Set;for(const s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gd(wd.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Ph(r,n))}),e.has(wd.keyField().canonicalString())||t.ce.push(new Ph(wd.keyField(),n))}return t.ce}function lf(e){const t=Zu(e);return t.le||(t.le=cf(t,of(e))),t.le}function cf(e,t){if("F"===e.limitType)return $h(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ph(e.field,t)});const n=e.endAt?new Ch(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ch(e.startAt.position,e.startAt.inclusive):null;return $h(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function uf(e,t){const n=e.filters.concat([t]);return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function df(e,t,n){return new tf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function hf(e,t){return Zh(lf(e),lf(t))&&e.limitType===t.limitType}function ff(e){return"".concat(Jh(lf(e)),"|lt:").concat(e.limitType)}function pf(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Bh(e)).join(", "),"]")),Rd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ph(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ph(e)).join(",")),"Target(".concat(t,")")}(lf(e)),"; limitType=").concat(e.limitType,")")}function mf(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):bd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of of(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,of(e),t))&&!(e.endAt&&!function(e,t,n){const r=jh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,of(e),t))}(e,t)}function gf(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yf(e){return(t,n)=>{let r=!1;for(const s of of(e)){const e=vf(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function vf(e,t,n){const r=e.field.isKeyField()?bd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?dh(r,s):$u()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return $u()}}class xf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return Hd(this.inner)}size(){return this.innerSize}}const wf=new qd(bd.comparator);function bf(){return wf}const kf=new qd(bd.comparator);function Nf(){let e=kf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function Sf(e){let t=kf;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Ef(){return _f()}function Tf(){return _f()}function _f(){return new xf(e=>e.toString(),(e,t)=>e.isEqual(t))}const Cf=new qd(bd.comparator),jf=new Gd(bd.comparator);function If(){let e=jf;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const Pf=new Gd(fd);function Af(){return Pf}function Df(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(t)?"-0":t}}function Rf(e){return{integerValue:""+e}}function Of(e,t){return Ld(t)?Rf(t):Df(e,t)}class Lf{constructor(){this._=void 0}}function Mf(e,t,n){return e instanceof Uf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nh(t)&&(t=rh(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bf?zf(e,t):e instanceof Hf?qf(e,t):function(e,t){const n=Vf(e,t),r=Kf(n)+Kf(e.Pe);return yh(n)&&yh(e.Pe)?Rf(r):Df(e.serializer,r)}(e,t)}function Ff(e,t,n){return e instanceof Bf?zf(e,t):e instanceof Hf?qf(e,t):n}function Vf(e,t){return e instanceof Wf?function(e){return yh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Uf extends Lf{}class Bf extends Lf{constructor(e){super(),this.elements=e}}function zf(e,t){const n=Gf(t);for(const r of e.elements)n.some(e=>ch(e,r))||n.push(r);return{arrayValue:{values:n}}}class Hf extends Lf{constructor(e){super(),this.elements=e}}function qf(e,t){let n=Gf(t);for(const r of e.elements)n=n.filter(e=>!ch(e,r));return{arrayValue:{values:n}}}class Wf extends Lf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Kf(e){return eh(e.integerValue||e.doubleValue)}function Gf(e){return vh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Qf{constructor(e,t){this.version=e,this.transformResults=t}}class Yf{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Yf}static exists(e){return new Yf(void 0,e)}static updateTime(e){return new Yf(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class $f{}function Jf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new lp(e.key,Yf.none()):new rp(e.key,e.data,Yf.none());{const n=e.data,r=Eh.empty();let s=new Gd(wd.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new sp(e.key,r,new Yd(s.toArray()),Yf.none())}}function Zf(e,t,n){e instanceof rp?function(e,t,n){const r=e.value.clone(),s=ap(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sp?function(e,t,n){if(!Xf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ap(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(ip(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function ep(e,t,n,r){return e instanceof rp?function(e,t,n,r){if(!Xf(e.precondition,t))return n;const s=e.value.clone(),i=op(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof sp?function(e,t,n,r){if(!Xf(e.precondition,t))return n;const s=op(e.fieldTransforms,r,t),i=t.data;return i.setAll(ip(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Xf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function tp(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=Vf(r.transform,e||null);null!=s&&(null===n&&(n=Eh.empty()),n.set(r.field,s))}return n||null}function np(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&pd(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bf&&t instanceof Bf||e instanceof Hf&&t instanceof Hf?pd(e.elements,t.elements,ch):e instanceof Wf&&t instanceof Wf?ch(e.Pe,t.Pe):e instanceof Uf&&t instanceof Uf}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class rp extends $f{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class sp extends $f{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ip(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function ap(e,t,n){const r=new Map;Ju(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,Ff(a,o,n[s]))}return r}function op(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,Mf(e,i,t))}return r}class lp extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cp extends $f{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class up{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Zf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ep(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Tf();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Jf(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(gd.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),If())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,(e,t)=>np(e,t))&&pd(this.baseMutations,e.baseMutations,(e,t)=>np(e,t))}}class dp{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ju(e.mutations.length===n.length);let r=Cf;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new dp(e,t,n,r)}}class hp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class fp{constructor(e,t){this.count=e,this.unchangedNames=t}}var pp,mp;function gp(e){switch(e){default:return $u();case ed.CANCELLED:case ed.UNKNOWN:case ed.DEADLINE_EXCEEDED:case ed.RESOURCE_EXHAUSTED:case ed.INTERNAL:case ed.UNAVAILABLE:case ed.UNAUTHENTICATED:return!1;case ed.INVALID_ARGUMENT:case ed.NOT_FOUND:case ed.ALREADY_EXISTS:case ed.PERMISSION_DENIED:case ed.FAILED_PRECONDITION:case ed.ABORTED:case ed.OUT_OF_RANGE:case ed.UNIMPLEMENTED:case ed.DATA_LOSS:return!0}}function yp(e){if(void 0===e)return Qu("GRPC error has no .code"),ed.UNKNOWN;switch(e){case pp.OK:return ed.OK;case pp.CANCELLED:return ed.CANCELLED;case pp.UNKNOWN:return ed.UNKNOWN;case pp.DEADLINE_EXCEEDED:return ed.DEADLINE_EXCEEDED;case pp.RESOURCE_EXHAUSTED:return ed.RESOURCE_EXHAUSTED;case pp.INTERNAL:return ed.INTERNAL;case pp.UNAVAILABLE:return ed.UNAVAILABLE;case pp.UNAUTHENTICATED:return ed.UNAUTHENTICATED;case pp.INVALID_ARGUMENT:return ed.INVALID_ARGUMENT;case pp.NOT_FOUND:return ed.NOT_FOUND;case pp.ALREADY_EXISTS:return ed.ALREADY_EXISTS;case pp.PERMISSION_DENIED:return ed.PERMISSION_DENIED;case pp.FAILED_PRECONDITION:return ed.FAILED_PRECONDITION;case pp.ABORTED:return ed.ABORTED;case pp.OUT_OF_RANGE:return ed.OUT_OF_RANGE;case pp.UNIMPLEMENTED:return ed.UNIMPLEMENTED;case pp.DATA_LOSS:return ed.DATA_LOSS;default:return $u()}}(mp=pp||(pp={}))[mp.OK=0]="OK",mp[mp.CANCELLED=1]="CANCELLED",mp[mp.UNKNOWN=2]="UNKNOWN",mp[mp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mp[mp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mp[mp.NOT_FOUND=5]="NOT_FOUND",mp[mp.ALREADY_EXISTS=6]="ALREADY_EXISTS",mp[mp.PERMISSION_DENIED=7]="PERMISSION_DENIED",mp[mp.UNAUTHENTICATED=16]="UNAUTHENTICATED",mp[mp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mp[mp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mp[mp.ABORTED=10]="ABORTED",mp[mp.OUT_OF_RANGE=11]="OUT_OF_RANGE",mp[mp.UNIMPLEMENTED=12]="UNIMPLEMENTED",mp[mp.INTERNAL=13]="INTERNAL",mp[mp.UNAVAILABLE=14]="UNAVAILABLE",mp[mp.DATA_LOSS=15]="DATA_LOSS";let vp=null;function xp(){return new TextEncoder}const wp=new Cu([4294967295,4294967295],0);function bp(e){const t=xp().encode(e),n=new ju;return n.update(t),new Uint8Array(n.digest())}function kp(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Cu([n,r],0),new Cu([s,i],0)]}class Np{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sp("Invalid padding: ".concat(t));if(n<0)throw new Sp("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Sp("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Sp("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=Cu.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(Cu.fromNumber(n)));return 1===r.compare(wp)&&(r=new Cu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=bp(e),[n,r]=kp(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new Np(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.Ie)return;const t=bp(e),[n,r]=kp(t);for(let s=0;s<this.hashCount;s++){const e=this.Ee(n,r,s);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ep{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Tp.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Ep(gd.min(),r,new qd(fd),bf(),If())}}class Tp{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Tp(n,t,If(),If(),If())}}class _p{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Cp{constructor(e,t){this.targetId=e,this.me=t}}class jp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$d.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Ip{constructor(){this.fe=0,this.ge=Dp(),this.pe=$d.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=If(),t=If(),n=If();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:$u()}}),new Tp(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Dp()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ju(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Pp{constructor(e){this.Le=e,this.Be=new Map,this.ke=bf(),this.qe=Ap(),this.Qe=new qd(fd)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:$u()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const s=r.target;if(ef(s))if(0===n){const e=new bd(s.path);this.Ue(t,e,_h.newNoDocument(e,gd.min()))}else Ju(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),s=n?this.Xe(n,e,r):1;if(0!==s){this.je(t);const e=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==vp||vp.et(function(e,t,n,r,s){var i,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===s,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,s))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=th(n).toUint8Array()}catch(e){if(e instanceof Xd)return Yu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Np(i,r,s)}catch(e){return Yu(e instanceof Sp?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Le.tt(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const s=this.Je(r);if(s){if(n.current&&ef(s.target)){const t=new bd(s.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,_h.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=If();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new Ep(e,t,this.Qe,this.ke,n);return this.ke=bf(),this.qe=Ap(),this.Qe=new qd(fd),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Ip,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Gd(fd),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||Gu("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Ip),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ap(){return new qd(bd.comparator)}function Dp(){return new qd(bd.comparator)}const Rp={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lp={and:"AND",or:"OR"};class Mp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(e,t){return e.useProto3Json||Rd(t)?t:{value:t}}function Vp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Up(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bp(e,t){return Vp(e,t.toTimestamp())}function zp(e){return Ju(!!e),gd.fromTimestamp(function(e){const t=Zd(e);return new md(t.seconds,t.nanos)}(e))}function Hp(e,t){return qp(e,t).canonicalString()}function qp(e,t){const n=function(e){return new vd(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Wp(e){const t=vd.fromString(e);return Ju(dm(t)),t}function Kp(e,t){return Hp(e.databaseId,t.path)}function Gp(e,t){const n=Wp(t);if(n.get(1)!==e.databaseId.projectId)throw new td(ed.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new td(ed.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new bd($p(n))}function Qp(e,t){return Hp(e.databaseId,t)}function Yp(e){const t=Wp(e);return 4===t.length?vd.emptyPath():$p(t)}function Xp(e){return new vd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $p(e){return Ju(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jp(e,t,n){return{name:Kp(e,t),fields:n.value.mapValue.fields}}function Zp(e,t){let n;if(t instanceof rp)n={update:Jp(e,t.key,t.value)};else if(t instanceof lp)n={delete:Kp(e,t.key)};else if(t instanceof sp)n={update:Jp(e,t.key,t.data),updateMask:um(t.fieldMask)};else{if(!(t instanceof cp))return $u();n={verify:Kp(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Uf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wf)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw $u()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:$u()}(e,t.precondition)),n}function em(e,t){return{documents:[Qp(e,t.path)]}}function tm(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qp(e,s);const i=function(e){if(0!==e.length)return cm(Oh.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:om(e.field),direction:sm(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Fp(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:s}}function nm(e){let t=Yp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ju(1===r);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=rm(e);return t instanceof Oh&&Mh(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new Ph(lm(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Rd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ch(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ch(n,t)}(n.endAt)),nf(t,s,a,i,o,"F",l,c)}function rm(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=lm(e.unaryFilter.field);return Rh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=lm(e.unaryFilter.field);return Rh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lm(e.unaryFilter.field);return Rh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=lm(e.unaryFilter.field);return Rh.create(s,"!=",{nullValue:"NULL_VALUE"});default:return $u()}}(e):void 0!==e.fieldFilter?function(e){return Rh.create(lm(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $u()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Oh.create(e.compositeFilter.filters.map(e=>rm(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return $u()}}(e.compositeFilter.op))}(e):$u()}function sm(e){return Rp[e]}function im(e){return Op[e]}function am(e){return Lp[e]}function om(e){return{fieldPath:e.canonicalString()}}function lm(e){return wd.fromServerFormat(e.fieldPath)}function cm(e){return e instanceof Rh?function(e){if("=="===e.op){if(wh(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NAN"}};if(xh(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(wh(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NOT_NAN"}};if(xh(e.value))return{unaryFilter:{field:om(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:om(e.field),op:im(e.op),value:e.value}}}(e):e instanceof Oh?function(e){const t=e.getFilters().map(e=>cm(e));return 1===t.length?t[0]:{compositeFilter:{op:am(e.op),filters:t}}}(e):$u()}function um(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function dm(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class hm{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gd.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gd.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$d.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new hm(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class fm{constructor(e){this.ct=e}}function pm(e){const t=nm({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?df(t,t.limit,"L"):t}class mm{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(eh(e.integerValue));else if("doubleValue"in e){const n=eh(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Od(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Zd(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(th(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?Sh(e)?this.dt(t,Number.MAX_SAFE_INTEGER):kh(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):$u()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const s=e.fields||{};this.dt(t,53);const i="value",a=(null===(r=null===(n=s[i].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(eh(a)),this.Vt(i,t),this.Tt(s[i],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),bd.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}mm.vt=new mm;class gm{constructor(){this.un=new ym}addToCollectionParentIndex(e,t){return this.un.add(t),Id.resolve()}getCollectionParents(e,t){return Id.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return Id.resolve()}deleteFieldIndex(e,t){return Id.resolve()}deleteAllFieldIndexes(e){return Id.resolve()}createTargetIndexes(e,t){return Id.resolve()}getDocumentsMatchingTarget(e,t){return Id.resolve(null)}getIndexType(e,t){return Id.resolve(0)}getFieldIndexes(e,t){return Id.resolve([])}getNextCollectionGroupToUpdate(e){return Id.resolve(null)}getMinOffset(e,t){return Id.resolve(Ed.min())}getMinOffsetFromCollectionGroup(e,t){return Id.resolve(Ed.min())}updateCollectionGroup(e,t,n){return Id.resolve()}updateIndexEntries(e,t){return Id.resolve()}}class ym{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gd(vd.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gd(vd.comparator)).toArray()}}new Uint8Array(0);class vm{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vm(e,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vm.DEFAULT_COLLECTION_PERCENTILE=10,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vm.DEFAULT=new vm(41943040,vm.DEFAULT_COLLECTION_PERCENTILE,vm.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vm.DISABLED=new vm(-1,0,0);class xm{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new xm(0)}static kn(){return new xm(-1)}}class wm{constructor(){this.changes=new xf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_h.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Id.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bm{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class km{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&ep(n.mutation,e,Yd.empty(),md.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,If()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:If();const r=Ef();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Nf();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Ef();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,If()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=bf();const i=_f(),a=_f();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof sp)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),ep(a.mutation,t,a.mutation.getFieldMask(),md.now())):i.set(t.key,Yd.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new bm(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=_f();let r=new qd((e,t)=>e-t),s=If();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||Yd.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||If()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Tf();l.forEach(e=>{if(!s.has(e)){const r=Jf(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Id.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return bd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):af(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Id.resolve(Ef());let a=-1,o=s;return i.next(t=>Id.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Id.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,If())).next(e=>({batchId:a,changes:Sf(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new bd(t)).next(e=>{let t=Nf();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=Nf();return this.indexManager.getCollectionParents(e,s).next(a=>Id.forEach(a,a=>{const o=function(e,t){return new tf(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,_h.newInvalidDocument(r)))});let n=Nf();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&ep(i.mutation,r,Yd.empty(),md.now()),mf(t,r)&&(n=n.insert(e,r))}),n})}}class Nm{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return Id.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:zp(e.createTime)}}(t)),Id.resolve()}getNamedQuery(e,t){return Id.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:pm(e.bundledQuery),readTime:zp(e.readTime)}}(t)),Id.resolve()}}class Sm{constructor(){this.overlays=new qd(bd.comparator),this.Ir=new Map}getOverlay(e,t){return Id.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ef();return Id.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),Id.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),Id.resolve()}getOverlaysForCollection(e,t,n){const r=Ef(),s=t.length+1,i=new bd(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Id.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new qd((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=Ef(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Ef(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Id.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new hp(t,n));let s=this.Ir.get(t);void 0===s&&(s=If(),this.Ir.set(t,s)),this.Ir.set(t,s.add(n.key))}}class Em{constructor(){this.sessionToken=$d.EMPTY_BYTE_STRING}getSessionToken(e){return Id.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Id.resolve()}}class Tm{constructor(){this.Tr=new Gd(_m.Er),this.dr=new Gd(_m.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new _m(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new _m(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new bd(new vd([])),n=new _m(t,e),r=new _m(t,e+1),s=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),s.push(e.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new bd(new vd([])),n=new _m(t,e),r=new _m(t,e+1);let s=If();return this.dr.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new _m(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class _m{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return bd.comparator(e.key,t.key)||fd(e.wr,t.wr)}static Ar(e,t){return fd(e.wr,t.wr)||bd.comparator(e.key,t.key)}}class Cm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Gd(_m.Er)}checkEmpty(e){return Id.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new up(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.br=this.br.add(new _m(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Id.resolve(i)}lookupMutationBatch(e,t){return Id.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),s=r<0?0:r;return Id.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Id.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return Id.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new _m(t,0),r=new _m(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);s.push(t)}),Id.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gd(fd);return t.forEach(e=>{const t=new _m(e,0),r=new _m(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),Id.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;bd.isDocumentKey(s)||(s=s.child(""));const i=new _m(new bd(s),0);let a=new Gd(fd);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},i),Id.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ju(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return Id.forEach(t.mutations,r=>{const s=new _m(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new _m(t,0),r=this.br.firstAfterOrEqual(n);return Id.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Id.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class jm{constructor(e){this.Mr=e,this.docs=new qd(bd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Id.resolve(n?n.document.mutableCopy():_h.newInvalidDocument(t))}getEntries(e,t){let n=bf();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():_h.newInvalidDocument(e))}),Id.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=bf();const i=t.path,a=new bd(i.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||Td(Sd(a),n)<=0||(r.has(a.key)||mf(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Id.resolve(s)}getAllFromCollectionGroup(e,t,n,r){$u()}Or(e,t){return Id.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Im(this)}getSize(e){return Id.resolve(this.size)}}class Im extends wm{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),Id.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Pm{constructor(e){this.persistence=e,this.Nr=new xf(e=>Jh(e),Zh),this.lastRemoteSnapshotVersion=gd.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tm,this.targetCount=0,this.kr=xm.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),Id.resolve()}getLastRemoteSnapshotVersion(e){return Id.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Id.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Id.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),Id.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new xm(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,Id.resolve()}updateTargetData(e,t){return this.Kn(t),Id.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,Id.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Id.waitFor(s).next(()=>r)}getTargetCount(e){return Id.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return Id.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),Id.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Id.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),Id.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return Id.resolve(n)}containsKey(e,t){return Id.resolve(this.Br.containsKey(t))}}class Am{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Dd(0),this.Kr=!1,this.Kr=!0,this.$r=new Em,this.referenceDelegate=e(this),this.Ur=new Pm(this),this.indexManager=new gm,this.remoteDocumentCache=function(e){return new jm(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new fm(t),this.Gr=new Nm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Cm(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Gu("MemoryPersistence","Starting transaction:",e);const r=new Dm(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return Id.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Dm extends Cd{constructor(e){super(),this.currentSequenceNumber=e}}class Rm{constructor(e){this.persistence=e,this.Jr=new Tm,this.Yr=null}static Zr(e){return new Rm(e)}get Xr(){if(this.Yr)return this.Yr;throw $u()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),Id.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),Id.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),Id.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Id.forEach(this.Xr,n=>{const r=bd.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,gd.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return Id.or([()=>Id.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Om{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=If(),r=If();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Om(e,t.fromCache,n,r)}}class Lm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Mm{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Bl()?8:Pd(Ul())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.Yi(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.Zi(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new Lm;return this.Xi(e,t,n).next(r=>{if(s.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>s.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(Ku()<=ic.DEBUG&&Gu("QueryEngine","SDK will not create cache indexes for query:",pf(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Id.resolve()):(Ku()<=ic.DEBUG&&Gu("QueryEngine","Query:",pf(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Ku()<=ic.DEBUG&&Gu("QueryEngine","The SDK decides to create cache indexes for query:",pf(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lf(t))):Id.resolve())}Yi(e,t){if(sf(t))return Id.resolve(null);let n=lf(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=df(t,null,"F"),n=lf(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=If(...r);return this.Ji.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.ts(t,r);return this.ns(t,i,s,n.readTime)?this.Yi(e,df(t,null,"F")):this.rs(e,i,t,n)}))})))}Zi(e,t,n,r){return sf(t)||r.isEqual(gd.min())?Id.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const i=this.ts(t,s);return this.ns(t,i,n,r)?Id.resolve(null):(Ku()<=ic.DEBUG&&Gu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pf(t)),this.rs(e,i,t,Nd(r,-1)).next(e=>e))})}ts(e,t){let n=new Gd(yf(e));return t.forEach((t,r)=>{mf(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,n){return Ku()<=ic.DEBUG&&Gu("QueryEngine","Using full collection scan to execute query:",pf(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ed.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class Fm{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new qd(fd),this._s=new xf(e=>Jh(e),Zh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new km(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Vm(e,t,n,r){return new Fm(e,t,n,r)}async function Um(e,t){const n=Zu(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=If();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:s,addedBatchIds:i}))})})}function Bm(e){const t=Zu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function zm(e,t,n){let r=If(),s=If();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=bf();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(gd.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Gu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{Ps:r,Is:s}})}function Hm(e,t){const n=Zu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function qm(e,t){const n=Zu(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(s=>s?(r=s,Id.resolve(r)):n.Ur.allocateTargetId(e).next(s=>(r=new hm(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Wm(e,t,n){const r=Zu(e),s=r.os.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Ad(e))throw e;Gu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(s.target)}function Km(e,t,n){const r=Zu(e);let s=gd.min(),i=If();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Zu(e),s=r._s.get(n);return void 0!==s?Id.resolve(r.os.get(s)):r.Ur.getTargetData(t,n)}(r,e,lf(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?s:gd.min(),n?i:If())).next(e=>(Gm(r,gf(t),e),{documents:e,Ts:i})))}function Gm(e,t,n){let r=e.us.get(t)||gd.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Qm{constructor(){this.activeTargetIds=Af()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ym{constructor(){this.so=new Qm,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Xm{_o(e){}shutdown(){}}class $m{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Gu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Gu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jm=null;function Zm(){return null===Jm?Jm=268435456+Math.round(2147483648*Math.random()):Jm++,"0x"+Jm.toString(16)}const eg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tg{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ng="WebChannelConnection";class rg extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,s){const i=Zm(),a=this.xo(e,t.toUriEncodedString());Gu("RestConnection","Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,s),this.No(e,a,o,n).then(t=>(Gu("RestConnection","Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Yu("RestConnection","RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,s,i){return this.Mo(e,t,n,r,s)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=eg[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const s=Zm();return new Promise((i,a)=>{const o=new Au;o.setWithCredentials(!0),o.listenOnce(Ru.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Ou.NO_ERROR:const t=o.getResponseJson();Gu(ng,"XHR for RPC '".concat(e,"' ").concat(s," received:"),JSON.stringify(t)),i(t);break;case Ou.TIMEOUT:Gu(ng,"RPC '".concat(e,"' ").concat(s," timed out")),a(new td(ed.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:const n=o.getStatus();if(Gu(ng,"RPC '".concat(e,"' ").concat(s," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ed).indexOf(t)>=0?t:ed.UNKNOWN}(t.status);a(new td(e,t.message))}else a(new td(ed.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new td(ed.UNAVAILABLE,"Connection failed."));break;default:$u()}}finally{Gu(ng,"RPC '".concat(e,"' ").concat(s," completed."))}});const l=JSON.stringify(r);Gu(ng,"RPC '".concat(e,"' ").concat(s," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Zm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Vu(),a=Fu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Gu(ng,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);let d=!1,h=!1;const f=new tg({Io:t=>{h?Gu(ng,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(Gu(ng,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),Gu(ng,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Du.EventType.OPEN,()=>{h||(Gu(ng,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,Du.EventType.CLOSE,()=>{h||(h=!0,Gu(ng,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,Du.EventType.ERROR,t=>{h||(h=!0,Yu(ng,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new td(ed.UNAVAILABLE,"The operation could not be completed")))}),p(u,Du.EventType.MESSAGE,t=>{var n;if(!h){const s=t.data[0];Ju(!!s);const i=s,a=i.error||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){Gu(ng,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=pp[e];if(void 0!==t)return yp(t)}(t),s=a.message;void 0===n&&(n=ed.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new td(n,s)),u.close()}else Gu(ng,"RPC '".concat(e,"' stream ").concat(r," received:"),s),f.bo(s)}}),p(a,Mu.STAT_EVENT,t=>{t.stat===Lu.PROXY?Gu(ng,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Lu.NOPROXY&&Gu(ng,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function sg(){return"undefined"!=typeof document?document:null}function ig(e){return new Mp(e,!0)}class ag{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&Gu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class og{constructor(e,t,n,r,s,i,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ag(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===ed.RESOURCE_EXHAUSTED?(Qu(t.toString()),Qu("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ed.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new td(ed.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Gu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Gu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lg extends og{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:$u()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ju(void 0===t||"string"==typeof t),$d.fromBase64String(t||"")):(Ju(void 0===t||t instanceof Buffer||t instanceof Uint8Array),$d.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?ed.UNKNOWN:yp(e.code);return new td(t,e.message||"")}(a);n=new jp(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=Gp(e,r.document.name),i=zp(r.document.updateTime),a=r.document.createTime?zp(r.document.createTime):gd.min(),o=new Eh({mapValue:{fields:r.document.fields}}),l=_h.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new _p(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=Gp(e,r.document),i=r.readTime?zp(r.readTime):gd.min(),a=_h.newNoDocument(s,i),o=r.removedTargetIds||[];n=new _p([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=Gp(e,r.document),i=r.removedTargetIds||[];n=new _p([],i,s,null)}else{if(!("filter"in t))return $u();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new fp(r,s),a=e.targetId;n=new Cp(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return gd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gd.min():t.readTime?zp(t.readTime):gd.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Xp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=ef(r)?{documents:em(e,r)}:{query:tm(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Up(e,t.resumeToken);const r=Fp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(gd.min())>0){n.readTime=Vp(e,t.snapshotVersion.toTimestamp());const r=Fp(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $u()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.a_(t)}}class cg extends og{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ju(!!e.streamToken),this.lastStreamToken=e.streamToken,Ju(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Ju(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Ju(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?zp(e.updateTime):zp(t);return n.isEqual(gd.min())&&(n=zp(t)),new Qf(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=zp(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Xp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Zp(this.serializer,e))};this.a_(t)}}class ug extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new td(ed.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Mo(e,qp(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new td(ed.UNKNOWN,e.toString())})}Lo(e,t,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Lo(e,qp(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new td(ed.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dg{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(Qu(t),this.D_=!1):Gu("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class hg{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(e=>{n.enqueueAndForget(async()=>{bg(this)&&(Gu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Zu(e);t.L_.add(4),await pg(t),t.q_.set("Unknown"),t.L_.delete(4),await fg(t)}(this))})}),this.q_=new dg(n,r)}}async function fg(e){if(bg(e))for(const t of e.B_)await t(!0)}async function pg(e){for(const t of e.B_)await t(!1)}function mg(e,t){const n=Zu(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),wg(n)?xg(n):Ug(n).r_()&&yg(n,t))}function gg(e,t){const n=Zu(e),r=Ug(n);n.N_.delete(t),r.r_()&&vg(n,t),0===n.N_.size&&(r.r_()?r.o_():bg(n)&&n.q_.set("Unknown"))}function yg(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ug(e).A_(t)}function vg(e,t){e.Q_.xe(t),Ug(e).R_(t)}function xg(e){e.Q_=new Pp({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ug(e).start(),e.q_.v_()}function wg(e){return bg(e)&&!Ug(e).n_()&&e.N_.size>0}function bg(e){return 0===Zu(e).L_.size}function kg(e){e.Q_=void 0}async function Ng(e){e.q_.set("Online")}async function Sg(e){e.N_.forEach((t,n)=>{yg(e,t)})}async function Eg(e,t){kg(e),wg(e)?(e.q_.M_(t),xg(e)):e.q_.set("Unknown")}async function Tg(e,t,n){if(e.q_.set("Online"),t instanceof jp&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){Gu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await _g(e,n)}else if(t instanceof _p?e.Q_.Ke(t):t instanceof Cp?e.Q_.He(t):e.Q_.We(t),!n.isEqual(gd.min()))try{const t=await Bm(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.N_.get(r);s&&e.N_.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken($d.EMPTY_BYTE_STRING,r.snapshotVersion)),vg(e,t);const s=new hm(r.target,t,n,r.sequenceNumber);yg(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Gu("RemoteStore","Failed to raise snapshot:",t),await _g(e,t)}}async function _g(e,t,n){if(!Ad(t))throw t;e.L_.add(1),await pg(e),e.q_.set("Offline"),n||(n=()=>Bm(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Gu("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await fg(e)})}function Cg(e,t){return t().catch(n=>_g(e,n,t))}async function jg(e){const t=Zu(e),n=Bg(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Ig(t);)try{const e=await Hm(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,Pg(t,e)}catch(e){await _g(t,e)}Ag(t)&&Dg(t)}function Ig(e){return bg(e)&&e.O_.length<10}function Pg(e,t){e.O_.push(t);const n=Bg(e);n.r_()&&n.V_&&n.m_(t.mutations)}function Ag(e){return bg(e)&&!Bg(e).n_()&&e.O_.length>0}function Dg(e){Bg(e).start()}async function Rg(e){Bg(e).p_()}async function Og(e){const t=Bg(e);for(const n of e.O_)t.m_(n.mutations)}async function Lg(e,t,n){const r=e.O_.shift(),s=dp.from(r,t,n);await Cg(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await jg(e)}async function Mg(e,t){t&&Bg(e).V_&&await async function(e,t){if(function(e){return gp(e)&&e!==ed.ABORTED}(t.code)){const n=e.O_.shift();Bg(e).s_(),await Cg(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jg(e)}}(e,t),Ag(e)&&Dg(e)}async function Fg(e,t){const n=Zu(e);n.asyncQueue.verifyOperationInProgress(),Gu("RemoteStore","RemoteStore received new credentials");const r=bg(n);n.L_.add(3),await pg(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await fg(n)}async function Vg(e,t){const n=Zu(e);t?(n.L_.delete(2),await fg(n)):t||(n.L_.add(2),await pg(n),n.q_.set("Unknown"))}function Ug(e){return e.K_||(e.K_=function(e,t,n){const r=Zu(e);return r.w_(),new lg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Ng.bind(null,e),Ro:Sg.bind(null,e),mo:Eg.bind(null,e),d_:Tg.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),wg(e)?xg(e):e.q_.set("Unknown")):(await e.K_.stop(),kg(e))})),e.K_}function Bg(e){return e.U_||(e.U_=function(e,t,n){const r=Zu(e);return r.w_(),new cg(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Rg.bind(null,e),mo:Mg.bind(null,e),f_:Og.bind(null,e),g_:Lg.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await jg(e)):(await e.U_.stop(),e.O_.length>0&&(Gu("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class zg{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new nd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new zg(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new td(ed.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(e,t){if(Qu("AsyncQueue","".concat(t,": ").concat(e)),Ad(e))return new td(ed.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class qg{constructor(e){this.comparator=e?(t,n)=>e(t,n)||bd.comparator(t.key,n.key):(e,t)=>bd.comparator(e.key,t.key),this.keyedMap=Nf(),this.sortedSet=new qd(this.comparator)}static emptySet(e){return new qg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qg))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new qg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Wg{constructor(){this.W_=new qd(bd.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):$u():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Kg{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Kg(e,t,qg.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Gg{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Qg{constructor(){this.queries=Yg(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Zu(e),r=n.queries;n.queries=Yg(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new td(ed.ABORTED,"Firestore shutting down"))}}function Yg(){return new xf(e=>ff(e),hf)}async function Xg(e,t){const n=Zu(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.H_()&&t.J_()&&(r=2):(i=new Gg,r=t.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=Hg(e,"Initialization of query '".concat(pf(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.j_.push(t),t.Z_(n.onlineState),i.z_&&t.X_(i.z_)&&ey(n)}async function $g(e,t){const n=Zu(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.j_.indexOf(t);e>=0&&(i.j_.splice(e,1),0===i.j_.length?s=t.J_()?0:1:!i.H_()&&t.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jg(e,t){const n=Zu(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(s)&&(r=!0);t.z_=s}}r&&ey(n)}function Zg(e,t,n){const r=Zu(e),s=r.queries.get(t);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(t)}function ey(e){e.Y_.forEach(e=>{e.next()})}var ty,ny;(ny=ty||(ty={})).ea="default",ny.Cache="cache";class ry{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Kg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==ty.Cache}}class sy{constructor(e){this.key=e}}class iy{constructor(e){this.key=e}}class ay{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=If(),this.mutatedKeys=If(),this.Aa=yf(e),this.Ra=new qg(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Wg,r=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=mf(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{Ra:i,fa:n,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $u()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==i.length||l?{snapshot:new Kg(this.query,e.Ra,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Wg,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=If(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new iy(e))}),this.da.forEach(n=>{e.has(n)||t.push(new sy(n))}),t}ba(e){this.Ta=e.Ts,this.da=If();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Kg.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class oy{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ly{constructor(e){this.key=e,this.va=!1}}class cy{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new xf(e=>ff(e),hf),this.Ma=new Map,this.xa=new Set,this.Oa=new qd(bd.comparator),this.Na=new Map,this.La=new Tm,this.Ba={},this.ka=new Map,this.qa=xm.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function uy(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Py(e);let s;const i=r.Fa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await hy(r,t,n,!0),s}async function dy(e,t){const n=Py(e);await hy(n,t,!0,!1)}async function hy(e,t,n,r){const s=await qm(e.localStore,lf(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await fy(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&mg(e.remoteStore,s),o}async function fy(e,t,n,r,s){e.Ka=(t,n,r)=>async function(e,t,n,r){let s=t.view.ma(n);s.ns&&(s=await Km(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Ey(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const i=await Km(e.localStore,t,!0),a=new ay(t,i.Ts),o=a.ma(i.documents),l=Tp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Ey(e,n,c.wa);const u=new oy(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function py(e,t,n){const r=Zu(e),s=r.Fa.get(t),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(e=>!hf(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Wm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&gg(r.remoteStore,s.targetId),Ny(r,s.targetId)}).catch(jd)):(Ny(r,s.targetId),await Wm(r.localStore,s.targetId,!0))}async function my(e,t){const n=Zu(e),r=n.Fa.get(t),s=n.Ma.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gg(n.remoteStore,r.targetId))}async function gy(e,t){const n=Zu(e);try{const e=await function(e,t){const n=Zu(e),r=t.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken($d.EMPTY_BYTE_STRING,gd.min()).withLastLimboFreeSnapshotVersion(gd.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,i)&&a.push(n.Ur.updateTargetData(e,c))});let o=bf(),l=If();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(zm(e,i,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(gd.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Id.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(Ju(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Ju(r.va):e.removedDocuments.size>0&&(Ju(r.va),r.va=!1))}),await Cy(n,e,t)}catch(e){await jd(e)}}function yy(e,t,n){const r=Zu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const s=r.view.Z_(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Zu(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.j_)s.Z_(t)&&(r=!0)}),r&&ey(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vy(e,t,n){const r=Zu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Na.get(t),i=s&&s.key;if(i){let e=new qd(bd.comparator);e=e.insert(i,_h.newNoDocument(i,gd.min()));const n=If().add(i),s=new Ep(gd.min(),new Map,new qd(fd),e,n);await gy(r,s),r.Oa=r.Oa.remove(i),r.Na.delete(t),_y(r)}else await Wm(r.localStore,t,!1).then(()=>Ny(r,t,n)).catch(jd)}async function xy(e,t){const n=Zu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Zu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Id.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ju(null!==i),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=If();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);ky(n,r,null),by(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cy(n,e)}catch(e){await jd(e)}}async function wy(e,t,n){const r=Zu(e);try{const e=await function(e,t){const n=Zu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ju(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);ky(r,t,n),by(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cy(r,e)}catch(n){await jd(n)}}function by(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function ky(e,t,n){const r=Zu(e);let s=r.Ba[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Ba[r.currentUser.toKey()]=s}}function Ny(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||Sy(e,t)})}function Sy(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(gg(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),_y(e))}function Ey(e,t,n){for(const r of n)r instanceof sy?(e.La.addReference(r.key,t),Ty(e,r)):r instanceof iy?(Gu("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||Sy(e,r.key)):$u()}function Ty(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(Gu("SyncEngine","New document in limbo: "+n),e.xa.add(r),_y(e))}function _y(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new bd(vd.fromString(t)),r=e.qa.next();e.Na.set(r,new ly(n)),e.Oa=e.Oa.insert(n,r),mg(e.remoteStore,new hm(lf(rf(n.path)),r,"TargetPurposeLimboResolution",Dd.oe))}}async function Cy(e,t,n){const r=Zu(e),s=[],i=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const s=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Om.Wi(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Ca.d_(s),await async function(e,t){const n=Zu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Id.forEach(t,t=>Id.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Id.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ad(e))throw e;Gu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,s)}}}(r.localStore,i))}async function jy(e,t){const n=Zu(e);if(!n.currentUser.isEqual(t)){Gu("SyncEngine","User change. New user:",t.toKey());const e=await Um(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new td(ed.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cy(n,e.hs)}}function Iy(e,t){const n=Zu(e),r=n.Na.get(t);if(r&&r.va)return If().add(r.key);{let e=If();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function Py(e){const t=Zu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=gy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iy.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vy.bind(null,t),t.Ca.d_=Jg.bind(null,t.eventManager),t.Ca.$a=Zg.bind(null,t.eventManager),t}function Ay(e){const t=Zu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wy.bind(null,t),t}class Dy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ig(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Vm(this.persistence,new Mm,e.initialUser,this.serializer)}Ga(e){return new Am(Rm.Zr,this.serializer)}Wa(e){return new Ym}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dy.provider={build:()=>new Dy};class Ry{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>yy(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=jy.bind(null,this.syncEngine),await Vg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qg}createDatastore(e){const t=ig(e.databaseInfo.databaseId),n=function(e){return new rg(e)}(e.databaseInfo);return function(e,t,n,r){return new ug(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new hg(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>yy(this.syncEngine,e,0),$m.D()?new $m:new Xm)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new cy(e,t,n,r,s,i);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Zu(e);Gu("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await pg(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ry.provider={build:()=>new Ry};class Oy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qu("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class Ly{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Hu.UNAUTHENTICATED,this.clientId=hd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{Gu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Gu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new nd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Hg(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function My(e,t){e.asyncQueue.verifyOperationInProgress(),Gu("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Um(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Vy(e);Gu("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Fg(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Fg(t.remoteStore,n)),e._onlineComponents=t}async function Vy(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gu("FirestoreClient","Using user provided OfflineComponentProvider");try{await My(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===ed.FAILED_PRECONDITION||e.code===ed.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Yu("Error using user provided cache. Falling back to memory cache: "+n),await My(e,new Dy)}}else Gu("FirestoreClient","Using default OfflineComponentProvider"),await My(e,new Dy);return e._offlineComponents}async function Uy(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gu("FirestoreClient","Using user provided OnlineComponentProvider"),await Fy(e,e._uninitializedComponentsProvider._online)):(Gu("FirestoreClient","Using default OnlineComponentProvider"),await Fy(e,new Ry))),e._onlineComponents}function By(e){return Uy(e).then(e=>e.syncEngine)}async function zy(e){const t=await Uy(e),n=t.eventManager;return n.onListen=uy.bind(null,t.syncEngine),n.onUnlisten=py.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dy.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=my.bind(null,t.syncEngine),n}function Hy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nd;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Oy({next:o=>{i.Za(),t.enqueueAndForget(()=>$g(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new td(ed.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new td(ed.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new ry(rf(n.path),i,{includeMetadataChanges:!0,_a:!0});return Xg(e,a)}(await zy(e),e.asyncQueue,t,n,r)),r.promise}function qy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new nd;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Oy({next:n=>{i.Za(),t.enqueueAndForget(()=>$g(e,a)),n.fromCache&&"server"===r.source?s.reject(new td(ed.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new ry(n,i,{includeMetadataChanges:!0,_a:!0});return Xg(e,a)}(await zy(e),e.asyncQueue,t,n,r)),r.promise}function Wy(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ky=new Map;function Gy(e,t,n){if(!n)throw new td(ed.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Qy(e){if(!bd.isDocumentKey(e))throw new td(ed.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yy(e){if(bd.isDocumentKey(e))throw new td(ed.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Xy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":$u()}function $y(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new td(ed.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xy(e);throw new td(ed.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Jy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new td(ed.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new td(ed.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new td(ed.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wy(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new td(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new td(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new td(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zy{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new td(ed.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new td(ed.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sd;switch(e.type){case"firstParty":return new ld(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new td(ed.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ky.get(e);t&&(Gu("ComponentProvider","Removing Datastore"),Ky.delete(e),t.terminate())}(this),Promise.resolve()}}function ev(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var s;const i=(e=$y(e,Zy))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==i.host&&i.host!==a&&Yu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Hu.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Al(JSON.stringify({alg:"none",type:"JWT"})),Al(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(s=e._app)||void 0===s?void 0:s.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new td(ed.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Hu(i)}e._authCredentials=new id(new rd(t,n))}}class tv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tv(this.firestore,e,this._query)}}class nv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nv(this.firestore,e,this._key)}}class rv extends tv{constructor(e,t,n){super(e,t,rf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nv(this.firestore,null,new bd(e))}withConverter(e){return new rv(this.firestore,e,this._path)}}function sv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Zl(e),Gy("collection","path",t),e instanceof Zy){const n=vd.fromString(t,...r);return Yy(n),new rv(e,null,n)}{if(!(e instanceof nv||e instanceof rv))throw new td(ed.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vd.fromString(t,...r));return Yy(n),new rv(e.firestore,null,n)}}function iv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Zl(e),1===arguments.length&&(t=hd.newId()),Gy("doc","path",t),e instanceof Zy){const n=vd.fromString(t,...r);return Qy(n),new nv(e,null,new bd(n))}{if(!(e instanceof nv||e instanceof rv))throw new td(ed.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vd.fromString(t,...r));return Qy(n),new nv(e.firestore,e instanceof rv?e.converter:null,new bd(n))}}class av{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ag(this,"async_queue_retry"),this.Vu=()=>{const e=sg();e&&Gu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=sg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=sg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new nd;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(rN){if(!Ad(rN))throw rN;Gu("AsyncQueue","Operation failed with retryable error: "+rN)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Qu("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=zg.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&$u()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ov extends Zy{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new av,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new av(e),this._firestoreClient=void 0,await e}}}function lv(e){if(e._terminated)throw new td(ed.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cv(e),e._firestoreClient}function cv(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new ih(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wy(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=s.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Ly(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class uv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uv($d.fromBase64String(e))}catch(e){throw new td(ed.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new uv($d.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new td(ed.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wd(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hv{constructor(e){this._methodName=e}}class fv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new td(ed.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new td(ed.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fd(this._lat,e._lat)||fd(this._long,e._long)}}class pv{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const mv=/^__.*__$/;class gv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new sp(e,this.data,this.fieldMask,t,this.fieldTransforms):new rp(e,this.data,t,this.fieldTransforms)}}class yv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new sp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $u()}}class xv{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(vv(this.Cu)&&mv.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class wv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ig(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xv({Cu:e,methodName:t,qu:n,path:wd.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bv(e){const t=e._freezeSettings(),n=ig(e._databaseId);return new wv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kv(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(i.merge||i.mergeFields?2:0,t,n,s);Iv("Data must be an object, but it was:",a,r);const o=Cv(r,a);let l,c;if(i.merge)l=new Yd(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Pv(t,r,n);if(!a.contains(s))throw new td(ed.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Ov(e,s)||e.push(s)}l=new Yd(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new gv(new Eh(o),l,c)}class Nv extends hv{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nv}}function Sv(e,t,n,r){const s=e.Qu(1,t,n);Iv("Data must be an object, but it was:",s,r);const i=[],a=Eh.empty();zd(r,(e,r)=>{const o=Dv(t,e,n);r=Zl(r);const l=s.Nu(o);if(r instanceof Nv)i.push(o);else{const e=_v(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new Yd(i);return new yv(a,o,s.fieldTransforms)}function Ev(e,t,n,r,s,i){const a=e.Qu(1,t,n),o=[Pv(t,r,n)],l=[s];if(i.length%2!=0)throw new td(ed.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Pv(t,i[h])),l.push(i[h+1]);const c=[],u=Eh.empty();for(let h=o.length-1;h>=0;--h)if(!Ov(c,o[h])){const e=o[h];let t=l[h];t=Zl(t);const n=a.Nu(e);if(t instanceof Nv)c.push(e);else{const r=_v(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Yd(c);return new yv(u,d,a.fieldTransforms)}function Tv(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _v(n,e.Qu(r?4:3,t))}function _v(e,t){if(jv(e=Zl(e)))return Iv("Unsupported field value:",t,e),Cv(e,t);if(e instanceof hv)return function(e,t){if(!vv(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=_v(s,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Zl(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Of(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=md.fromDate(e);return{timestampValue:Vp(t.serializer,n)}}if(e instanceof md){const n=new md(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Vp(t.serializer,n)}}if(e instanceof fv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof uv)return{bytesValue:Up(t.serializer,e._byteString)};if(e instanceof nv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Hp(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof pv)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return Df(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Xy(e)))}(e,t)}function Cv(e,t){const n={};return Hd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zd(e,(e,r)=>{const s=_v(r,t.Mu(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function jv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof md||e instanceof fv||e instanceof uv||e instanceof nv||e instanceof hv||e instanceof pv)}function Iv(e,t,n){if(!jv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Xy(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Pv(e,t,n){if((t=Zl(t))instanceof dv)return t._internalPath;if("string"==typeof t)return Dv(e,t);throw Rv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Av=new RegExp("[~\\*/\\[\\]]");function Dv(e,t,n){if(t.search(Av)>=0)throw Rv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dv(...t.split("."))._internalPath}catch(r){throw Rv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Rv(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new td(ed.INVALID_ARGUMENT,o+e+l)}function Ov(e,t){return e.some(e=>e.isEqual(t))}class Lv{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fv("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mv extends Lv{data(){return super.data()}}function Fv(e,t){return"string"==typeof t?Dv(e,t):t instanceof dv?t._internalPath:t._delegate._internalPath}function Vv(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new td(ed.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uv{}class Bv extends Uv{}function zv(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Uv&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof Wv).length,n=e.filter(e=>e instanceof Hv).length;if(t>1||t>0&&n>0)throw new td(ed.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Hv extends Bv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Hv(e,t,n)}_apply(e){const t=this._parse(e);return Qv(e._query,t),new tv(e.firestore,e.converter,uf(e._query,t))}_parse(e){const t=bv(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new td(ed.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Gv(a,i);const t=[];for(const n of a)t.push(Kv(r,e,n));o={arrayValue:{values:t}}}else o=Kv(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Gv(a,i),o=Tv(n,t,a,"in"===i||"not-in"===i);return Rh.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function qv(e,t,n){const r=t,s=Fv("where",e);return Hv._create(s,r,n)}class Wv extends Uv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wv(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Oh.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Qv(n,s),n=uf(n,s)}(e._query,t),new tv(e.firestore,e.converter,uf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Kv(e,t,n){if("string"==typeof(n=Zl(n))){if(""===n)throw new td(ed.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!af(t)&&-1!==n.indexOf("/"))throw new td(ed.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(vd.fromString(n));if(!bd.isDocumentKey(r))throw new td(ed.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gh(e,new bd(r))}if(n instanceof nv)return gh(e,n._key);throw new td(ed.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Xy(n),"."))}function Gv(e,t){if(!Array.isArray(e)||0===e.length)throw new td(ed.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Qv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new td(ed.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new td(ed.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Yv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eh(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(th(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $u()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return zd(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const s=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>eh(e.doubleValue));return new pv(s)}convertGeoPoint(e){return new fv(eh(e.latitude),eh(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rh(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sh(e));default:return null}}convertTimestamp(e){const t=Zd(e);return new md(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=vd.fromString(e);Ju(dm(n));const r=new ah(n.get(1),n.get(3)),s=new bd(n.popFirst(5));return r.isEqual(t)||Qu("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Xv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class $v{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jv extends Lv{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Zv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Fv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Zv extends Jv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class ex{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new $v(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Zv(this._firestore,this._userDataWriter,n.key,n,new $v(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new td(ed.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Zv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new $v(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Zv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new $v(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:tx(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function tx(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $u()}}function nx(e){e=$y(e,nv);const t=$y(e.firestore,ov);return Hy(lv(t),e._key).then(n=>ox(t,e,n))}class rx extends Yv{constructor(e){super(),this.firestore=e}convertBytes(e){return new uv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nv(this.firestore,null,t)}}function sx(e){e=$y(e,tv);const t=$y(e.firestore,ov),n=lv(t),r=new rx(t);return Vv(e._query),qy(n,e._query).then(n=>new ex(t,r,e,n))}function ix(e,t,n){e=$y(e,nv);const r=$y(e.firestore,ov),s=Xv(e.converter,t,n);return ax(r,[kv(bv(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Yf.none())])}function ax(e,t){return function(e,t){const n=new nd;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ay(e);try{const e=await function(e,t){const n=Zu(e),r=md.now(),s=t.reduce((e,t)=>e.add(t.key),If());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=bf(),l=If();return n.cs.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=tp(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new sp(e.key,t,Th(t.value.mapValue),Yf.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:Sf(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new qd(fd)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cy(r,e.changes),await jg(r.remoteStore)}catch(e){const t=Hg(e,"Failed to persist write");n.reject(t)}}(await By(e),t,n)),n.promise}(lv(e),t)}function ox(e,t,n){const r=n.docs.get(t._key),s=new rx(e);return new Jv(e,s,t._key,r,new $v(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qu=e}(pu),cu(new ec("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new ov(new ad(e.getProvider("auth-internal")),new ud(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new td(ed.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(e.options.projectId,t)}(i,r),i);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yu(zu,"4.7.3",e),yu(zu,"4.7.3","esm2017")}();function lx(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ux=cx,dx=new ql("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hx=new uc("@firebase/auth");function fx(e){if(hx.logLevel<=ic.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hx.error("Auth (".concat(pu,"): ").concat(e),...n)}}function px(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vx(e,...n)}function mx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vx(e,...n)}function gx(e,t,n){const r=Object.assign(Object.assign({},ux()),{[t]:n});return new ql("auth","Firebase",r).create(t,{appName:e.name})}function yx(e){return gx(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return dx.create(e,...n)}function xx(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw vx(t,...r)}}function wx(e){const t="INTERNAL ASSERTION FAILED: "+e;throw fx(t),new Error(t)}function bx(e,t){e||wx(t)}function kx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nx(){return"http:"===Sx()||"https:"===Sx()}function Sx(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ex(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nx()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Tx{constructor(e,t){this.shortDelay=e,this.longDelay=t,bx(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ul())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Ex()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _x(e,t){bx(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Cx{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void wx("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void wx("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void wx("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ix=new Tx(3e4,6e4);function Px(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Ax(e,t,n,r){return Dx(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=Ql(Object.assign({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Cx.fetch()(Ox(e,e.config.apiHost,n,a),l)})}async function Dx(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jx),t);try{const t=new Mx(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Fx(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fx(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Fx(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Fx(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw gx(e,o,a);px(e,o)}}catch(rN){if(rN instanceof Hl)throw rN;px(e,"network-request-failed",{message:String(rN)})}}async function Rx(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Ax(e,t,n,r,s);return"mfaPendingCredential"in i&&px(e,"multi-factor-auth-required",{_serverResponse:i}),i}function Ox(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_x(e.config,s):"".concat(e.config.apiScheme,"://").concat(s)}function Lx(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(mx(this.auth,"network-request-failed")),Ix.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fx(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=mx(e,t,r);return s.customData._tokenResponse=n,s}function Vx(e){return void 0!==e&&void 0!==e.getResponse}function Ux(e){return void 0!==e&&void 0!==e.enterprise}class Bx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Lx(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function zx(e,t){return Ax(e,"GET","/v2/recaptchaConfig",Px(e,t))}async function Hx(e,t){return Ax(e,"POST","/v1/accounts:lookup",t)}function qx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(rN){}}function Wx(e){return 1e3*Number(e)}function Kx(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return fx("JWT malformed, contained fewer than 3 sections"),null;try{const e=Dl(n);return e?JSON.parse(e):(fx("Failed to decode base64 JWT payload"),null)}catch(rN){return fx("Caught error parsing JWT payload as JSON",null===rN||void 0===rN?void 0:rN.toString()),null}}function Gx(e){const t=Kx(e);return xx(t,"internal-error"),xx("undefined"!==typeof t.exp,"internal-error"),xx("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Qx(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(rN){throw rN instanceof Hl&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(rN)&&e.auth.currentUser===e&&await e.auth.signOut(),rN}}class Yx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(rN){return void((null===rN||void 0===rN?void 0:rN.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Xx{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qx(this.lastLoginAt),this.creationTime=qx(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $x(e){var t;const n=e.auth,r=await e.getIdToken(),s=await Qx(e,Hx(n,{idToken:r}));xx(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=(null===(t=i.providerUserInfo)||void 0===t?void 0:t.length)?Jx(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xx(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Jx(e){return e.map(e=>{var{providerId:t}=e,n=lx(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Zx{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xx(e.idToken,"internal-error"),xx("undefined"!==typeof e.idToken,"internal-error"),xx("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Gx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xx(0!==e.length,"internal-error");const t=Gx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(xx(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await Dx(e,{},async()=>{const n=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=Ox(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cx.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new Zx;return n&&(xx("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(xx("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(xx("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zx,this.toJSON())}_performRefresh(){return wx("not implemented")}}function ew(e,t){xx("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class tw{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,s=lx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Xx(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Qx(this,this.stsTokenManager.getToken(this.auth,e));return xx(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Zl(e),r=await n.getIdToken(t),s=Kx(r);xx(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:qx(Wx(s.auth_time)),issuedAtTime:qx(Wx(s.iat)),expirationTime:qx(Wx(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Zl(e);await $x(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(xx(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tw(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xx(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $x(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(du(this.auth.app))return Promise.reject(yx(this.auth));const e=await this.getIdToken();return await Qx(this,async function(e,t){return Ax(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:x,isAnonymous:w,providerData:b,stsTokenManager:k}=t;xx(v&&k,e,"internal-error");const N=Zx.fromJSON(this.name,k);xx("string"===typeof v,e,"internal-error"),ew(u,e.name),ew(d,e.name),xx("boolean"===typeof x,e,"internal-error"),xx("boolean"===typeof w,e,"internal-error"),ew(h,e.name),ew(f,e.name),ew(p,e.name),ew(m,e.name),ew(g,e.name),ew(y,e.name);const S=new tw({uid:v,auth:e,email:d,emailVerified:x,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:N,createdAt:g,lastLoginAt:y});return b&&Array.isArray(b)&&(S.providerData=b.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Zx;r.updateFromServerResponse(t);const s=new tw({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $x(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];xx(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?Jx(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length),a=new Zx;a.updateFromIdToken(n);const o=new tw({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Xx(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===s||void 0===s?void 0:s.length)};return Object.assign(o,l),o}}const nw=new Map;function rw(e){bx(e instanceof Function,"Expected a class definition");let t=nw.get(e);return t?(bx(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nw.set(e,t),t)}class sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sw.type="NONE";const iw=sw;function aw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ow{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=aw(this.userKey,r.apiKey,s),this.fullPersistenceKey=aw("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tw._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ow(rw(iw),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||rw(iw);const i=aw(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(i);if(t){const n=tw._fromJSON(e,t);l!==s&&(a=n),s=l;break}}catch(sN){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(sN){}})),new ow(s,e,n)):new ow(s,e,n)}}function lw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pw(t))return"Blackberry";if(mw(t))return"Webos";if(uw(t))return"Safari";if((t.includes("chrome/")||dw(t))&&!t.includes("edge/"))return"Chrome";if(fw(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function cw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/firefox\//i.test(e)}function uw(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/crios\//i.test(e)}function hw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/iemobile/i.test(e)}function fw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/android/i.test(e)}function pw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/blackberry/i.test(e)}function mw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/webos/i.test(e)}function gw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function yw(){return function(){const e=Ul();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function vw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul();return gw(e)||fw(e)||mw(e)||pw(e)||/windows phone/i.test(e)||hw(e)}function xw(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=lw(Ul());break;case"Worker":t="".concat(lw(Ul()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pu,"/").concat(r)}class ww{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(rN){r(rN)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(rN){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===rN||void 0===rN?void 0:rN.message})}}}class bw{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class kw{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sw(this),this.idTokenSubscription=new Sw(this),this.beforeStateQueue=new ww(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=rw(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ow.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(rN){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Hx(this,{idToken:e}),n=await tw._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(du(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==i||!(null===a||void 0===a?void 0:a.user)||(r=a.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(rN){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(rN))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xx(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(rN){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $x(e)}catch(rN){if((null===rN||void 0===rN?void 0:rN.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(du(this.app))return Promise.reject(yx(this));const t=e?Zl(e):null;return t&&xx(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&xx(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return du(this.app)?Promise.reject(yx(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return du(this.app)?Promise.reject(yx(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rw(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Ax(e,"GET","/v2/passwordPolicy",Px(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bw(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Ax(e,"POST","/v2/accounts:revokeToken",Px(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&rw(e)||this._popupRedirectResolver;xx(t,this,"argument-error"),this.redirectPersistenceManager=await ow.create(this,[rw(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(xx(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xx(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(hx.logLevel<=ic.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hx.warn("Auth (".concat(pu,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Nw(e){return Zl(e)}class Sw{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new $l(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return xx(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ew={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tw(e){return Ew.loadJS(e)}function _w(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Cw{constructor(e){this.type="recaptcha-enterprise",this.auth=Nw(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Ux(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{zx(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Bx(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Ux(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Ew.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Tw(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function jw(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=new Cw(e);let i;try{i=await s.verify(n)}catch(o){i=await s.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Iw(e,t,n,r){var s;if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await jw(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await jw(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}function Pw(e,t,n){const r=Nw(e);xx(r._canInitEmulator,r,"emulator-config-failed"),xx(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!!(null===n||void 0===n?void 0:n.disableWarnings),i=Aw(t),{host:a,port:o}=function(e){const t=Aw(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Dw(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Dw(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(i,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Aw(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Dw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Rw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wx("not implemented")}_getIdTokenResponse(e){return wx("not implemented")}_linkToIdToken(e,t){return wx("not implemented")}_getReauthenticationResolver(e){return wx("not implemented")}}async function Ow(e,t){return Ax(e,"POST","/v1/accounts:signUp",t)}async function Lw(e,t){return Rx(e,"POST","/v1/accounts:signInWithPassword",Px(e,t))}class Mw extends Rw{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Mw(e,t,"password")}static _fromEmailAndCode(e,t){return new Mw(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Iw(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Lw);case"emailLink":return async function(e,t){return Rx(e,"POST","/v1/accounts:signInWithEmailLink",Px(e,t))}(e,{email:this._email,oobCode:this._password});default:px(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Iw(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ow);case"emailLink":return async function(e,t){return Rx(e,"POST","/v1/accounts:signInWithEmailLink",Px(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:px(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Fw(e,t){return Rx(e,"POST","/v1/accounts:signInWithIdp",Px(e,t))}class Vw extends Rw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Vw(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):px("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=lx(t,["providerId","signInMethod"]);if(!n||!r)return null;const i=new Vw(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return Fw(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Fw(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Fw(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ql(t)}return e}}const Uw={USER_NOT_FOUND:"user-not-found"};class Bw extends Rw{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Bw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Bw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Rx(e,"POST","/v1/accounts:signInWithPhoneNumber",Px(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Rx(e,"POST","/v1/accounts:signInWithPhoneNumber",Px(e,t));if(n.temporaryProof)throw Fx(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Rx(e,"POST","/v1/accounts:signInWithPhoneNumber",Px(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Uw)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Bw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class zw{constructor(e){var t,n,r,s,i,a;const o=Yl(Xl(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);xx(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.languageCode)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Yl(Xl(e)).link,n=t?Yl(Xl(t)).deep_link_id:null,r=Yl(Xl(e)).deep_link_id;return(r?Yl(Xl(r)).link:null)||r||n||t||e}(e);try{return new zw(t)}catch(sN){return null}}}class Hw{constructor(){this.providerId=Hw.PROVIDER_ID}static credential(e,t){return Mw._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=zw.parseLink(t);return xx(n,"argument-error"),Mw._fromEmailAndCode(e,n.code,n.tenantId)}}Hw.PROVIDER_ID="password",Hw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ww extends qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Kw extends Ww{constructor(){super("facebook.com")}static credential(e){return Vw._fromParams({providerId:Kw.PROVIDER_ID,signInMethod:Kw.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kw.credentialFromTaggedObject(e)}static credentialFromError(e){return Kw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Kw.credential(t.oauthAccessToken)}catch(sN){return null}}}Kw.FACEBOOK_SIGN_IN_METHOD="facebook.com",Kw.PROVIDER_ID="facebook.com";class Gw extends Ww{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Vw._fromParams({providerId:Gw.PROVIDER_ID,signInMethod:Gw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gw.credentialFromTaggedObject(e)}static credentialFromError(e){return Gw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Gw.credential(n,r)}catch(sN){return null}}}Gw.GOOGLE_SIGN_IN_METHOD="google.com",Gw.PROVIDER_ID="google.com";class Qw extends Ww{constructor(){super("github.com")}static credential(e){return Vw._fromParams({providerId:Qw.PROVIDER_ID,signInMethod:Qw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qw.credentialFromTaggedObject(e)}static credentialFromError(e){return Qw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qw.credential(t.oauthAccessToken)}catch(sN){return null}}}Qw.GITHUB_SIGN_IN_METHOD="github.com",Qw.PROVIDER_ID="github.com";class Yw extends Ww{constructor(){super("twitter.com")}static credential(e,t){return Vw._fromParams({providerId:Yw.PROVIDER_ID,signInMethod:Yw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yw.credentialFromTaggedObject(e)}static credentialFromError(e){return Yw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Yw.credential(n,r)}catch(sN){return null}}}Yw.TWITTER_SIGN_IN_METHOD="twitter.com",Yw.PROVIDER_ID="twitter.com";class Xw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await tw._fromIdTokenResponse(e,n,r),i=$w(n);return new Xw({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=$w(n);return new Xw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function $w(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jw extends Hl{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Jw.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Jw(e,t,n,r)}}function Zw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Jw._fromErrorAndOperation(e,n,t,r);throw n})}async function eb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Qx(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Xw._forOperation(e,"link",r)}async function tb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(du(r.app))return Promise.reject(yx(r));const s="reauthenticate";try{const i=await Qx(e,Zw(r,s,t,e),n);xx(i.idToken,r,"internal-error");const a=Kx(i.idToken);xx(a,r,"internal-error");const{sub:o}=a;return xx(e.uid===o,r,"user-mismatch"),Xw._forOperation(e,s,i)}catch(rN){throw(null===rN||void 0===rN?void 0:rN.code)==="auth/".concat("user-not-found")&&px(r,"user-mismatch"),rN}}async function nb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(du(e.app))return Promise.reject(yx(e));const r="signIn",s=await Zw(e,r,t),i=await Xw._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}async function rb(e,t){return nb(Nw(e),t)}new WeakMap;const sb="__sak";class ib{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sb,"1"),this.storage.removeItem(sb),Promise.resolve(!0)):Promise.resolve(!1)}catch(sN){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ab extends ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);yw()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const ob=ab;class lb extends ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lb.type="SESSION";const cb=lb;class ub{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ub(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(!(null===i||void 0===i?void 0:i.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function db(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ub.receivers=[];class hb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=db("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function fb(){return window}function pb(){return"undefined"!==typeof fb().WorkerGlobalScope&&"function"===typeof fb().importScripts}const mb="firebaseLocalStorageDb",gb="firebaseLocalStorage",yb="fbase_key";class vb{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xb(e,t){return e.transaction([gb],t?"readwrite":"readonly").objectStore(gb)}function wb(){const e=indexedDB.open(mb,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(gb,{keyPath:yb})}catch(rN){n(rN)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(gb)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(mb);return new vb(e).toPromise()}(),t(await wb()))})})}async function bb(e,t,n){const r=xb(e,!0).put({[yb]:t,value:n});return new vb(r).toPromise()}function kb(e,t){const n=xb(e,!0).delete(t);return new vb(n).toPromise()}class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await wb()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(rN){if(t++>3)throw rN;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ub._getInstance(pb()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hb(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(sN){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wb();return await bb(e,sb,"1"),await kb(e,sb),!0}catch(sN){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>bb(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=xb(e,!1).get(t),r=await new vb(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=xb(e,!1).getAll();return new vb(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Nb.type="LOCAL";const Sb=Nb;const Eb=1e12;class Tb{constructor(e){this.auth=e,this.counter=Eb,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new _b(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Eb;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Eb;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Eb;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class _b{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;xx(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(rN){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(rN){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Cb=_w("rcb"),jb=new Tx(3e4,6e4);class Ib{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=fb().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return xx(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Vx(fb().grecaptcha)?Promise.resolve(fb().grecaptcha):new Promise((n,r)=>{const s=fb().setTimeout(()=>{r(mx(e,"network-request-failed"))},jb.get());fb()[Cb]=()=>{fb().clearTimeout(s),delete fb()[Cb];const i=fb().grecaptcha;if(!i||!Vx(i))return void r(mx(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};Tw("".concat(Ew.recaptchaV2Script,"?").concat(Ql({onload:Cb,render:"explicit",hl:t}))).catch(()=>{clearTimeout(s),r(mx(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=fb().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pb{async load(e){return new Tb(e)}clearedOneInstance(){}}const Ab="recaptcha",Db={theme:"light",type:"image"};class Rb{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Db);this.parameters=n,this.type=Ab,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nw(e),this.isInvisible="invisible"===this.parameters.size,xx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;xx(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pb:new Ib,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(rN){return Promise.reject(rN)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){xx(!this.parameters.sitekey,this.auth,"argument-error"),xx(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),xx("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=fb()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){xx(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){xx(Nx()&&!pb(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Ax(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);xx(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return xx(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ob{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Bw._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Lb(e,t,n){var r;const s=await n.verify();try{let i;if(xx("string"===typeof s,e,"argument-error"),xx(n.type===Ab,e,"argument-error"),i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){xx("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Ax(e,"POST","/v2/accounts/mfaEnrollment:start",Px(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{xx("signin"===t.type,e,"internal-error");const n=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;xx(n,e,"missing-multi-factor-info");const a=await function(e,t){return Ax(e,"POST","/v2/accounts/mfaSignIn:start",Px(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Ax(e,"POST","/v1/accounts:sendVerificationCode",Px(e,t))}(e,{phoneNumber:i.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}class Mb{constructor(e){this.providerId=Mb.PROVIDER_ID,this.auth=Nw(e)}verifyPhoneNumber(e,t){return Lb(this.auth,e,Zl(t))}static credential(e,t){return Bw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Mb.credentialFromTaggedObject(t)}static credentialFromError(e){return Mb.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Bw._fromTokenResponse(n,r):null}}function Fb(e,t){return t?rw(t):(xx(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Mb.PROVIDER_ID="phone",Mb.PHONE_SIGN_IN_METHOD="phone";class Vb extends Rw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Fw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Fw(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ub(e){return nb(e.auth,new Vb(e),e.bypassAuthState)}function Bb(e){const{auth:t,user:n}=e;return xx(n,t,"internal-error"),tb(n,new Vb(e),e.bypassAuthState)}async function zb(e){const{auth:t,user:n}=e;return xx(n,t,"internal-error"),eb(n,new Vb(e),e.bypassAuthState)}class Hb{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(rN){this.reject(rN)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(rN){this.reject(rN)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ub;case"linkViaPopup":case"linkViaRedirect":return zb;case"reauthViaPopup":case"reauthViaRedirect":return Bb;default:px(this.auth,"internal-error")}}resolve(e){bx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bx(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qb=new Tx(2e3,1e4);class Wb extends Hb{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Wb.currentPopupAction&&Wb.currentPopupAction.cancel(),Wb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xx(e,this.auth,"internal-error"),e}async onExecution(){bx(1===this.filter.length,"Popup operations only handle one event");const e=db();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(mx(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(mx(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mx(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,qb.get())};e()}}Wb.currentPopupAction=null;const Kb=new Map;class Gb extends Hb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Kb.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xb(t),r=Yb(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(rN){e=()=>Promise.reject(rN)}Kb.set(this.auth._key(),e)}return this.bypassAuthState||Kb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Qb(e,t){Kb.set(e._key(),t)}function Yb(e){return rw(e._redirectPersistence)}function Xb(e){return aw("pendingRedirect",e.config.apiKey,e.name)}async function $b(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(du(e.app))return Promise.reject(yx(e));const r=Nw(e),s=Fb(r,t),i=new Gb(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Jb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!ek(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(mx(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zb(e))}saveEventToCache(e){this.cachedEventUids.add(Zb(e)),this.lastProcessedEventTime=Date.now()}}function Zb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ek(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nk=/^https?/;async function rk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Ax(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const n of t)try{if(sk(n))return}catch(sN){}px(e,"unauthorized-domain")}function sk(e){const t=kx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!nk.test(n))return!1;if(tk.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const ik=new Tx(3e4,6e4);function ak(){const e=fb().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ok(e){return new Promise((t,n)=>{var r,s,i;function a(){ak(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ak(),n(mx(e,"network-request-failed"))},timeout:ik.get()})}if(null===(s=null===(r=fb().gapi)||void 0===r?void 0:r.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=fb().gapi)||void 0===i?void 0:i.load)){const t=_w("iframefcb");return fb()[t]=()=>{gapi.load?a():n(mx(e,"network-request-failed"))},Tw("".concat(Ew.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw lk=null,e})}let lk=null;const ck=new Tx(5e3,15e3),uk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hk(e){const t=e.config;xx(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_x(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:pu},s=dk.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Ql(r).slice(1))}async function fk(e){const t=await function(e){return lk=lk||ok(e),lk}(e),n=fb().gapi;return xx(n,e,"internal-error"),t.open({where:document.body,url:hk(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uk,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=mx(e,"network-request-failed"),i=fb().setTimeout(()=>{r(s)},ck.get());function a(){fb().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(rN){}}}function gk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},pk),{width:r.toString(),height:s.toString(),top:i,left:a}),c=Ul().toLowerCase();n&&(o=dw(c)?"_blank":n),cw(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return gw(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new mk(null);const d=window.open(t||"",o,u);xx(d,e,"popup-blocked");try{d.focus()}catch(rN){}return new mk(d)}const yk="__/auth/handler",vk="emulator/auth/handler",xk=encodeURIComponent("fac");async function wk(e,t,n,r,s,i){xx(e.config.authDomain,e,"auth-domain-config-required"),xx(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:pu,eventId:s};if(t instanceof qw){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof Ww){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(xk,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yk);return _x(t,vk)}(e),"?").concat(Ql(o).slice(1)).concat(c)}const bk="webStorageSupport";const kk=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cb,this._completeRedirectFn=$b,this._overrideRedirectResult=Qb}async _openPopup(e,t,n,r){var s;bx(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return gk(e,await wk(e,t,n,kx(),r),db())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){fb().location.href=e}(await wk(e,t,n,kx(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bx(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await fk(e),n=new Jb(e);return t.register("authEvent",t=>{xx(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bk,{type:bk},n=>{var r;const s=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bk];void 0!==s&&t(!!s),px(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=rk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vw()||uw()||gw()}};var Nk="@firebase/auth",Sk="1.7.9";class Ek{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xx(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Tk=Fl("authIdTokenMaxAge")||300;let _k=null;var Ck;Ew={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=mx("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ck="Browser",cu(new ec("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;xx(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ck,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xw(Ck)},c=new kw(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(rw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cu(new ec("auth-internal",e=>(e=>new Ek(e))(Nw(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),yu(Nk,Sk,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ck)),yu(Nk,Sk,"esm2017");const jk=mu({apiKey:"AIzaSyCCu74yj8VQluMNPf7YU_37znx9eRL1jPk",authDomain:"paryatnam-cabs.firebaseapp.com",projectId:"paryatnam-cabs",storageBucket:"paryatnam-cabs.appspot.com",messagingSenderId:"578876032953",appId:"1:578876032953:web:abcdef123456"}),Ik=function(e,t){const n="string"==typeof e?e:t||"(default)",r=uu("object"==typeof e?e:gu(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Ll(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ev(r,...e)}return r}(jk),Pk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gu();const t=uu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=uu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Kl(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;px(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:kk,persistence:[Sb,ob,cb]}),r=Fl("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Tk)return;const r=null===t||void 0===t?void 0:t.token;_k!==r&&(_k=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Zl(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Zl(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=Ll("auth");return i&&Pw(n,"http://".concat(i)),n}(jk);const Ak=new class{constructor(){this.recaptchaVerifier=null}initializeRecaptcha(e){try{this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null);if(!document.getElementById(e))return void console.log("reCAPTCHA container not found, using demo mode");this.recaptchaVerifier=new Rb(Pk,e,{size:"invisible",callback:()=>{console.log("reCAPTCHA solved")},"expired-callback":()=>{console.log("reCAPTCHA expired"),this.recaptchaVerifier=null}})}catch(t){console.log("reCAPTCHA initialization failed, using demo mode:",t),this.recaptchaVerifier=null}}async sendOTP(e){try{if(!this.recaptchaVerifier)throw new Error("reCAPTCHA not initialized");const n="+91".concat(e);try{const e=await async function(e,t,n){if(du(e.app))return Promise.reject(yx(e));const r=Nw(e),s=await Lb(r,t,Zl(n));return new Ob(s,e=>rb(r,e))}(Pk,n,this.recaptchaVerifier);return sessionStorage.setItem("confirmationResult",JSON.stringify(e)),console.log("Firebase phone auth initiated successfully"),{success:!0,message:"OTP sent successfully via SMS",sessionId:e.verificationId}}catch(t){if(console.log("Firebase auth error, using demo mode:",t.message),"auth/invalid-phone-number"===t.code)return{success:!1,message:"Invalid phone number format. Please enter a valid 10-digit number."};if("auth/too-many-requests"===t.code)return{success:!1,message:"Too many requests. Please try again later."};if("auth/quota-exceeded"===t.code)return{success:!1,message:"SMS quota exceeded. Please try again later."};const n=Math.floor(1e5+9e5*Math.random()).toString(),r="demo_session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));return localStorage.setItem("otp_".concat(e),n),localStorage.setItem("otp_session_".concat(e),r),console.log("Demo OTP for ".concat(e,": ").concat(n)),{success:!0,message:"OTP sent successfully (Demo Mode)",sessionId:r,demoOTP:n}}}catch(n){return console.error("Error sending OTP:",n),{success:!1,message:n.message||"Failed to send OTP"}}}async verifyOTP(e){try{const n=sessionStorage.getItem("confirmationResult");if(n)try{const t=JSON.parse(n),r=Mb.credential(t.verificationId,e),s=await rb(Pk,r);console.log("Firebase phone verification successful");const i=await nx(iv(Ik,"users",s.user.uid));if(i.exists()){return{success:!0,message:"Phone number verified successfully",user:i.data()}}return{success:!0,message:"Phone number verified successfully. Please complete your profile.",user:void 0}}catch(t){if(console.log("Firebase verification failed:",t.message),"auth/invalid-verification-code"===t.code)return{success:!1,message:"Invalid OTP. Please check the code and try again."};if("auth/invalid-verification-id"===t.code)return{success:!1,message:"Verification session expired. Please request a new OTP."}}const r=localStorage.getItem("currentPhoneNumber")||"",s=localStorage.getItem("otp_".concat(r));if(s&&s===e){localStorage.removeItem("otp_".concat(r)),localStorage.removeItem("otp_session_".concat(r));const e=await this.getUserByPhone(r);return e.success&&e.user?{success:!0,message:"Phone number verified successfully",user:e.user}:{success:!0,message:"Phone number verified successfully. Please complete your profile.",user:void 0}}return{success:!1,message:"Invalid OTP. Please check the code and try again."}}catch(n){return console.error("Error verifying OTP:",n),{success:!1,message:n.message||"Invalid OTP"}}}async createUser(e){try{const n=Pk.currentUser;let r;r=n?n.uid:"demo_user_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));const s=Ce(Ce({},e),{},{id:r,createdAt:new Date,updatedAt:new Date,walletBalance:0,totalRides:0,rating:0,preferences:{language:"en",notifications:!0,locationSharing:!0}}),i=ix(iv(Ik,"users",r),s),a=new Promise((e,t)=>setTimeout(()=>t(new Error("Firestore timeout")),3e3));try{await Promise.race([i,a]),console.log("User saved to Firestore")}catch(t){console.log("Firestore error, using localStorage:",t.message),localStorage.setItem("user_".concat(r),JSON.stringify(s)),console.log("User saved to localStorage")}return{success:!0,message:"User created successfully",user:s}}catch(n){return console.error("Error creating user:",n),{success:!1,message:n.message||"Failed to create user"}}}async getUserById(e){try{const n=nx(iv(Ik,"users",e)),r=new Promise((e,t)=>setTimeout(()=>t(new Error("Firestore timeout")),2e3));try{const e=await Promise.race([n,r]);if(e.exists()){return{success:!0,message:"User found",user:e.data()}}}catch(t){console.log("Firestore error, checking localStorage:",t.message)}const s=localStorage.getItem("user_".concat(e));if(s){return{success:!0,message:"User found (Demo Mode)",user:JSON.parse(s)}}return{success:!1,message:"User not found"}}catch(n){return console.error("Error getting user:",n),{success:!1,message:n.message||"Failed to get user"}}}async getUserByPhone(e){try{try{const t=zv(sv(Ik,"users"),qv("phoneNumber","==",e)),n=await sx(t);if(!n.empty){const e=n.docs[0];return{success:!0,message:"User found",user:e.data()}}}catch(t){console.log("Firestore error, checking localStorage:",t.message)}const n=Object.keys(localStorage).filter(e=>e.startsWith("user_"));for(const t of n){const n=localStorage.getItem(t);if(n){const t=JSON.parse(n);if(t.phoneNumber===e)return{success:!0,message:"User found (Demo Mode)",user:t}}}return{success:!1,message:"User not found"}}catch(n){return console.error("Error getting user by phone:",n),{success:!1,message:n.message||"Failed to get user"}}}async updateUser(e,t){try{const r=Ce(Ce({},t),{},{updatedAt:new Date});try{const t=iv(Ik,"users",e);await function(e,t,n){e=$y(e,nv);const r=$y(e.firestore,ov),s=bv(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Zl(t))||t instanceof dv?Ev(s,"updateDoc",e._key,t,n,o):Sv(s,"updateDoc",e._key,t),ax(r,[i.toMutation(e._key,Yf.exists(!0))])}(t,r);const n=await nx(t);return{success:!0,message:"User updated successfully",user:n.data()}}catch(n){console.log("Firestore error, using localStorage:",n.message);const t=localStorage.getItem("user_".concat(e));if(t){const n=Ce(Ce({},JSON.parse(t)),r);return localStorage.setItem("user_".concat(e),JSON.stringify(n)),{success:!0,message:"User updated successfully (Demo Mode)",user:n}}}return{success:!1,message:"User not found"}}catch(r){return console.error("Error updating user:",r),{success:!1,message:r.message||"Failed to update user"}}}async deleteUser(e){try{try{return await(t=iv(Ik,"users",e),ax($y(t.firestore,ov),[new lp(t._key,Yf.none())])),{success:!0,message:"User deleted successfully"}}catch(n){return console.log("Firestore error, using localStorage:",n.message),localStorage.removeItem("user_".concat(e)),{success:!0,message:"User deleted successfully (Demo Mode)"}}}catch(r){return console.error("Error deleting user:",r),{success:!1,message:r.message||"Failed to delete user"}}var t}async saveRideHistory(e){try{var t;const r="ride_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),s=Ce(Ce({},e),{},{id:r,createdAt:new Date}),i=ix(iv(Ik,"rides",r),s),a=new Promise((e,t)=>setTimeout(()=>t(new Error("Firestore timeout")),3e3));try{await Promise.race([i,a]),console.log("Ride saved to Firestore")}catch(n){console.log("Firestore error, using localStorage:",n.message);const e=JSON.parse(localStorage.getItem("rides")||"[]");e.push(s),localStorage.setItem("rides",JSON.stringify(e)),console.log("Ride saved to localStorage")}const o=(null===(t=(await this.getUserById(e.userId)).user)||void 0===t?void 0:t.totalRides)||0;return await this.updateUser(e.userId,{totalRides:o+1}),{success:!0,message:"Ride history saved",rideId:r}}catch(r){return console.error("Error saving ride history:",r),{success:!1,message:r.message||"Failed to save ride history"}}}async getRideHistory(e){try{try{const t=zv(sv(Ik,"rides"),qv("userId","==",e)),n=await sx(t),r=[];return n.forEach(e=>{r.push(e.data())}),{success:!0,message:"Ride history retrieved",rides:r.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}}catch(t){console.log("Firestore error, using localStorage:",t.message);const n=JSON.parse(localStorage.getItem("rides")||"[]");return{success:!0,message:"Ride history retrieved (Demo Mode)",rides:n.filter(t=>t.userId===e).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}}}catch(n){return console.error("Error getting ride history:",n),{success:!1,message:n.message||"Failed to get ride history"}}}async addWalletBalance(e,t,n){try{const s=await this.getUserById(e);if(!s.success||!s.user)throw new Error("User not found");const i=s.user.walletBalance+t;await this.updateUser(e,{walletBalance:i});const a="txn_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),o={id:a,userId:e,type:t>0?"credit":"debit",amount:Math.abs(t),description:n,createdAt:new Date};try{await ix(iv(Ik,"wallet_transactions",a),o)}catch(r){console.log("Firestore error, using localStorage:",r.message);const e=JSON.parse(localStorage.getItem("wallet_transactions")||"[]");e.push(o),localStorage.setItem("wallet_transactions",JSON.stringify(e))}return{success:!0,message:"Wallet balance updated",newBalance:i}}catch(s){return console.error("Error updating wallet balance:",s),{success:!1,message:s.message||"Failed to update wallet balance"}}}async getWalletTransactions(e){try{try{const t=zv(sv(Ik,"wallet_transactions"),qv("userId","==",e)),n=await sx(t),r=[];return n.forEach(e=>{r.push(e.data())}),{success:!0,message:"Wallet transactions retrieved",transactions:r.sort((e,t)=>t.createdAt.getTime()-e.createdAt.getTime())}}catch(t){console.log("Firestore error, using localStorage:",t.message);const n=JSON.parse(localStorage.getItem("wallet_transactions")||"[]");return{success:!0,message:"Wallet transactions retrieved (Demo Mode)",transactions:n.filter(t=>t.userId===e).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime())}}}catch(n){return console.error("Error getting wallet transactions:",n),{success:!1,message:n.message||"Failed to get wallet transactions"}}}getCurrentUser(){const e=Pk.currentUser;return e?{id:e.uid,phoneNumber:e.phoneNumber||"",name:"",email:"",userType:"customer",isVerified:!0,isFirstTime:!1,walletBalance:0,totalRides:0,rating:0,createdAt:new Date,updatedAt:new Date}:null}async signOut(){try{await Pk.signOut(),sessionStorage.removeItem("confirmationResult")}catch(e){console.error("Error signing out:",e)}}},Dk=Ak,Rk=e=>{let{onLogin:t,onBack:n}=e;const[r,i]=(0,s.useState)(0),[a,o]=(0,s.useState)(""),[l,c]=(0,s.useState)(""),[u,d]=(0,s.useState)({name:"",email:"",address:"",emergencyContact:""}),[h,f]=(0,s.useState)(!1),[p,m]=(0,s.useState)(0),[g,y]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),[w,b]=(0,s.useState)(!1),k=[{title:"Enter Phone Number",subtitle:"We'll send you a verification code",icon:(0,Vo.jsx)(Cl,{className:"w-8 h-8"})},{title:"Verify OTP",subtitle:"Enter the 6-digit code sent to your phone",icon:(0,Vo.jsx)(Tl,{className:"w-8 h-8"})},{title:w?"Complete Sign Up":"Login",subtitle:w?"Tell us a bit about yourself":"Welcome back!",icon:(0,Vo.jsx)(Sl,{className:"w-8 h-8"})}];(0,s.useEffect)(()=>{if(p>0){const e=setTimeout(()=>m(p-1),1e3);return()=>clearTimeout(e)}},[p]),(0,s.useEffect)(()=>{Dk.initializeRecaptcha("recaptcha-container")},[]);const N=async()=>{if(!(p>0)){f(!0),y("");try{const e=await Dk.sendOTP(a);e.success?(m(30),console.log("OTP resent successfully"),e.demoOTP&&x(e.demoOTP)):y(e.message||"Failed to resend OTP")}catch(e){console.error("Error resending OTP:",e),y("Network error. Please try again.")}finally{f(!1)}}},S=()=>{switch(r){case 0:return a.length>=10;case 1:return 6===l.length;case 2:return!w||u.name&&u.email;default:return!1}};return(0,Vo.jsxs)("div",{className:"min-h-screen bg-dark-900 text-white flex flex-col",children:[(0,Vo.jsx)("div",{className:"bg-dark-800 p-4 border-b border-dark-700",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsx)(Fo.button,{onClick:n,className:"p-2 rounded-lg bg-dark-700 hover:bg-dark-600 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,Vo.jsx)(vl,{className:"w-5 h-5"})}),(0,Vo.jsx)("h1",{className:"text-lg font-semibold",children:w?"Sign Up":"Login"}),(0,Vo.jsx)("div",{className:"w-9"})]})}),(0,Vo.jsx)("div",{className:"bg-dark-800 p-4",children:(0,Vo.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:["Step ",r+1," of ",k.length]}),(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:[Math.round((r+1)/k.length*100),"%"]})]}),(0,Vo.jsx)("div",{className:"w-full bg-dark-600 rounded-full h-2",children:(0,Vo.jsx)(Fo.div,{className:"bg-primary-500 h-2 rounded-full",initial:{width:0},animate:{width:"".concat((r+1)/k.length*100,"%")},transition:{duration:.3}})})]})}),(0,Vo.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,Vo.jsx)("div",{className:"max-w-md w-full",children:(0,Vo.jsx)(tl,{mode:"wait",children:(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)("div",{className:"flex justify-center mb-4",children:(0,Vo.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center",children:k[r].icon})}),(0,Vo.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:k[r].title}),(0,Vo.jsx)("p",{className:"text-gray-400",children:k[r].subtitle})]}),(()=>{switch(r){case 0:return(0,Vo.jsxs)("div",{className:"space-y-6",children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vo.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(Cl,{className:"w-5 h-5 text-white"})}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white",children:"Phone Number"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Enter your mobile number"})]})]}),(0,Vo.jsxs)("div",{className:"relative",children:[(0,Vo.jsx)("input",{type:"tel",value:a,onChange:e=>{o(e.target.value.replace(/\D/g,"")),y("")},placeholder:"Enter your phone number",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none",maxLength:10}),(0,Vo.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"+91"})]}),g&&(0,Vo.jsx)("p",{className:"text-red-400 text-sm mt-2",children:g})]}),(0,Vo.jsx)("div",{id:"recaptcha-container",className:"hidden"})]});case 1:return(0,Vo.jsx)("div",{className:"space-y-6",children:(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vo.jsx)("div",{className:"w-10 h-10 bg-green-600 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(Tl,{className:"w-5 h-5 text-white"})}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white",children:"OTP Verification"}),(0,Vo.jsxs)("p",{className:"text-sm text-gray-400",children:["Code sent to +91 ",a]})]})]}),v&&(0,Vo.jsx)("div",{className:"bg-yellow-600/20 border border-yellow-600 rounded-lg p-3 mb-4",children:(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)("p",{className:"text-yellow-400 text-sm mb-2",children:"Demo Mode - Use this OTP:"}),(0,Vo.jsx)("p",{className:"text-2xl font-bold text-yellow-400 tracking-widest",children:v})]})}),(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsx)("input",{type:"text",value:l,onChange:e=>{c(e.target.value.replace(/\D/g,"")),y("")},placeholder:"Enter 6-digit OTP",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none text-center text-2xl tracking-widest",maxLength:6}),(0,Vo.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Didn't receive code?"}),(0,Vo.jsx)("button",{onClick:N,disabled:p>0||h,className:"".concat(p>0||h?"text-gray-500 cursor-not-allowed":"text-primary-400 hover:text-primary-300"),children:p>0?"Resend in ".concat(p,"s"):"Resend OTP"})]}),g&&(0,Vo.jsx)("p",{className:"text-red-400 text-sm",children:g})]})]})});case 2:return(0,Vo.jsx)("div",{className:"space-y-6",children:(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vo.jsx)("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(Sl,{className:"w-5 h-5 text-white"})}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"font-semibold text-white",children:w?"Complete Your Profile":"Welcome Back!"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:w?"Tell us a bit about yourself to get started":"Your profile is already set up"})]})]}),w?(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Full Name *"}),(0,Vo.jsx)("input",{type:"text",value:u.name,onChange:e=>{d(Ce(Ce({},u),{},{name:e.target.value})),y("")},placeholder:"Enter your full name",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none"})]}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address *"}),(0,Vo.jsx)("input",{type:"email",value:u.email,onChange:e=>{d(Ce(Ce({},u),{},{email:e.target.value})),y("")},placeholder:"Enter your email",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none"})]}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Address"}),(0,Vo.jsx)("input",{type:"text",value:u.address,onChange:e=>d(Ce(Ce({},u),{},{address:e.target.value})),placeholder:"Enter your address",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none"})]}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Emergency Contact"}),(0,Vo.jsx)("input",{type:"tel",value:u.emergencyContact,onChange:e=>d(Ce(Ce({},u),{},{emergencyContact:e.target.value})),placeholder:"Emergency contact number",className:"w-full bg-dark-700 border border-dark-500 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-primary-500 focus:outline-none"})]}),g&&(0,Vo.jsx)("p",{className:"text-red-400 text-sm",children:g})]}):(0,Vo.jsxs)("div",{className:"text-center py-8",children:[(0,Vo.jsx)("div",{className:"w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Vo.jsx)(Tl,{className:"w-8 h-8 text-white"})}),(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Login Successful!"}),(0,Vo.jsx)("p",{className:"text-gray-400",children:"You're all set to book your ride."})]})]})});default:return null}})()]},r)})})}),(0,Vo.jsx)("div",{className:"bg-dark-800 p-6",children:(0,Vo.jsx)("div",{className:"max-w-md mx-auto",children:(0,Vo.jsx)(Fo.button,{onClick:()=>{switch(r){case 0:(async()=>{if(a.length<10)y("Please enter a valid 10-digit phone number");else{f(!0),y("");try{localStorage.setItem("currentPhoneNumber",a);const e=await Dk.sendOTP(a);e.success?(m(30),i(1),console.log("OTP sent successfully:",e.message),e.demoOTP&&x(e.demoOTP)):y(e.message||"Failed to send OTP")}catch(e){console.error("Error sending OTP:",e),y("Network error. Please try again.")}finally{f(!1)}}})();break;case 1:(async()=>{if(6===l.length){f(!0),y("");try{const e=await Dk.verifyOTP(l);e.success?(e.user?(console.log("Existing user logged in:",e.user.name),t(e.user)):(b(!0),i(2),console.log("New user - proceeding to profile completion")),console.log("OTP verified successfully")):y(e.message||"Invalid OTP")}catch(e){console.error("Error verifying OTP:",e),y("Network error. Please try again.")}finally{f(!1)}}else y("Please enter a valid 6-digit OTP")})();break;case 2:w&&(async()=>{if(u.name&&u.email){f(!0),y("");try{const e={phoneNumber:"+91".concat(a),name:u.name,email:u.email,address:u.address,emergencyContact:u.emergencyContact,userType:"customer",isVerified:!0,isFirstTime:!0,walletBalance:0,totalRides:0,rating:0},n=await Dk.createUser(e);n.success&&n.user?t(n.user):y(n.message||"Failed to create user profile")}catch(e){console.error("Error completing profile:",e),y("Error saving profile. Please try again.")}finally{f(!1)}}else y("Please fill in all required fields")})()}},disabled:!S()||h,className:"w-full py-4 px-6 rounded-lg font-semibold transition-colors flex items-center justify-center space-x-2 ".concat(S()&&!h?"bg-primary-600 hover:bg-primary-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"),whileHover:S()&&!h?{scale:1.02}:{},whileTap:S()&&!h?{scale:.98}:{},children:h?(0,Vo.jsxs)(Vo.Fragment,{children:[(0,Vo.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,Vo.jsx)("span",{children:"Processing..."})]}):(0,Vo.jsxs)(Vo.Fragment,{children:[(0,Vo.jsx)("span",{children:0===r?"Send OTP":1===r?"Verify OTP":w?"Complete Sign Up":"Continue"}),(0,Vo.jsx)(xl,{className:"w-5 h-5"})]})})})})]})},Ok=e=>{let{pickup:t,destination:n,stops:r,distance:s,duration:i,carType:a,scheduledDate:o,scheduledTime:l,onBack:c,onConfirm:u}=e;const d=e=>parseFloat(e.replace(/[^\d.]/g,"")),h=(()=>{const e=d(s),t=a.baseFare||50,n=a.perKmRate||12,r=Math.round(e*n);return{baseFare:t,distanceFare:r,totalFare:t+r}})();return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Ride Details"}),(0,Vo.jsx)("p",{className:"text-primary-100 text-sm",children:"Review your trip details"})]}),(0,Vo.jsx)(Fo.button,{onClick:c,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(vl,{className:"w-5 h-5"})})]})}),(0,Vo.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(rl,{className:"w-5 h-5 mr-2"}),"Route Details"]}),(0,Vo.jsxs)("div",{className:"space-y-3",children:[(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2 flex-shrink-0"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"Pickup"}),(0,Vo.jsx)("p",{className:"text-sm font-medium text-white",children:(null===t||void 0===t?void 0:t.address)||"Pickup location"})]})]}),r&&r.length>0&&r.map((e,t)=>(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 flex-shrink-0"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsxs)("p",{className:"text-xs text-gray-400",children:["Stop ",t+1]}),(0,Vo.jsx)("p",{className:"text-sm font-medium text-white",children:e.address})]})]},t)),(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"Destination"}),(0,Vo.jsx)("p",{className:"text-sm font-medium text-white",children:(null===n||void 0===n?void 0:n.address)||"Destination"})]})]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-dark-500",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(Wo,{className:"w-4 h-4 text-blue-400"}),(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:(e=>{if(e.includes("h")||e.includes("hour"))return e;const t=parseInt(e.replace(/[^\d]/g,""));if(t>=60){const e=Math.floor(t/60),n=t%60;return 0===n?"".concat(e," hour").concat(e>1?"s":""):"".concat(e,"h ").concat(n,"m")}return e})(i)})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(ol,{className:"w-4 h-4 text-green-400"}),(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:s})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(Go,{className:"w-5 h-5 mr-2"}),"Vehicle Details"]}),(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"text-2xl",children:a.icon}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"font-medium text-white",children:a.name}),(0,Vo.jsxs)("p",{className:"text-sm text-gray-400",children:["Capacity: ",a.capacity," persons"]})]})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsxs)("p",{className:"text-lg font-bold text-primary-400",children:["\u20b9",h.totalFare]}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400",children:"Estimated fare"})]})]}),(0,Vo.jsx)("div",{className:"mt-3 flex flex-wrap gap-1",children:a.features.map((e,t)=>(0,Vo.jsx)("span",{className:"px-2 py-1 bg-dark-500 rounded text-xs text-gray-300",children:e},t))})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(yl,{className:"w-5 h-5 mr-2"}),"Schedule Details"]}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Date:"}),(0,Vo.jsx)("span",{className:"text-sm text-white",children:(f=o,f.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}))})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Time:"}),(0,Vo.jsx)("span",{className:"text-sm text-white",children:(e=>{if("now"===e)return"Immediate pickup";if(e.includes(":")){const[t,n]=e.split(":").map(Number),r=new Date;return r.setHours(t,n,0,0),r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}const t=parseInt(e);return 15===t?"Pickup in 15 minutes":30===t?"Pickup in 30 minutes":60===t?"Pickup in 1 hour":"Pickup in ".concat(t," minutes")})(l)})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white mb-3",children:"Fare Breakdown"}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Base fare:"}),(0,Vo.jsxs)("span",{className:"text-sm text-white",children:["\u20b9",h.baseFare]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:["Distance fare (",d(s)," km \xd7 \u20b9",a.perKmRate||12,"/km):"]}),(0,Vo.jsxs)("span",{className:"text-sm text-white",children:["\u20b9",h.distanceFare]})]}),(0,Vo.jsx)("div",{className:"border-t border-dark-500 pt-2 mt-2",children:(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"font-medium text-white",children:"Total:"}),(0,Vo.jsxs)("span",{className:"font-bold text-primary-400",children:["\u20b9",h.totalFare]})]})})]})]})]}),(0,Vo.jsxs)("div",{className:"sticky bottom-0 p-4 bg-dark-800 border-t border-dark-600 shadow-lg",children:[(0,Vo.jsx)(Fo.button,{onClick:u,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"Confirm Pickup Location"}),(0,Vo.jsx)("svg",{className:"w-6 h-6 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Vo.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Review and confirm your pickup location"})]})]});var f},Lk=e=>{let{pickup:t,destination:n,stops:r,distance:i,duration:a,carType:o,scheduledDate:l,scheduledTime:c,onBack:u,onConfirm:d,onPickupLocationUpdate:h}=e;const f=(0,s.useRef)(null),[p,m]=(0,s.useState)(null),[g,y]=(0,s.useState)(null),[v,x]=(0,s.useState)(!0),[w,b]=(0,s.useState)(!1),[k,N]=(0,s.useState)(i),[S,E]=(0,s.useState)(a),[T,_]=(0,s.useState)(o.estimatedFare),C=[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}];(0,s.useEffect)(()=>{const e=()=>{b(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{const e=()=>{if(f.current&&window.google&&window.google.maps)try{console.log("Initializing pickup confirmation map...");const e=new window.google.maps.Map(f.current,{zoom:16,center:{lat:23.1765,lng:79.9864},mapTypeId:window.google.maps.MapTypeId.ROADMAP,disableDefaultUI:w,zoomControl:!w,gestureHandling:"cooperative",styles:C,backgroundColor:"#1a1a1a",mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1});if(m(e),t){(new window.google.maps.Geocoder).geocode({address:t.name},(n,r)=>{if("OK"===r&&n[0]){const r=n[0].geometry.location;e.setCenter(r);const s=new window.google.maps.Marker({position:r,map:e,title:"Pickup Location",icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent('\n                    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <circle cx="16" cy="16" r="14" fill="#3B82F6" stroke="#1E40AF" stroke-width="2"/>\n                      <circle cx="16" cy="16" r="6" fill="#FFFFFF"/>\n                      <circle cx="16" cy="16" r="3" fill="#3B82F6"/>\n                    </svg>\n                  '),scaledSize:new window.google.maps.Size(32,32),anchor:new window.google.maps.Point(16,16)},draggable:!0});y(s);const i=new window.google.maps.InfoWindow({content:'\n                  <div style="padding: 8px; max-width: 200px;">\n                    <h3 style="margin: 0 0 4px 0; font-weight: bold; color: #1f2937;">Pickup Location</h3>\n                    <p style="margin: 0; font-size: 14px; color: #6b7280;">'.concat(t.name,'</p>\n                    <p style="margin: 4px 0 0 0; font-size: 12px; color: #9ca3af;">Drag to adjust location</p>\n                  </div>\n                ')});s.addListener("click",()=>{i.open(e,s)}),i.open(e,s),s.addListener("dragend",()=>{j(s)})}})}x(!1)}catch(e){console.error("Error initializing map:",e),x(!1)}else console.log("Waiting for Google Maps API to load...")};if(window.google&&window.google.maps)e();else{const t=setInterval(()=>{window.google&&window.google.maps&&(clearInterval(t),e())},100);setTimeout(()=>{clearInterval(t),console.log("Google Maps API not loaded within timeout"),x(!1)},1e4)}},[t,w]);const j=e=>{const t=e.getPosition();(new window.google.maps.Geocoder).geocode({location:t},(e,n)=>{if("OK"===n&&e[0]){const n={id:"pickup-".concat(Date.now()),name:e[0].formatted_address,address:e[0].formatted_address,type:"google",placeId:e[0].place_id,coordinates:{lat:t.lat(),lng:t.lng()}};I(n)}})},I=async e=>{if(n&&window.google&&window.google.maps)try{const t=new window.google.maps.DirectionsService,s=r.filter(e=>e.address&&""!==e.address.trim()).map(e=>({location:e.address,stopover:!0})),i={origin:e.address,destination:n.address,waypoints:s,travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC,optimizeWaypoints:!1},a=await t.route(i);if(a.routes&&a.routes.length>0){const t=a.routes[0];let n=0,r=0;t.legs.forEach(e=>{n+=e.distance.value,r+=e.duration.value});const s="".concat((n/1e3).toFixed(1)," km"),i=r>=3600?"".concat(Math.floor(r/3600),"h ").concat(Math.floor(r%3600/60),"m"):"".concat(Math.round(r/60)," mins"),l=n/1e3,c=o.baseFare||50,u=o.perKmRate||12,d=Math.round(c+l*u);N(s),E(i),_(d),h&&h(e,{distance:s,duration:i,durationValue:r});new window.google.maps.InfoWindow({content:'\n            <div style="padding: 8px; max-width: 200px;">\n              <h3 style="margin: 0 0 4px 0; font-weight: bold; color: #1f2937;">Updated Pickup Location</h3>\n              <p style="margin: 0; font-size: 14px; color: #6b7280;">'.concat(e.name,'</p>\n              <p style="margin: 4px 0 0 0; font-size: 12px; color: #9ca3af;">New distance: ').concat(s,'</p>\n              <p style="margin: 2px 0 0 0; font-size: 12px; color: #9ca3af;">New fare: \u20b9').concat(d,"</p>\n            </div>\n          ")}).open(p,g)}}catch(t){console.error("Error calculating new route:",t)}};return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative",style:{minHeight:"100vh"},children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Confirm Pickup"}),(0,Vo.jsx)("p",{className:"text-primary-100 text-sm",children:"Verify your pickup location"})]}),(0,Vo.jsx)(Fo.button,{onClick:u,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(vl,{className:"w-5 h-5"})})]})}),(0,Vo.jsxs)("div",{className:"relative",children:[(0,Vo.jsx)("div",{ref:f,className:"w-full bg-dark-900 ".concat(w?"h-80":"h-64"),style:{minHeight:w?"320px":"256px"}}),v&&(0,Vo.jsx)("div",{className:"absolute inset-0 bg-dark-900 bg-opacity-75 flex items-center justify-center",children:(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-400 mx-auto mb-2"}),(0,Vo.jsx)("p",{className:"text-gray-300 text-sm",children:"Loading map..."})]})})]}),(0,Vo.jsxs)("div",{className:"p-4 space-y-3 ".concat(w?"pb-32":"pb-4"),children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white",children:"Trip Summary"}),(0,Vo.jsx)("div",{className:"text-2xl",children:o.icon})]}),(0,Vo.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"From:"}),(0,Vo.jsx)("span",{className:"text-white font-medium",children:(null===t||void 0===t?void 0:t.name)||"N/A"})]}),r&&r.length>0&&r.map((e,t)=>(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsxs)("span",{className:"text-gray-400",children:["Stop ",t+1,":"]}),(0,Vo.jsx)("span",{className:"text-white font-medium",children:e.name})]},t)),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"To:"}),(0,Vo.jsx)("span",{className:"text-white font-medium",children:(null===n||void 0===n?void 0:n.name)||"N/A"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Vehicle:"}),(0,Vo.jsx)("span",{className:"text-white",children:o.name})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Date:"}),(0,Vo.jsx)("span",{className:"text-white",children:(P=l,P.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}))})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Time:"}),(0,Vo.jsx)("span",{className:"text-white",children:(e=>{if("now"===e)return"Immediate pickup";if(e.includes(":")){const[t,n]=e.split(":").map(Number),r=new Date;return r.setHours(t,n,0,0),r.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}const t=parseInt(e);return 15===t?"Pickup in 15 minutes":30===t?"Pickup in 30 minutes":60===t?"Pickup in 1 hour":"Pickup in ".concat(t," minutes")})(c)})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Distance:"}),(0,Vo.jsx)("span",{className:"text-white",children:k})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,Vo.jsx)("span",{className:"text-white",children:S})]})]}),(0,Vo.jsx)("div",{className:"mt-4 pt-3 border-t border-dark-500",children:(0,Vo.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Vo.jsx)("span",{className:"text-lg font-semibold text-white",children:"Total Fare:"}),(0,Vo.jsxs)("span",{className:"text-2xl font-bold text-primary-400",children:["\u20b9",T]})]})})]}),(0,Vo.jsx)("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-3",children:(0,Vo.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Vo.jsx)(rl,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"text-sm text-blue-400 font-medium",children:"Pickup Location"}),(0,Vo.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:"The marker shows your pickup location. You can drag it to adjust if needed."})]})]})})]}),(0,Vo.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50 ".concat(w?"pb-6":""),children:[(0,Vo.jsx)(Fo.button,{onClick:d,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500",whileHover:{scale:1.02},whileTap:{scale:.98},style:{minHeight:"60px"},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Tl,{className:"w-6 h-6 mr-2"}),(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"Confirm Booking"})]})}),w&&(0,Vo.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Tap to confirm your booking"})]})]});var P},Mk=e=>{let{onDone:t}=e;const n="Rajesh Kumar",r="+91 98765 43210",s=4.8,i=1247,a="Swift Dzire",o="MP-20-AB-1234",l="White",c="\ud83d\udc68\u200d\ud83d\udcbc";return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative min-h-screen",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-green-600 to-green-700 p-4",children:(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)(Fo.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-3",children:(0,Vo.jsx)(Tl,{className:"w-8 h-8 text-green-600"})}),(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Booking Confirmed!"})]})}),(0,Vo.jsxs)("div",{className:"p-4 space-y-4",children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(Sl,{className:"w-5 h-5 mr-2"}),"Driver Details"]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Vo.jsx)("div",{className:"text-4xl",children:c}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,Vo.jsx)("h5",{className:"font-semibold text-white",children:n}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(cl,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Vo.jsx)("span",{className:"text-sm text-gray-300",children:s})]})]}),(0,Vo.jsxs)("p",{className:"text-sm text-gray-400 mb-2",children:[i," rides completed"]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vo.jsx)(Cl,{className:"w-4 h-4 text-blue-400"}),(0,Vo.jsx)("span",{className:"text-sm text-blue-400",children:r})]})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(Go,{className:"w-5 h-5 mr-2"}),"Vehicle Details"]}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Car Model:"}),(0,Vo.jsx)("span",{className:"text-sm text-white",children:a})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Car Number:"}),(0,Vo.jsx)("span",{className:"text-sm text-white font-mono",children:o})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Color:"}),(0,Vo.jsx)("span",{className:"text-sm text-white",children:l})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-blue-400 mb-2 flex items-center",children:[(0,Vo.jsx)(Nl,{className:"w-5 h-5 mr-2"}),"Safety Tips"]}),(0,Vo.jsxs)("ul",{className:"text-sm text-blue-300 space-y-1",children:[(0,Vo.jsx)("li",{children:"\u2022 Verify the car number and driver details"}),(0,Vo.jsx)("li",{children:"\u2022 Share your trip status with family/friends"}),(0,Vo.jsx)("li",{children:"\u2022 Sit in the back seat for safety"}),(0,Vo.jsx)("li",{children:"\u2022 Keep your phone handy during the trip"})]})]})]}),(0,Vo.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50",children:(0,Vo.jsx)(Fo.button,{onClick:t,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Tl,{className:"w-6 h-6 mr-2"}),(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"Done"})]})})})]})},Fk=e=>{let{onDatesSelected:t}=e;const[n,r]=(0,s.useState)(""),[i,a]=(0,s.useState)(""),o=e=>e.toISOString().split("T")[0],l=((e,t)=>{if(!e||!t)return 0;const n=new Date(e),r=new Date(t).getTime()-n.getTime(),s=Math.ceil(r/864e5);return s>0?s+1:0})(n,i);return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-dark-600 rounded-lg p-4 space-y-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Vo.jsx)(yl,{className:"w-5 h-5 text-primary-400"}),(0,Vo.jsx)("h4",{className:"font-semibold text-white",children:"Select Rental Dates"})]}),(0,Vo.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"Start Date"}),(0,Vo.jsx)("input",{type:"date",value:n,min:o(new Date),onChange:e=>(e=>{if(r(e),i&&new Date(i)<=new Date(e)){const t=new Date(e);t.setDate(t.getDate()+1),a(o(t))}i&&new Date(i)>new Date(e)&&t(new Date(e),new Date(i))})(e.target.value),className:"w-full bg-dark-500 border border-dark-400 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsx)("label",{className:"text-sm font-medium text-gray-300",children:"End Date"}),(0,Vo.jsx)("input",{type:"date",value:i,min:n||(()=>{const e=new Date;return e.setDate(e.getDate()+1),o(e)})(),onChange:e=>{return r=e.target.value,a(r),void(n&&new Date(r)>new Date(n)&&t(new Date(n),new Date(r)));var r},className:"w-full bg-dark-500 border border-dark-400 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-primary-500 focus:ring-1 focus:ring-primary-500"})]})]}),l>0&&(0,Vo.jsx)("div",{className:"bg-primary-600/10 border border-primary-600/30 rounded-lg p-3",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vo.jsx)(Wo,{className:"w-4 h-4 text-primary-400"}),(0,Vo.jsx)("span",{className:"text-sm font-medium text-primary-400",children:"Rental Duration"})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsxs)("div",{className:"text-lg font-bold text-primary-400",children:[l," ",1===l?"Day":"Days"]}),l>=7&&(0,Vo.jsxs)("div",{className:"text-xs text-primary-300",children:[Math.floor(l/7)," week",Math.floor(l/7)>1?"s":"",l%7>0?" ".concat(l%7," day").concat(l%7>1?"s":""):""]})]})]})})]})},Vk=Ho("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Uk=e=>{let{startDate:t,endDate:n,onCarSelect:r,onBack:i}=e;const[a,o]=(0,s.useState)(null),l=(()=>{const e=n.getTime()-t.getTime(),r=Math.ceil(e/864e5);return r>0?r+1:1})(),c=e=>e*l,u=e=>e>=30?15:e>=15?10:e>=7?5:0,d=e=>e*(1-u(l)/100);return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative min-h-screen",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Choose Your Car"}),(0,Vo.jsxs)("p",{className:"text-primary-100 text-sm",children:[t.toLocaleDateString("en-US",{month:"short",day:"numeric"})," - ",n.toLocaleDateString("en-US",{month:"short",day:"numeric"})," (",l," day",l>1?"s":"",")"]})]}),(0,Vo.jsx)(Fo.button,{onClick:i,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(vl,{className:"w-5 h-5"})})]})}),(0,Vo.jsxs)("div",{className:"p-4 space-y-4 pb-32",children:[(0,Vo.jsx)("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h4",{className:"font-semibold text-blue-400 mb-1",children:"Rental Duration"}),(0,Vo.jsxs)("p",{className:"text-sm text-blue-300",children:[l," day",l>1?"s":""]})]}),u(l)>0&&(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsxs)("div",{className:"text-sm text-green-400 font-medium",children:[u(l),"% Discount"]}),(0,Vo.jsx)("div",{className:"text-xs text-green-300",children:"for longer rentals"})]})]})}),(0,Vo.jsx)("div",{className:"space-y-4",children:[{id:"mini",name:"Mini",description:"Compact car perfect for city driving",icon:"\ud83d\ude97",capacity:4,perDayRate:800,features:["AC","Music System","Power Steering"],rating:4.5,totalRentals:1247,image:"\ud83d\ude97"},{id:"sedan",name:"Sedan",description:"Comfortable sedan for business and family trips",icon:"\ud83d\ude99",capacity:5,perDayRate:1200,features:["AC","Music System","Power Steering","Bluetooth"],rating:4.7,totalRentals:892,image:"\ud83d\ude99"},{id:"suv",name:"SUV",description:"Spacious SUV for group travel and luggage",icon:"\ud83d\ude90",capacity:7,perDayRate:1800,features:["AC","Music System","Power Steering","Bluetooth","GPS"],rating:4.6,totalRentals:567,image:"\ud83d\ude90"},{id:"luxury",name:"Luxury",description:"Premium luxury car for special occasions",icon:"\ud83c\udfce\ufe0f",capacity:4,perDayRate:3500,features:["AC","Premium Audio","Leather Seats","GPS","Sunroof"],rating:4.9,totalRentals:234,image:"\ud83c\udfce\ufe0f"}].map(e=>{const t=d(e.perDayRate),n=c(t),r=c(e.perDayRate),s=(null===a||void 0===a?void 0:a.id)===e.id;return(0,Vo.jsxs)(Fo.div,{onClick:()=>(e=>{o(e)})(e),className:"bg-dark-600 rounded-lg p-4 border-2 transition-all cursor-pointer ".concat(s?"border-primary-500 bg-primary-600/10":"border-dark-500 hover:border-dark-400"),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Vo.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Vo.jsx)("div",{className:"text-4xl",children:e.image}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white text-lg",children:e.name}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(cl,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Vo.jsx)("span",{className:"text-sm text-gray-300",children:e.rating}),(0,Vo.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.totalRentals,")"]})]})]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:e.description}),(0,Vo.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:e.features.map((e,t)=>(0,Vo.jsx)("span",{className:"px-2 py-1 bg-dark-500 rounded text-xs text-gray-300",children:e},t))}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Vo.jsx)(ml,{className:"w-4 h-4 text-gray-400"}),(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:["Up to ",e.capacity," passengers"]})]})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsxs)("div",{className:"mb-2",children:[(0,Vo.jsx)("div",{className:"text-sm text-gray-400",children:"Per Day"}),(0,Vo.jsxs)("div",{className:"text-lg font-bold text-primary-400",children:["\u20b9",t.toFixed(0)]}),u(l)>0&&(0,Vo.jsxs)("div",{className:"text-xs text-gray-500 line-through",children:["\u20b9",e.perDayRate]})]}),(0,Vo.jsxs)("div",{className:"border-t border-dark-500 pt-2",children:[(0,Vo.jsxs)("div",{className:"text-sm text-gray-400",children:["Total (",l," days)"]}),(0,Vo.jsxs)("div",{className:"text-xl font-bold text-white",children:["\u20b9",n.toFixed(0)]}),u(l)>0&&(0,Vo.jsxs)("div",{className:"text-xs text-green-400",children:["Save \u20b9",(r-n).toFixed(0)]})]})]})]}),s&&(0,Vo.jsxs)("div",{className:"flex items-center justify-center mt-3 pt-3 border-t border-dark-500",children:[(0,Vo.jsx)(Vk,{className:"w-5 h-5 text-primary-400 mr-2"}),(0,Vo.jsx)("span",{className:"text-primary-400 font-medium",children:"Selected"})]})]},e.id)})})]}),(0,Vo.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50",children:(0,Vo.jsx)(Fo.button,{onClick:()=>{a&&r(a)},disabled:!a,className:"w-full bg-primary-600 hover:bg-primary-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500",whileHover:{scale:a?1.02:1},whileTap:{scale:a?.98:1},children:(0,Vo.jsx)("div",{className:"flex items-center justify-center",children:(0,Vo.jsx)("span",{className:"text-lg font-bold",children:a?"Continue - \u20b9".concat(c(d(a.perDayRate)).toFixed(0)):"Select a car to continue"})})})})]})},Bk=e=>{let{startDate:t,endDate:n,selectedCar:r,onBack:s,onConfirm:i}=e;const a=(()=>{const e=n.getTime()-t.getTime(),r=Math.ceil(e/864e5);return r>0?r+1:1})(),o=e=>e>=30?15:e>=15?10:e>=7?5:0,l=e=>e*a,c=r.perDayRate*(1-o(a)/100);const u=l(c),d=l(r.perDayRate)-u,h={start:t.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),end:n.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})};return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-dark-700 rounded-lg overflow-hidden relative min-h-screen",children:[(0,Vo.jsx)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-700 p-4",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold text-white mb-1",children:"Rental Details"}),(0,Vo.jsx)("p",{className:"text-primary-100 text-sm",children:"Review your rental booking"})]}),(0,Vo.jsx)(Fo.button,{onClick:s,className:"text-white hover:text-primary-200 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,Vo.jsx)(vl,{className:"w-5 h-5"})})]})}),(0,Vo.jsxs)("div",{className:"p-4 space-y-4 pb-32",children:[(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Vo.jsx)("div",{className:"text-4xl",children:r.image}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white text-lg",children:r.name}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:r.description}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,Vo.jsx)(cl,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Vo.jsx)("span",{className:"text-sm text-gray-300",children:r.rating}),(0,Vo.jsxs)("span",{className:"text-xs text-gray-500",children:["(",r.totalRentals," rentals)"]})]})]})]}),(0,Vo.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vo.jsx)(ml,{className:"w-4 h-4 text-gray-400"}),(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:["Capacity: ",r.capacity," people"]})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Vo.jsx)(Go,{className:"w-4 h-4 text-gray-400"}),(0,Vo.jsxs)("span",{className:"text-sm text-gray-400",children:[r.features.length," features"]})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,Vo.jsx)(yl,{className:"w-5 h-5 mr-2"}),"Rental Period"]}),(0,Vo.jsxs)("div",{className:"space-y-3",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Duration:"}),(0,Vo.jsxs)("span",{className:"text-white font-medium",children:[a," day",a>1?"s":""]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Start Date:"}),(0,Vo.jsx)("span",{className:"text-white font-medium",children:h.start})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"End Date:"}),(0,Vo.jsx)("span",{className:"text-white font-medium",children:h.end})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white mb-3",children:"Car Features"}),(0,Vo.jsx)("div",{className:"flex flex-wrap gap-2",children:r.features.map((e,t)=>(0,Vo.jsx)("span",{className:"px-3 py-1 bg-primary-600/20 border border-primary-600/30 rounded-full text-sm text-primary-400",children:e},t))})]}),(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-4",children:[(0,Vo.jsx)("h4",{className:"font-semibold text-white mb-3",children:"Pricing Breakdown"}),(0,Vo.jsxs)("div",{className:"space-y-2",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Base Rate (per day):"}),(0,Vo.jsxs)("span",{className:"text-white",children:["\u20b9",r.perDayRate]})]}),o(a)>0&&(0,Vo.jsxs)(Vo.Fragment,{children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsxs)("span",{className:"text-gray-400",children:["Discount (",o(a),"%):"]}),(0,Vo.jsxs)("span",{className:"text-green-400",children:["-\u20b9",d.toFixed(0)]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Discounted Rate (per day):"}),(0,Vo.jsxs)("span",{className:"text-white",children:["\u20b9",c.toFixed(0)]})]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsxs)("span",{className:"text-gray-400",children:["Total (",a," days):"]}),(0,Vo.jsxs)("span",{className:"text-white font-medium",children:["\u20b9",u.toFixed(0)]})]})]})]}),(0,Vo.jsxs)("div",{className:"bg-blue-600/10 border border-blue-600/30 rounded-lg p-4",children:[(0,Vo.jsxs)("h4",{className:"font-semibold text-blue-400 mb-2 flex items-center",children:[(0,Vo.jsx)(Nl,{className:"w-5 h-5 mr-2"}),"Rental Terms"]}),(0,Vo.jsxs)("ul",{className:"text-sm text-blue-300 space-y-1",children:[(0,Vo.jsx)("li",{children:"\u2022 Valid driving license required"}),(0,Vo.jsx)("li",{children:"\u2022 Fuel charges not included"}),(0,Vo.jsx)("li",{children:"\u2022 Insurance coverage included"}),(0,Vo.jsx)("li",{children:"\u2022 24/7 roadside assistance"}),(0,Vo.jsx)("li",{children:"\u2022 Free cancellation up to 2 hours before pickup"})]})]})]}),(0,Vo.jsx)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50",children:(0,Vo.jsx)(Fo.button,{onClick:i,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500",whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Tl,{className:"w-6 h-6 mr-2"}),(0,Vo.jsxs)("span",{className:"text-lg font-bold",children:["Confirm Rental - \u20b9",u.toFixed(0)]})]})})})]})},zk=()=>{var e,t,n;const[r,i]=(0,s.useState)(1),[a,o]=(0,s.useState)(!1),[l,c]=(0,s.useState)(!1),[u,d]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),[p,m]=(0,s.useState)("airport"),[g,y]=(0,s.useState)(""),[v,x]=(0,s.useState)(""),[w,b]=(0,s.useState)(null),[k,N]=(0,s.useState)(null),[S,E]=(0,s.useState)([]),[T,_]=(0,s.useState)(!1),[C,j]=(0,s.useState)(!1),[I,P]=(0,s.useState)(null),[A,D]=(0,s.useState)(null),[R,O]=(0,s.useState)(null),[L,M]=(0,s.useState)(null),[F,V]=(0,s.useState)(null),[U,B]=(0,s.useState)(!1),z=(ne(),[{id:"airport",name:"Airport",icon:(0,Vo.jsx)(qo,{className:"w-5 h-5"}),description:"Airport transfers and pickups"},{id:"rental",name:"Rent a Car",icon:(0,Vo.jsx)(Wo,{className:"w-5 h-5"}),description:"Daily car rentals with flexible duration"},{id:"intercity",name:"Intercity",icon:(0,Vo.jsx)(Ko,{className:"w-5 h-5"}),description:"Long distance city to city travel"}]);(0,s.useEffect)(()=>{if(localStorage.getItem("onboardingCompleted")){const e=Dk.getCurrentUser();e?(f(e),d(!0)):c(!0)}else o(!0)},[]);const H=()=>{o(!1),localStorage.setItem("onboardingCompleted","true"),c(!0)},q=e=>{f(e),d(!0),c(!1),localStorage.setItem("currentUser",JSON.stringify(e))},[W,K]=(0,s.useState)(null),[G,Q]=(0,s.useState)(null),[Y,X]=(0,s.useState)(null),$=()=>{if(console.log("getDistance called, routeInfo:",A),null!==A&&void 0!==A&&A.distance){const e=A.distance.replace(/[^\d.]/g,""),t=parseFloat(e);return console.log("Route distance:",A.distance,"Parsed distance:",t),isNaN(t)||t<=0?(console.log("Invalid distance parsed, using default: 15km"),15):t}return console.log("No route info, using default distance: 15km"),15};return a?(0,Vo.jsx)(_l,{onComplete:H}):l?(0,Vo.jsx)(Rk,{onLogin:q,onBack:()=>c(!1)}):u?(0,Vo.jsxs)("div",{className:"min-h-screen bg-dark-900 text-white",children:[(0,Vo.jsxs)(tl,{mode:"wait",children:[1===r&&(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4 space-y-6 pb-32",children:[(0,Vo.jsxs)("div",{className:"text-center",children:[(0,Vo.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Book Your Ride"}),(0,Vo.jsx)("p",{className:"text-gray-400",children:"Where would you like to go?"}),h&&(0,Vo.jsxs)("p",{className:"text-sm text-primary-400 mt-1",children:["Welcome back, ",h.name,"! \ud83d\ude97"]})]}),(0,Vo.jsx)("div",{className:"flex space-x-2 overflow-x-auto",children:z.map(e=>(0,Vo.jsxs)(Fo.button,{onClick:()=>m(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-lg whitespace-nowrap transition-all ".concat(p===e.id?"bg-primary-600 text-white":"bg-dark-700 text-gray-300 hover:bg-dark-600"),whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.icon,(0,Vo.jsx)("span",{children:e.name})]},e.id))}),(0,Vo.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[null===(e=z.find(e=>e.id===p))||void 0===e?void 0:e.icon,(0,Vo.jsxs)("h3",{className:"font-semibold text-white",children:[null===(t=z.find(e=>e.id===p))||void 0===t?void 0:t.name," Service"]})]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:null===(n=z.find(e=>e.id===p))||void 0===n?void 0:n.description})]}),"rental"!==p&&(0,Vo.jsx)("div",{className:"space-y-4",children:(0,Vo.jsx)(fl,{pickup:w,destination:k,stops:S,onPickupChange:e=>{b(e),y(e.address)},onDestinationChange:e=>{N(e),x(e.address)},onStopsChange:e=>{E(e)},onAddStop:()=>{const e={id:"stop-".concat(Date.now()),name:"",address:"",type:"popular"};E([...S,e])},onRemoveStop:e=>{const t=S.filter((t,n)=>n!==e);E(t)},onReorderStops:(e,t)=>{const n=[...S],[r]=n.splice(e,1);n.splice(t,0,r),E(n)}})}),"rental"===p&&(0,Vo.jsx)("div",{className:"space-y-4",children:(0,Vo.jsx)(Fk,{onDatesSelected:(e,t)=>{O(e),M(t)}})})]},"location"),1===r&&(0,Vo.jsxs)("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-dark-700 border-t border-dark-600 z-50",children:[(0,Vo.jsx)(Uo,{onClick:()=>{"rental"===p&&R&&L?i(7):w&&k&&i(2)},disabled:"rental"===p?!R||!L:!w||!k,className:"w-full bg-primary-500 hover:bg-primary-600 disabled:bg-gray-600 disabled:cursor-not-allowed py-4 px-6 rounded-lg font-semibold transition-colors text-lg shadow-lg border-2 border-primary-500 min-h-[60px]",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Vo.jsx)(Qo,{className:"w-5 h-5 mr-2"}),(0,Vo.jsx)("span",{className:"text-lg font-bold",children:"rental"===p?"Rent a Car":"Book Now"})]})}),(0,Vo.jsx)("p",{className:"text-xs text-gray-400 text-center mt-2",children:"rental"===p?R&&L?"Tap to choose your rental car":"Please select start and end dates":w&&k?"Tap to proceed to route map":"Please select pickup and destination locations"})]}),2===r&&(0,Vo.jsx)(pl,{pickup:w,destination:k,stops:S,onBack:()=>{i(1)},onConfirm:()=>{i(3)},onRouteCalculated:e=>{console.log("Route calculated in Dashboard:",e),D(e)}}),3===r&&(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:[A&&(0,Vo.jsxs)("div",{className:"bg-dark-600 rounded-lg p-3 mb-4",children:[(0,Vo.jsx)("div",{className:"text-sm text-gray-400 mb-2",children:"Route Information:"}),(0,Vo.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Vo.jsxs)("span",{children:["Distance: ",A.distance]}),(0,Vo.jsxs)("span",{children:["Duration: ",A.duration]})]}),(0,Vo.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Parsed Distance: ",$().toFixed(1)," km"]})]}),(0,Vo.jsx)(gl,{distance:$(),onSelect:e=>{P(e)},onContinue:()=>{i(4)},onBack:()=>{i(1)}})]},"car"),4===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(wl,{onSchedule:async(e,t)=>{K(e),Q(t),i(5)},onBack:()=>{i(3)}})},"schedule"),5===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(Ok,{pickup:w,destination:k,stops:S,distance:(null===A||void 0===A?void 0:A.distance)||"15 km",duration:(null===A||void 0===A?void 0:A.duration)||"25 mins",carType:{name:(null===I||void 0===I?void 0:I.name)||"Mini",icon:(null===I||void 0===I?void 0:I.icon)||"\ud83d\ude97",estimatedFare:(null===I||void 0===I?void 0:I.estimatedFare)||0,capacity:(null===I||void 0===I?void 0:I.capacity)||4,features:(null===I||void 0===I?void 0:I.features)||[],baseFare:(null===I||void 0===I?void 0:I.baseFare)||50,perKmRate:(null===I||void 0===I?void 0:I.perKmRate)||12},scheduledDate:W||new Date,scheduledTime:G||"now",onBack:()=>{i(4)},onConfirm:()=>{i(6)}})},"ride-details"),6===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(Lk,{pickup:w,destination:k,stops:S,distance:(null===A||void 0===A?void 0:A.distance)||"15 km",duration:(null===A||void 0===A?void 0:A.duration)||"25 mins",carType:{name:(null===I||void 0===I?void 0:I.name)||"Mini",icon:(null===I||void 0===I?void 0:I.icon)||"\ud83d\ude97",estimatedFare:(null===I||void 0===I?void 0:I.estimatedFare)||0,capacity:(null===I||void 0===I?void 0:I.capacity)||4,features:(null===I||void 0===I?void 0:I.features)||[],baseFare:(null===I||void 0===I?void 0:I.baseFare)||50,perKmRate:(null===I||void 0===I?void 0:I.perKmRate)||12},scheduledDate:W||new Date,scheduledTime:G||"now",onBack:()=>{i(5)},onConfirm:async()=>{if(h&&I&&W)try{const e={userId:h.id,pickup:g,destination:v,distance:(null===A||void 0===A?void 0:A.distance)||"15 km",duration:(null===A||void 0===A?void 0:A.duration)||"25 mins",fare:(null===I||void 0===I?void 0:I.estimatedFare)||0,carType:(null===I||void 0===I?void 0:I.name)||"Mini",status:"ongoing",completedAt:void 0},t=await Dk.saveRideHistory(e);if(t.success){console.log("Ride saved to database:",t.rideId);const e=await Dk.getUserById(h.id);e.success&&e.user&&f(e.user)}console.log("Booking confirmed!",{pickup:w,destination:k,stops:S,carType:I,scheduledDate:W,scheduledTime:G,routeInfo:Y||A}),i(7)}catch(e){console.error("Error confirming booking:",e)}},onPickupLocationUpdate:(e,t)=>{b(e),X(t),console.log("Pickup location updated:",e),console.log("New route info:",t)}})},"pickup-confirmation"),7===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(Uk,{startDate:R,endDate:L,onCarSelect:e=>{V(e),i(9)},onBack:()=>{i(1)}})},"rental-car-selection"),9===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(Bk,{startDate:R,endDate:L,selectedCar:F,onBack:()=>{i(7)},onConfirm:()=>{i(10)}})},"rental-details"),10===r&&(0,Vo.jsx)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-4",children:(0,Vo.jsx)(Mk,{onDone:()=>{i(1),b(null),N(null),E([]),P(null),K(null),Q(null),D(null),X(null),O(null),M(null),V(null),B(!1)}})},"driver-details")]}),(0,Vo.jsx)(nl,{})]}):(0,Vo.jsx)("div",{className:"min-h-screen bg-dark-900 text-white flex items-center justify-center p-6",children:(0,Vo.jsxs)("div",{className:"text-center space-y-6",children:[(0,Vo.jsx)("div",{className:"w-20 h-20 bg-primary-600 rounded-full flex items-center justify-center mx-auto",children:(0,Vo.jsx)(Go,{className:"w-10 h-10 text-white"})}),(0,Vo.jsx)("h1",{className:"text-2xl font-bold",children:"Welcome to Paryatnam Cabs"}),(0,Vo.jsx)("p",{className:"text-gray-400",children:"Please login to continue"}),(0,Vo.jsx)(Uo,{onClick:()=>c(!0),className:"bg-primary-600 hover:bg-primary-700",children:"Login to Continue"})]})})},Hk=Ho("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),qk=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),Wk=e=>e<1?"".concat(Math.round(1e3*e),"m"):"".concat(e.toFixed(1),"km"),Kk=e=>{if(e<60)return"".concat(e,"min");const t=Math.floor(e/60),n=e%60;return"".concat(t,"h ").concat(n,"min")},Gk=()=>{const e=ne(),[t,n]=(0,s.useState)(null),[r]=(0,s.useState)({id:"DR001",name:"Rajesh Kumar",phone:"+91 98765 43210",rating:4.8,carModel:"Toyota Innova",carNumber:"DL 01 AB 1234",avatar:"\ud83d\ude97",eta:"5 min"});(0,s.useEffect)(()=>{n({id:"TRIP001",userId:"1",driverId:"DR001",pickupLocation:{address:"Home Address, Delhi",coordinates:{lat:28.7041,lng:77.1025}},destination:{address:"Indira Gandhi International Airport, Delhi",coordinates:{lat:28.5562,lng:77.1}},serviceType:"airport",status:"confirmed",fare:850,distance:18.5,duration:45,createdAt:new Date,updatedAt:new Date})},[]);return(0,Vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-800 to-dark-900 text-white",children:[(0,Vo.jsx)("div",{className:"px-6 pt-12 pb-6",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Vo.jsx)(vl,{className:"w-5 h-5"}),(0,Vo.jsx)("span",{children:"Back"})]}),(0,Vo.jsx)("h1",{className:"text-xl font-bold",children:"Trip Confirmed"}),(0,Vo.jsx)("div",{className:"w-10"})]})}),(0,Vo.jsx)("div",{className:"px-6 pb-24",children:(0,Vo.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-green-600 rounded-lg p-6 text-center",children:[(0,Vo.jsx)("div",{className:"text-2xl mb-2",children:"\u2705"}),(0,Vo.jsx)("h2",{className:"text-xl font-bold mb-1",children:"Trip Confirmed!"}),(0,Vo.jsx)("p",{className:"text-green-100",children:"Your driver is on the way"})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold",children:"Driver Details"}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(cl,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Vo.jsx)("span",{className:"text-sm",children:r.rating})]})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,Vo.jsx)("div",{className:"w-16 h-16 bg-primary-600 rounded-full flex items-center justify-center text-2xl",children:r.avatar}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("h4",{className:"font-semibold",children:r.name}),(0,Vo.jsxs)("p",{className:"text-gray-400 text-sm",children:[r.carModel," \u2022 ",r.carNumber]}),(0,Vo.jsxs)("p",{className:"text-primary-400 text-sm",children:["ETA: ",r.eta]})]})]}),(0,Vo.jsxs)("div",{className:"flex space-x-3",children:[(0,Vo.jsxs)(Uo,{onClick:()=>{window.open("tel:".concat(r.phone))},className:"flex-1 bg-primary-600 hover:bg-primary-700",children:[(0,Vo.jsx)(Cl,{className:"w-4 h-4 mr-2"}),"Call"]}),(0,Vo.jsxs)(Uo,{onClick:()=>{alert("Chat feature coming soon!")},variant:"outline",className:"flex-1",children:[(0,Vo.jsx)(Hk,{className:"w-4 h-4 mr-2"}),"Message"]})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Trip Details"}),(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Pickup"}),(0,Vo.jsx)("p",{className:"font-medium",children:null===t||void 0===t?void 0:t.pickupLocation.address})]})]}),(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Destination"}),(0,Vo.jsx)("p",{className:"font-medium",children:null===t||void 0===t?void 0:t.destination.address})]})]})]}),(0,Vo.jsxs)("div",{className:"mt-6 pt-4 border-t border-dark-600",children:[(0,Vo.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Distance"}),(0,Vo.jsx)("span",{className:"font-medium",children:(null===t||void 0===t?void 0:t.distance)&&Wk(t.distance)})]}),(0,Vo.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Duration"}),(0,Vo.jsx)("span",{className:"font-medium",children:(null===t||void 0===t?void 0:t.duration)&&Kk(t.duration)})]}),(0,Vo.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,Vo.jsx)("span",{children:"Total Fare"}),(0,Vo.jsx)("span",{className:"text-primary-400",children:(null===t||void 0===t?void 0:t.fare)&&qk(t.fare)})]})]})]}),(0,Vo.jsx)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:(0,Vo.jsx)(Uo,{onClick:()=>{window.confirm("Are you sure you want to cancel this trip?")&&e("/")},variant:"outline",className:"w-full border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:"Cancel Trip"})})]})})]})},Qk=()=>{const e=ne(),[t,n]=(0,s.useState)("current"),[r,i]=(0,s.useState)([]);(0,s.useEffect)(()=>{i([{id:"TRIP001",userId:"1",driverId:"DR001",pickupLocation:{address:"Home Address, Delhi",coordinates:{lat:28.7041,lng:77.1025}},destination:{address:"Indira Gandhi International Airport, Delhi",coordinates:{lat:28.5562,lng:77.1}},serviceType:"airport",status:"in-progress",fare:850,distance:18.5,duration:45,createdAt:new Date(Date.now()-72e5),updatedAt:new Date},{id:"TRIP002",userId:"1",driverId:"DR002",pickupLocation:{address:"Connaught Place, Delhi",coordinates:{lat:28.6315,lng:77.2167}},destination:{address:"Lajpat Nagar, Delhi",coordinates:{lat:28.567,lng:77.2431}},serviceType:"rental",status:"completed",fare:320,distance:8.2,duration:25,createdAt:new Date(Date.now()-864e5),updatedAt:new Date(Date.now()-828e5)},{id:"TRIP003",userId:"1",driverId:"DR003",pickupLocation:{address:"Delhi Railway Station",coordinates:{lat:28.6421,lng:77.2205}},destination:{address:"Gurgaon Cyber City",coordinates:{lat:28.5011,lng:77.0945}},serviceType:"intercity",status:"completed",fare:650,distance:25.3,duration:55,createdAt:new Date(Date.now()-2592e5),updatedAt:new Date(Date.now()-2592e5+33e5)}])},[]);const a=r.filter(e=>"in-progress"===e.status||"confirmed"===e.status),o=r.filter(e=>"completed"===e.status||"cancelled"===e.status),l=e=>{switch(e){case"confirmed":case"in-progress":return"text-green-400";case"completed":return"text-blue-400";case"cancelled":return"text-red-400";default:return"text-gray-400"}},c=e=>{switch(e){case"confirmed":case"in-progress":return"\ud83d\ude97";case"completed":return"\u2705";case"cancelled":return"\u274c";default:return"\u23f3"}};return(0,Vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-800 to-dark-900 text-white",children:[(0,Vo.jsx)("div",{className:"px-6 pt-12 pb-6",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Vo.jsx)(vl,{className:"w-5 h-5"}),(0,Vo.jsx)("span",{children:"Back"})]}),(0,Vo.jsx)("h1",{className:"text-xl font-bold",children:"My Rides"}),(0,Vo.jsx)("div",{className:"w-10"})]})}),(0,Vo.jsx)("div",{className:"px-6 mb-6",children:(0,Vo.jsxs)("div",{className:"flex space-x-2 max-w-2xl mx-auto",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>n("current"),className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all ".concat("current"===t?"bg-primary-600 text-white":"bg-dark-700 text-gray-300 hover:bg-dark-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:["Current (",a.length,")"]}),(0,Vo.jsxs)(Fo.button,{onClick:()=>n("past"),className:"flex-1 py-3 px-4 rounded-lg font-medium transition-all ".concat("past"===t?"bg-primary-600 text-white":"bg-dark-700 text-gray-300 hover:bg-dark-600"),whileHover:{scale:1.02},whileTap:{scale:.98},children:["Past (",o.length,")"]})]})}),(0,Vo.jsx)("div",{className:"px-6 pb-24",children:(0,Vo.jsxs)("div",{className:"max-w-2xl mx-auto space-y-4",children:[("current"===t?a:o).map((e,t)=>{return(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"text-2xl",children:c(e.status)}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsxs)("h3",{className:"font-semibold capitalize",children:[e.serviceType," Trip"]}),(0,Vo.jsx)("p",{className:"text-sm ".concat(l(e.status)),children:e.status.replace("-"," ")})]})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsx)("p",{className:"font-bold text-primary-400",children:qk(e.fare)}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:(n=e.createdAt,new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"}).format(n))})]})]}),(0,Vo.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"From"}),(0,Vo.jsx)("p",{className:"text-sm font-medium",children:e.pickupLocation.address})]})]}),(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2"}),(0,Vo.jsxs)("div",{className:"flex-1",children:[(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"To"}),(0,Vo.jsx)("p",{className:"text-sm font-medium",children:e.destination.address})]})]})]}),(0,Vo.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-400",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(ol,{className:"w-4 h-4"}),(0,Vo.jsx)("span",{children:e.distance&&Wk(e.distance)})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(Wo,{className:"w-4 h-4"}),(0,Vo.jsx)("span",{children:e.duration&&Kk(e.duration)})]}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Vo.jsx)(Go,{className:"w-4 h-4"}),(0,Vo.jsx)("span",{className:"capitalize",children:e.serviceType})]})]}),"completed"===e.status&&(0,Vo.jsx)("div",{className:"mt-4 pt-4 border-t border-dark-600",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsx)("span",{className:"text-sm text-gray-400",children:"Rate your trip"}),(0,Vo.jsx)("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(e=>(0,Vo.jsx)(Fo.button,{className:"text-gray-400 hover:text-yellow-400",whileHover:{scale:1.2},whileTap:{scale:.9},children:(0,Vo.jsx)(cl,{className:"w-5 h-5"})},e))})]})})]},e.id);var n}),0===("current"===t?a:o).length&&(0,Vo.jsxs)(Fo.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,Vo.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\ude97"}),(0,Vo.jsxs)("h3",{className:"text-xl font-semibold mb-2",children:["No ","current"===t?"current":"past"," trips"]}),(0,Vo.jsx)("p",{className:"text-gray-400",children:"current"===t?"You don't have any active trips right now.":"Your trip history will appear here."})]})]})}),(0,Vo.jsx)(nl,{})]})},Yk=Ho("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Xk=Ho("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),$k=()=>{const e=ne(),[t,n]=(0,s.useState)(!1),[r]=(0,s.useState)("SHREYANSH50"),[i]=(0,s.useState)([{name:"Rahul Kumar",date:"2 days ago",status:"completed",reward:100},{name:"Priya Singh",date:"1 week ago",status:"completed",reward:100},{name:"Amit Patel",date:"2 weeks ago",status:"pending",reward:100}]),a=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(e){const t=document.createElement("textarea");t.value=r,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),n(!0),setTimeout(()=>n(!1),2e3)}},o=i.reduce((e,t)=>"completed"===t.status?e+t.reward:e,0),l=i.reduce((e,t)=>"pending"===t.status?e+t.reward:e,0);return(0,Vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-800 to-dark-900 text-white",children:[(0,Vo.jsx)("div",{className:"px-6 pt-12 pb-6",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Vo.jsx)(vl,{className:"w-5 h-5"}),(0,Vo.jsx)("span",{children:"Back"})]}),(0,Vo.jsx)("h1",{className:"text-xl font-bold",children:"Refer & Earn"}),(0,Vo.jsx)("div",{className:"w-10"})]})}),(0,Vo.jsx)("div",{className:"px-6 pb-24",children:(0,Vo.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-center",children:[(0,Vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83c\udf81"}),(0,Vo.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Earn \u20b9100 for every friend!"}),(0,Vo.jsx)("p",{className:"text-primary-100",children:"Share your referral code and both you and your friend get \u20b9100 off"})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4",children:[(0,Vo.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4 text-center",children:[(0,Vo.jsxs)("div",{className:"text-2xl font-bold text-primary-400",children:["\u20b9",o]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Total Earned"})]}),(0,Vo.jsxs)("div",{className:"bg-dark-700 rounded-lg p-4 text-center",children:[(0,Vo.jsxs)("div",{className:"text-2xl font-bold text-yellow-400",children:["\u20b9",l]}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Pending"})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Your Referral Code"}),(0,Vo.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,Vo.jsx)("div",{className:"flex-1 bg-dark-600 rounded-lg p-4 text-center",children:(0,Vo.jsx)("span",{className:"text-2xl font-mono font-bold text-primary-400",children:r})}),(0,Vo.jsx)(Fo.button,{onClick:a,className:"bg-primary-600 hover:bg-primary-700 p-4 rounded-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,Vo.jsx)(Yk,{className:"w-5 h-5"})})]}),t&&(0,Vo.jsx)(Fo.p,{initial:{opacity:0},animate:{opacity:1},className:"text-green-400 text-center text-sm",children:"Code copied to clipboard!"}),(0,Vo.jsxs)(Uo,{onClick:()=>{navigator.share?navigator.share({title:"Paryatnam Cabs - Refer & Earn",text:"Use my referral code ".concat(r," to get \u20b9100 off your first ride on Paryatnam Cabs!"),url:"https://paryatnamcabs.com"}):a()},className:"w-full bg-primary-600 hover:bg-primary-700",children:[(0,Vo.jsx)(Xk,{className:"w-4 h-4 mr-2"}),"Share Referral Code"]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"How it Works"}),(0,Vo.jsxs)("div",{className:"space-y-4",children:[(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"font-medium",children:"Share your referral code"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Send it to friends via message, social media, or email"})]})]}),(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"font-medium",children:"Friend books their first ride"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"They use your code when signing up"})]})]}),(0,Vo.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Vo.jsx)("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"font-medium",children:"Both get \u20b9100 off"}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:"Reward credited after their first completed trip"})]})]})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Your Referrals"}),i.length>0?(0,Vo.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},className:"flex items-center justify-between p-3 bg-dark-600 rounded-lg",children:[(0,Vo.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Vo.jsx)("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:(0,Vo.jsx)(ml,{className:"w-5 h-5"})}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("p",{className:"font-medium",children:e.name}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.date})]})]}),(0,Vo.jsxs)("div",{className:"text-right",children:[(0,Vo.jsx)("p",{className:"text-sm ".concat("completed"===e.status?"text-green-400":"text-yellow-400"),children:"completed"===e.status?"Completed":"Pending"}),(0,Vo.jsxs)("p",{className:"text-primary-400 font-medium",children:["\u20b9",e.reward]})]})]},t))}):(0,Vo.jsxs)("div",{className:"text-center py-8",children:[(0,Vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udc65"}),(0,Vo.jsx)("h4",{className:"text-lg font-medium mb-2",children:"No referrals yet"}),(0,Vo.jsx)("p",{className:"text-gray-400",children:"Share your code to start earning rewards!"})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Terms & Conditions"}),(0,Vo.jsxs)("div",{className:"space-y-2 text-sm text-gray-400",children:[(0,Vo.jsx)("p",{children:"\u2022 Referral rewards are valid for 30 days"}),(0,Vo.jsx)("p",{children:"\u2022 Both referrer and referee must complete their first trip"}),(0,Vo.jsx)("p",{children:"\u2022 Rewards can be used on any Paryatnam Cabs service"}),(0,Vo.jsx)("p",{children:"\u2022 Maximum 10 referrals per month"}),(0,Vo.jsx)("p",{children:"\u2022 Company reserves the right to modify terms"})]})]})]})}),(0,Vo.jsx)(nl,{})]})},Jk=Ho("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Zk=Ho("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),eN=()=>{const e=ne(),[t,n]=(0,s.useState)(null),r=[{icon:(0,Vo.jsx)(Cl,{className:"w-6 h-6"}),title:"Call Support",subtitle:"24/7 Customer Care",value:"+91 1800 123 4567",action:()=>window.open("tel:+9118001234567")},{icon:(0,Vo.jsx)(Hk,{className:"w-6 h-6"}),title:"Live Chat",subtitle:"Instant Support",value:"Available 24/7",action:()=>alert("Live chat feature coming soon!")},{icon:(0,Vo.jsx)(Jk,{className:"w-6 h-6"}),title:"Email Support",subtitle:"Detailed Queries",value:"support@paryatnamcabs.com",action:()=>window.open("mailto:support@paryatnamcabs.com")},{icon:(0,Vo.jsx)(ol,{className:"w-6 h-6"}),title:"Office Address",subtitle:"Headquarters",value:"Delhi, India",action:()=>alert("Office: Paryatnam Cabs HQ, Connaught Place, New Delhi")}];return(0,Vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-800 to-dark-900 text-white",children:[(0,Vo.jsx)("div",{className:"px-6 pt-12 pb-6",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Vo.jsx)(vl,{className:"w-5 h-5"}),(0,Vo.jsx)("span",{children:"Back"})]}),(0,Vo.jsx)("h1",{className:"text-xl font-bold",children:"Help & Support"}),(0,Vo.jsx)("div",{className:"w-10"})]})}),(0,Vo.jsx)("div",{className:"px-6 pb-24",children:(0,Vo.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-center",children:[(0,Vo.jsx)("div",{className:"text-4xl mb-4",children:"\u2753"}),(0,Vo.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"How can we help you?"}),(0,Vo.jsx)("p",{className:"text-primary-100",children:"Find answers to common questions or get in touch with our support team"})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),(0,Vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((e,t)=>(0,Vo.jsxs)(Fo.button,{onClick:e.action,className:"flex items-center space-x-3 p-4 bg-dark-600 rounded-lg hover:bg-dark-500 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,Vo.jsx)("div",{className:"text-primary-400",children:e.icon}),(0,Vo.jsxs)("div",{className:"text-left",children:[(0,Vo.jsx)("p",{className:"font-medium",children:e.title}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.subtitle}),(0,Vo.jsx)("p",{className:"text-sm text-primary-400",children:e.value})]})]},t))})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Frequently Asked Questions"}),(0,Vo.jsx)("div",{className:"space-y-3",children:[{question:"How do I book a ride?",answer:"Simply open the app, select your service type (Airport, Rental, Intercity, or Delivery), enter your pickup and destination locations, and tap 'Book Ride'. Your driver will be assigned within minutes."},{question:"What payment methods are accepted?",answer:"We accept all major credit/debit cards, UPI, digital wallets (Paytm, PhonePe, Google Pay), and cash payments. You can also add money to your Paryatnam wallet for seamless payments."},{question:"Can I cancel my booking?",answer:"Yes, you can cancel your booking up to 5 minutes after confirmation without any charges. Cancellations after this period may incur a small cancellation fee."},{question:"How do I track my driver?",answer:"Once your ride is confirmed, you'll see your driver's location in real-time on the map. You can also call or message your driver directly through the app."},{question:"What if I left something in the car?",answer:"Contact our support team immediately with your trip details. We'll help you get in touch with your driver to recover your lost items."},{question:"How do I report an issue?",answer:"You can report issues through the app's 'Help & Support' section, call our 24/7 support line, or email us. We typically respond within 2 hours."},{question:"Are your drivers verified?",answer:"Yes, all our drivers undergo thorough background checks, vehicle inspections, and training programs. They are also regularly monitored for quality and safety."},{question:"Do you operate 24/7?",answer:"Yes, Paryatnam Cabs operates 24/7 across all major cities. However, availability may vary during late night hours in some areas."}].map((e,r)=>(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+.05*r},className:"border border-dark-600 rounded-lg overflow-hidden",children:[(0,Vo.jsxs)("button",{onClick:()=>n(t===r?null:r),className:"w-full flex items-center justify-between p-4 text-left hover:bg-dark-600 transition-colors",children:[(0,Vo.jsx)("span",{className:"font-medium",children:e.question}),(0,Vo.jsx)(Fo.div,{animate:{rotate:t===r?180:0},transition:{duration:.2},children:(0,Vo.jsx)(Zk,{className:"w-5 h-5 text-gray-400"})})]}),(0,Vo.jsx)(tl,{children:t===r&&(0,Vo.jsx)(Fo.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:(0,Vo.jsx)("div",{className:"px-4 pb-4 text-gray-300 text-sm leading-relaxed",children:e.answer})})})]},r))})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),(0,Vo.jsxs)("div",{className:"space-y-3",children:[(0,Vo.jsxs)(Uo,{onClick:()=>e("/my-rides"),variant:"outline",className:"w-full justify-start",children:[(0,Vo.jsx)("span",{className:"mr-3",children:"\ud83d\udccb"}),"View My Trip History"]}),(0,Vo.jsxs)(Uo,{onClick:()=>e("/refer-earn"),variant:"outline",className:"w-full justify-start",children:[(0,Vo.jsx)("span",{className:"mr-3",children:"\ud83c\udf81"}),"Refer & Earn Program"]}),(0,Vo.jsxs)(Uo,{onClick:()=>alert("Safety features coming soon!"),variant:"outline",className:"w-full justify-start",children:[(0,Vo.jsx)("span",{className:"mr-3",children:"\ud83d\udee1\ufe0f"}),"Safety Features"]})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Support Hours"}),(0,Vo.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Customer Support"}),(0,Vo.jsx)("span",{children:"24/7"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Technical Support"}),(0,Vo.jsx)("span",{children:"6 AM - 12 AM"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Email Response"}),(0,Vo.jsx)("span",{children:"Within 2 hours"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Live Chat"}),(0,Vo.jsx)("span",{children:"24/7"})]})]})]})]})}),(0,Vo.jsx)(nl,{})]})},tN=()=>{const e=ne(),t=[{icon:(0,Vo.jsx)(ml,{className:"w-6 h-6"}),value:"1M+",label:"Happy Customers"},{icon:(0,Vo.jsx)(Go,{className:"w-6 h-6"}),value:"50K+",label:"Verified Drivers"},{icon:(0,Vo.jsx)(Ko,{className:"w-6 h-6"}),value:"25+",label:"Cities Covered"},{icon:(0,Vo.jsx)(cl,{className:"w-6 h-6"}),value:"4.8",label:"App Rating"}];return(0,Vo.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-dark-800 to-dark-900 text-white",children:[(0,Vo.jsx)("div",{className:"px-6 pt-12 pb-6",children:(0,Vo.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Vo.jsxs)(Fo.button,{onClick:()=>e("/"),className:"flex items-center space-x-2 text-gray-300 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,Vo.jsx)(vl,{className:"w-5 h-5"}),(0,Vo.jsx)("span",{children:"Back"})]}),(0,Vo.jsx)("h1",{className:"text-xl font-bold",children:"About"}),(0,Vo.jsx)("div",{className:"w-10"})]})}),(0,Vo.jsx)("div",{className:"px-6 pb-24",children:(0,Vo.jsxs)("div",{className:"max-w-2xl mx-auto space-y-6",children:[(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-primary-600 to-primary-700 rounded-lg p-6 text-center",children:[(0,Vo.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\ude97"}),(0,Vo.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Paryatnam Cabs"}),(0,Vo.jsx)("p",{className:"text-primary-100",children:"Premium cab booking service for safe and comfortable travel"})]}),(0,Vo.jsx)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 gap-4",children:t.map((e,t)=>(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2+.1*t},className:"bg-dark-700 rounded-lg p-4 text-center",children:[(0,Vo.jsx)("div",{className:"text-primary-400 mb-2 flex justify-center",children:e.icon}),(0,Vo.jsx)("div",{className:"text-2xl font-bold text-primary-400",children:e.value}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.label})]},t))}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"About Us"}),(0,Vo.jsxs)("div",{className:"space-y-4 text-gray-300",children:[(0,Vo.jsx)("p",{children:"Paryatnam Cabs was founded in 2020 with a vision to revolutionize the way people travel in India. We believe that every journey should be safe, comfortable, and memorable."}),(0,Vo.jsx)("p",{children:"Our mission is to provide premium cab booking services with the highest standards of safety, reliability, and customer satisfaction. We work with verified drivers and maintain a fleet of well-maintained vehicles to ensure your comfort."}),(0,Vo.jsx)("p",{children:"Today, we operate in 25+ cities across India, serving over 1 million happy customers with our commitment to excellence and innovation."})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Why Choose Paryatnam Cabs?"}),(0,Vo.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{icon:"\ud83d\ude97",title:"Premium Vehicles",description:"Well-maintained, clean vehicles for your comfort"},{icon:"\ud83d\udee1\ufe0f",title:"Safe Travel",description:"Verified drivers with background checks"},{icon:"\u26a1",title:"Quick Booking",description:"Book your ride in seconds with our app"},{icon:"\ud83d\udcb0",title:"Best Prices",description:"Competitive pricing with no hidden charges"},{icon:"\ud83d\udcf1",title:"Real-time Tracking",description:"Track your driver's location in real-time"},{icon:"\ud83c\udf81",title:"Rewards Program",description:"Earn rewards and discounts on every ride"}].map((e,t)=>(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5+.1*t},className:"flex items-start space-x-3 p-3 bg-dark-600 rounded-lg",children:[(0,Vo.jsx)("div",{className:"text-2xl",children:e.icon}),(0,Vo.jsxs)("div",{children:[(0,Vo.jsx)("h4",{className:"font-medium mb-1",children:e.title}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.description})]})]},t))})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Our Leadership Team"}),(0,Vo.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[{name:"Rajesh Kumar",role:"CEO & Founder",avatar:"\ud83d\udc68\u200d\ud83d\udcbc"},{name:"Priya Sharma",role:"CTO",avatar:"\ud83d\udc69\u200d\ud83d\udcbb"},{name:"Amit Patel",role:"Head of Operations",avatar:"\ud83d\udc68\u200d\ud83d\udd27"},{name:"Neha Singh",role:"Head of Customer Care",avatar:"\ud83d\udc69\u200d\ud83d\udcac"}].map((e,t)=>(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7+.1*t},className:"text-center p-4 bg-dark-600 rounded-lg",children:[(0,Vo.jsx)("div",{className:"text-3xl mb-2",children:e.avatar}),(0,Vo.jsx)("h4",{className:"font-medium",children:e.name}),(0,Vo.jsx)("p",{className:"text-sm text-gray-400",children:e.role})]},t))})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-dark-700 rounded-lg p-6",children:[(0,Vo.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"App Information"}),(0,Vo.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Version"}),(0,Vo.jsx)("span",{children:"1.0.0"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Build"}),(0,Vo.jsx)("span",{children:"2024.08.20"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Platform"}),(0,Vo.jsx)("span",{children:"React Native"})]}),(0,Vo.jsxs)("div",{className:"flex justify-between",children:[(0,Vo.jsx)("span",{className:"text-gray-400",children:"Last Updated"}),(0,Vo.jsx)("span",{children:"August 20, 2024"})]})]})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"space-y-3",children:[(0,Vo.jsx)(Uo,{onClick:()=>e("/help-support"),variant:"outline",className:"w-full",children:"Contact Support"}),(0,Vo.jsx)(Uo,{onClick:()=>alert("Privacy Policy coming soon!"),variant:"outline",className:"w-full",children:"Privacy Policy"}),(0,Vo.jsx)(Uo,{onClick:()=>alert("Terms of Service coming soon!"),variant:"outline",className:"w-full",children:"Terms of Service"})]}),(0,Vo.jsxs)(Fo.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center text-gray-400 text-sm",children:[(0,Vo.jsx)("p",{children:"\xa9 2024 Paryatnam Cabs. All rights reserved."}),(0,Vo.jsx)("p",{className:"mt-1",children:"Made with \u2764\ufe0f in India"})]})]})}),(0,Vo.jsx)(nl,{})]})};const nN=function(){return(0,Vo.jsx)(be,{children:(0,Vo.jsx)("div",{className:"App",children:(0,Vo.jsxs)(ve,{children:[(0,Vo.jsx)(ge,{path:"/",element:(0,Vo.jsx)(zk,{})}),(0,Vo.jsx)(ge,{path:"/booking-confirmation",element:(0,Vo.jsx)(Gk,{})}),(0,Vo.jsx)(ge,{path:"/my-rides",element:(0,Vo.jsx)(Qk,{})}),(0,Vo.jsx)(ge,{path:"/refer-earn",element:(0,Vo.jsx)($k,{})}),(0,Vo.jsx)(ge,{path:"/help-support",element:(0,Vo.jsx)(eN,{})}),(0,Vo.jsx)(ge,{path:"/about",element:(0,Vo.jsx)(tN,{})})]})})})};a.createRoot(document.getElementById("root")).render((0,Vo.jsx)(s.StrictMode,{children:(0,Vo.jsx)(nN,{})}))})();
//# sourceMappingURL=main.9672ccbe.js.map